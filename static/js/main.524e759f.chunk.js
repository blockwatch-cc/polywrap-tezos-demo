(this.webpackJsonppolydomains=this.webpackJsonppolydomains||[]).push([[0],{1052:function(e,t){},1054:function(e,t){},1071:function(e,t){},1099:function(e,t){},1100:function(e,t){},1131:function(e,t,n){},1136:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(121),a=n.n(i),c=n(146),s=n(56),u=n(98),l=n(27),d=n(152),f=(n(519),n(100)),h=n(318),p=n(320),b=n(321),m=n(322),j=n.p+"static/media/search.db237059.png",v=n(9);var g=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(v.jsx)(h.a,{minHeight:"100vh",children:Object(v.jsxs)(h.a,{d:"block",children:[Object(v.jsx)(h.b,{w:"100%",children:Object(v.jsx)(p.a,{justifyContent:"center",boxSize:"20vw",pt:"0",objectFit:"contain",src:j})}),Object(v.jsx)(h.g,{letterSpacing:"wide",size:"4xl",textAlign:"center",children:"PolyDomains"}),Object(v.jsx)(h.a,{d:"flex",mt:"16",justifyContent:"center",children:Object(v.jsxs)(h.a,{d:"flex",width:"60vw",children:[Object(v.jsxs)(b.b,{children:[Object(v.jsx)(b.c,{py:"2rem",px:"1rem",bg:"white",children:Object(v.jsx)(f.d,{color:"gray.300"})}),Object(v.jsx)(b.a,{variant:"outline",colorScheme:"whiteAlpha",placeholder:"Search for Tezos domain",onChange:function(e){o(e.target.value)},value:n,bg:"white",size:"md",mr:0,p:"2rem"})]}),Object(v.jsx)(u.b,{to:{pathname:"/search",search:"?domain=".concat(n)},children:Object(v.jsx)(m.a,{p:"2rem",colorScheme:"teal",borderRadius:0,children:"Search"})})]})})]})})},O=n(1),x=n.n(O),y=n(49),w=n(122),S=n(480),_=n(484),C={granadanet:{provider:"https://rpc.granada.tzstats.com",supportedTLDs:["gra"]},hangzhounet:{provider:"https://rpc.hangzhou.tzstats.com",supportedTLDs:["han"]},mainnet:{provider:"https://rpc.tzstats.com",supportedTLDs:["tez"]}},D=new S.Web3ApiClient({plugins:[{uri:"w3://ens/tezos-domains.web3api.eth",plugin:Object(_.tezosDomainsPlugin)({connections:C,defaultNetwork:"mainnet"})}]}),k="w3://ens/tezos-domains.web3api.eth",T=function(){var e=Object(w.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.query({uri:k,query:'\n            query {\n                resolveDomainRecords(connection: $connection, domain: "'.concat(n,'" )\n            }\n        '),variables:{connection:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(w.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.query({uri:k,query:'\n            query {\n                getAcquisitionInfo(connection: $connection, domain: "'.concat(n,'" )\n            },\n        '),variables:{connection:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=n(477),R=Object(r.createContext)({app:{network:"mainnet"},setApp:function(){}}),P=function(e){var t=e.showSearch,n=Object(r.useState)(""),o=Object(s.a)(n,2),i=o[0],a=o[1],c=Object(r.useContext)(R),l=c.app,d=c.setApp;return Object(v.jsxs)(h.c,{justifyContent:"space-between",mx:40,children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(u.b,{to:{pathname:"/"},children:Object(v.jsx)(h.g,{letterSpacing:"wide",size:"1xl",pt:"5",textAlign:"center",children:"PolyDomains"})})}),t?Object(v.jsxs)(h.a,{d:"flex",mt:"5",children:[Object(v.jsxs)(b.b,{children:[Object(v.jsx)(b.c,{py:"1rem",px:"1rem",bg:"white",children:Object(v.jsx)(f.d,{color:"gray.300"})}),Object(v.jsx)(b.a,{colorScheme:"whiteAlpha",p:"1rem",variant:"outline",placeholder:"Search for Tezos domain",bg:"white",size:"md",onChange:function(e){a(e.target.value)},mr:0})]}),Object(v.jsx)(u.b,{to:{pathname:"/search",search:"?domain=".concat(i)},children:Object(v.jsx)(m.a,{p:"1rem",colorScheme:"teal",borderRadius:0,children:"Search"})})]}):null,Object(v.jsx)(h.j,{spacing:3,mt:"5",children:Object(v.jsx)(z.a,{size:"sm",value:l.network,onChange:function(e){d((function(t){return Object(y.a)(Object(y.a)({},t),{},{network:e.target.value})}))},children:Object.keys(C).map((function(e,t){return Object(v.jsx)("option",{value:e,children:e},"".concat(e,"-").concat(t))}))})})]})},I=function(){return Object(v.jsx)("div",{className:"loader loader--style1",title:"0",children:Object(v.jsxs)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"80px",height:"80px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",xmlSpace:"preserve",children:[Object(v.jsx)("path",{opacity:"0.2",fill:"#2c7a7b",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),Object(v.jsx)("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z",children:Object(v.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})})]})})},E=function(e,t){switch(t.state){case"LOADING":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:null,errors:null});case"QUERY_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:t.payload,errors:null});case"QUERY_FAILED":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:null,errors:t.errors});case"UPDATE_DOMAIN":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,name:t.name});default:return}},U=function(e,t){switch(t.state){case"LOADING":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:null,errors:null});case"QUERY_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:t.payload,errors:null});case"QUERY_FAILED":return Object(y.a)(Object(y.a)({},e),{},{state:t.state,payload:null,errors:t.errors});default:return}},N=function(e,t){var n;return e[0]&&(n=e[0].message.match(/(?<=exception: ).*/)[0]),!n&&t&&(n=t),n||(n="failed to get information"),n},M=function(e){var t=e.split(".");return t[t.length-1]};var q=function(){var e="",t=Object(l.e)(),n=new URLSearchParams(t.search),o=Object(r.useContext)(R),i=o.app,a=o.setApp,c=n.get("domain");"string"===typeof c&&c.length>0&&(e=c);var p=Object(r.useReducer)(E,{state:"",name:e,payload:null,errors:null}),j=Object(s.a)(p,2),g=j[0],O=j[1],S=function(){var e=Object(w.a)(x.a.mark((function e(){var t,n,r,o,c,s,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof g.name&&0!==g.name.length){e.next=2;break}return e.abrupt("return");case 2:if(O({state:"LOADING"}),n=i.network,r=M(g.name),C[i.network].supportedTLDs.includes(r)){e.next=15;break}o=function(){var e=s[c];if(C[e].supportedTLDs.includes(r))return n=e,a((function(t){return Object(y.a)(Object(y.a)({},t),{},{network:e})})),"break"},c=0,s=Object.keys(C);case 8:if(!(c<s.length)){e.next=15;break}if("break"!==o()){e.next=12;break}return e.abrupt("break",15);case 12:c++,e.next=8;break;case 15:return e.next=17,A({network:n},g.name);case 17:if(!(u=e.sent).errors){e.next=23;break}return l=N(u.errors,"failed to get domain avaialable"),d.b.error(l),O({state:"QUERY_FAILED",errors:u.errors}),e.abrupt("return");case 23:(null===(t=u.data.getAcquisitionInfo)||void 0===t?void 0:t.state)&&O({state:"QUERY_SUCCESS",payload:u.data.getAcquisitionInfo});case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),Object(v.jsxs)(h.a,{minHeight:"100vh",children:[Object(v.jsx)(P,{}),Object(v.jsx)(h.a,{d:"block",children:Object(v.jsx)(h.a,{d:"flex",mt:"10",justifyContent:"center",children:Object(v.jsxs)(h.a,{d:"flex",width:"60vw",children:[Object(v.jsxs)(b.b,{children:[Object(v.jsx)(b.c,{py:"2rem",px:"1rem",bg:"white",children:Object(v.jsx)(f.d,{color:"gray.300"})}),Object(v.jsx)(b.a,{colorScheme:"whiteAlpha",p:"2rem",variant:"outline",placeholder:"Search for Tezos domain",bg:"white",size:"md",value:g.name,onChange:function(e){O({state:"UPDATE_DOMAIN",name:e.target.value})},mr:0})]}),Object(v.jsx)(m.a,{p:"2rem",colorScheme:"teal",onClick:function(e){S()},borderRadius:0,children:"Search"})]})})}),"LOADING"===g.state?Object(v.jsx)(h.a,{mt:"20",d:"flex",justifyContent:"center",children:Object(v.jsx)(I,{})}):"QUERY_SUCCESS"===g.state?Object(v.jsx)(h.a,{mt:"10",d:"flex",justifyContent:"center",children:Object(v.jsx)(h.h,{spacing:3,children:Object(v.jsx)(h.i,{mt:"5",p:"8",pb:"10",borderRadius:"10",boxShadow:"xl",children:Object(v.jsxs)(h.c,{width:"60vw",justifyContent:"space-between",children:[Object(v.jsx)(h.a,{mr:2,children:Object(v.jsx)(h.k,{bgClip:"text",fontSize:"2xl",mt:"2",color:"black",children:g.name})}),["Taken","CanBeBought"].includes(g.payload.state)?Object(v.jsx)(h.a,{children:Object(v.jsx)(u.b,{to:"Taken"===g.payload.state?{pathname:"/details/".concat(g.name)}:{pathname:"/register/".concat(g.name)},children:"Taken"===g.payload.state?Object(v.jsxs)(m.a,{colorScheme:"teal",variant:"solid",size:"lg",children:[Object(v.jsx)(f.b,{color:"white",w:15,h:15}),Object(v.jsx)(h.k,{ml:"2",children:"View"})]}):Object(v.jsxs)(m.a,{colorScheme:"teal",variant:"solid",size:"lg",disabled:!0,children:[Object(v.jsx)(f.c,{color:"white",w:15,h:15}),Object(v.jsx)(h.k,{ml:"2",children:"Register"})]})})}):null]})})})}):null]})},B=n(48),L=n(478);var F=function(){var e,t,n,o,i,a=Object(l.g)().name,c=Object(r.useState)(""),u=Object(s.a)(c,2),p=u[0],j=u[1],g=Object(B.c)(p),O=g.hasCopied,y=g.onCopy,S=Object(r.useReducer)(U,{state:"",name:a,payload:null,errors:null}),_=Object(s.a)(S,2),C=_[0],D=_[1],k=Object(r.useContext)(R).app,A=function(){var e=Object(w.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof C.name&&0!==C.name.length){e.next=2;break}return e.abrupt("return");case 2:return D({state:"LOADING"}),e.next=5,T({network:k.network},C.name);case 5:if(!(t=e.sent).errors){e.next=11;break}return n=N(t.errors,"failed to get domain records"),d.b.error(n),D({state:"QUERY_FAILED",errors:t.errors}),e.abrupt("return");case 11:t.data.resolveDomainRecords&&(j(null===(r=t.data.resolveDomainRecords)||void 0===r?void 0:r.address),t.data.resolveDomainRecords.metadata=JSON.parse(t.data.resolveDomainRecords.data),D({state:"QUERY_SUCCESS",payload:t.data.resolveDomainRecords}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){A()}),[]),Object(v.jsxs)(h.a,{minHeight:"100vh",children:[Object(v.jsx)(P,{showSearch:!0}),Object(v.jsx)(h.a,{d:"block",children:Object(v.jsx)(h.a,{d:"flex",mt:"10",justifyContent:"center",children:Object(v.jsx)(h.a,{d:"flex",width:"80vw",borderRadius:"10",boxShadow:"xl",children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.e,{rowSpan:2,children:Object(v.jsx)(h.h,{spacing:3,children:Object(v.jsx)(h.i,{mt:"5",p:"8",pb:"10",children:Object(v.jsxs)(h.d,{templateColumns:"repeat(5, 1fr)",gap:6,children:[Object(v.jsx)(h.a,{w:"100%",h:"10",children:Object(v.jsx)(h.g,{letterSpacing:"wide",size:"2xl",textAlign:"center",children:a})}),"QUERY_SUCCESS"===C.state&&C.payload?Object(v.jsx)(h.a,{w:"100%",h:"10",gridColumnStart:5,children:p?Object(v.jsxs)(h.c,{mb:2,children:[Object(v.jsx)(b.a,{value:p,isReadOnly:!0,placeholder:"Welcome",py:"4"}),Object(v.jsxs)(m.a,{onClick:y,ml:2,children:[Object(v.jsx)(f.a,{color:"black"})," ",O?"Copied":"Copy"]})]}):null}):null]})})})}),Object(v.jsx)(h.e,{rowSpan:2,children:Object(v.jsx)(h.d,{p:"5",gap:4,children:"LOADING"===C.state?Object(v.jsx)(h.a,{mt:"20",d:"flex",justifyContent:"center",children:Object(v.jsx)(I,{})}):"QUERY_SUCCESS"===C.state?Object(v.jsx)(h.e,{colSpan:4,children:Object(v.jsxs)(L.e,{align:"start",variant:"enclosed",children:[Object(v.jsxs)(L.b,{children:[Object(v.jsx)(L.a,{children:"Details"}),Object(v.jsx)(L.a,{children:"Subdomains"})]}),Object(v.jsxs)(L.d,{children:[Object(v.jsx)(L.c,{children:Object(v.jsxs)(h.l,{align:"left",mt:"6",children:[Object(v.jsx)(h.g,{fontSize:"lg",mt:"2",children:"Address Details"}),Object(v.jsxs)(h.f,{spacing:"30px",align:"left",children:[Object(v.jsx)(h.a,{w:"130px",children:Object(v.jsx)(h.g,{fontSize:"md",mt:"2",children:"Name"})}),Object(v.jsx)(h.a,{w:"670px",children:Object(v.jsx)(h.k,{fontSize:"md",mt:"2",children:(null===C||void 0===C?void 0:C.name)?null===C||void 0===C?void 0:C.name:null})})]}),Object(v.jsxs)(h.f,{spacing:"30px",children:[Object(v.jsx)(h.a,{w:"130px",children:Object(v.jsx)(h.g,{fontSize:"md",mt:"2",children:"Address"})}),Object(v.jsx)(h.a,{w:"670px",children:Object(v.jsx)(h.k,{fontSize:"md",mt:"2",children:(null===C||void 0===C||null===(e=C.payload)||void 0===e?void 0:e.address)?null===C||void 0===C||null===(t=C.payload)||void 0===t?void 0:t.address:""})})]}),Object(v.jsxs)(h.f,{spacing:"30px",pb:"2",children:[Object(v.jsx)(h.a,{w:"130px",children:Object(v.jsx)(h.g,{fontSize:"md",mt:"2",children:"Expiry"})}),Object(v.jsx)(h.a,{w:"670px",children:Object(v.jsx)(h.k,{fontSize:"md",mt:"2",children:(null===C||void 0===C||null===(n=C.payload)||void 0===n?void 0:n.expiry)?null===C||void 0===C||null===(o=C.payload)||void 0===o?void 0:o.expiry:""})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(h.g,{fontSize:"lg",py:"2",children:"Additional Information"}),Object.keys(null===C||void 0===C||null===(i=C.payload)||void 0===i?void 0:i.metadata).map((function(e,t){var n;return Object(v.jsxs)(h.f,{spacing:"24px",children:[Object(v.jsx)(h.a,{w:"130px",children:Object(v.jsx)(h.g,{fontSize:"md",mt:"2",children:e})}),Object(v.jsx)(h.a,{w:"670px",children:Object(v.jsx)(h.k,{fontSize:"md",mt:"2",children:null===C||void 0===C||null===(n=C.payload)||void 0===n?void 0:n.metadata[e]})})]},"".concat(e,"-").concat(t))}))]})}),Object(v.jsx)(L.c,{children:Object(v.jsx)(h.k,{fontSize:"xl",mt:"5",textAlign:"center",children:" No Subdomains"})})]})]})}):null})})]})})})})]})};var Q=function(){var e=Object(r.useState)({network:"mainnet"}),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(v.jsxs)(R.Provider,{value:{app:n,setApp:o},children:[Object(v.jsx)(u.a,{children:Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{exact:!0,path:"/",element:Object(v.jsx)(g,{})}),Object(v.jsx)(l.a,{path:"/search",element:Object(v.jsx)(q,{})}),Object(v.jsx)(l.a,{path:"/details/:name",element:Object(v.jsx)(F,{})})]})}),Object(v.jsx)(d.a,{position:"top-center"})]})},W=(n(1131),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1155)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))});a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(c.a,{children:Object(v.jsx)(Q,{})})}),document.getElementById("root")),W()},383:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Mutation=t.Query=void 0,t.Query=i(n(802)),t.Mutation=i(n(803)),a(n(804),t),a(n(805),t),a(n(806),t)},465:function(e,t){},484:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function c(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},l=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.plugin=t.tezosDomainsPlugin=t.TezosDomainPlugin=void 0;var f=n(801),h=n(383),p=c(n(807)),b=n(384),m=n(1138),j=n(1096),v=n(173),g=n(306),O=n(17),x=n(29),y=function(e){function t(n){var r,o,i=e.call(this)||this;return i._config=n,i._connections={},i._config.connections&&i.setConnections(i._config.connections),i._config.defaultNetwork&&(null===(r=i._config.connections)||void 0===r?void 0:r[i._config.defaultNetwork])&&(t.defaultNetwork=i._config.defaultNetwork,t.defaultConnection=null===(o=i._config.connections)||void 0===o?void 0:o[i._config.defaultNetwork]),i}return r(t,e),t.manifest=function(){return h.manifest},t.prototype.getModules=function(e){return{query:(0,f.query)(this,e),mutation:(0,f.mutation)(this,e)}},t.prototype.setConnections=function(e){var t,n;try{for(var r=l(Object.keys(e)),o=r.next();!o.done;o=r.next()){var i=o.value,a=i.toLowerCase();this._connections[a]=e[i]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.resolveDomain=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.getTezosDomainsClient(e.connection)];case 1:if(!(t=r.sent()).validator.validateDomainName(e.domain))throw new Error("Address is not valid: ".concat(e.domain));return[4,t.resolver.resolveNameToAddress(e.domain)];case 2:if(!(n=r.sent()))throw new Error("Address: ".concat(n," could not be resolved to a valid tezos address"));return[2,n]}}))}))},t.prototype.resolveAddressToDomain=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return[4,this.getTezosDomainsClient(e.connection)];case 1:return[4,n.sent().resolver.resolveAddressToName(e.address)];case 2:if(!(t=n.sent()))throw new Error("\n      reverse record with the specified address does not exist or \n      reverse record with the specified address does not specify a name or\n      record with the name specified by the reverse record does not exist or\n      record with the name specified by the reverse record is expired or");return[2,t]}}))}))},t.prototype.resolveDomainRecords=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return[4,this.getTezosDomainsClient(e.connection)];case 1:return[4,n.sent().resolver.resolveDomainRecord(e.domain)];case 2:return(t=n.sent())?[2,p.toDomainRecords(t)]:[2,t]}}))}))},t.prototype.getAcquisitionInfo=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.getTezosDomainsClient(e.connection)];case 1:return[4,r.sent().manager.getAcquisitionInfo(e.domain)];case 2:return n=r.sent(),e.duration&&(t=n.calculatePrice(e.duration)),[2,{state:n.acquisitionState,cost:t}]}}))}))},t.prototype.getSupportedTlds=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.getTezosDomainsClient(e.connection)];case 1:return[2,t.sent().validator.supportedTLDs]}}))}))},t.prototype.setSignerWithSecretKeyParams=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getTezosDomainsClient(e.connection)];case 1:return i.sent(),t=e.params,n=t.key,r=t.passphrase,[4,j.InMemorySigner.fromSecretKey(n,r)];case 2:return o=i.sent(),this.setSigner(o),[2,{status:!0}];case 3:return[2,{status:!1,error:i.sent()}];case 4:return[2]}}))}))},t.prototype.setSignerWithFundraiserParams=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i;return u(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.getTezosDomainsClient(e.connection)];case 1:return a.sent(),t=e.params,n=t.email,r=t.password,o=t.mnemonic,[4,j.InMemorySigner.fromFundraiser(n,r,o)];case 2:return i=a.sent(),this.setSigner(i),[2,{status:!0}];case 3:return[2,{status:!1,error:a.sent()}];case 4:return[2]}}))}))},t.prototype.updateDomainRecord=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i,a,c,s,l,f,h,p,b;return u(this,(function(u){switch(u.label){case 0:return t=e.address,n=e.domain,r=e.owner,o=e.records,i=e.confirmation,(0,O.validateAddress)(r)?t&&!(0,O.validateAddress)(t)?[2,{status:!1,error:"Address '".concat(t,"' is not valid")}]:[4,this.getTezosDomainsClient(e.connection)]:[2,{status:!1,error:"Owner address '".concat(r,"' is not valid")}];case 1:return a=u.sent(),this._client.signer?(c=d(n.split("."),2),s=c[0],l=c[1],(f=this.validateDomain(a,s,l)).status?[4,a.resolver.resolveDomainRecord(n)]:[2,f]):[2,{status:!1,error:"Signer not available. Signer need to be set to be able to purchase a doamin"}];case 2:for(b in h=u.sent(),p=new x.RecordMetadata,h&&h.data&&(p=h.data),o)p.setJson(b,o[b]);return[4,a.manager.updateRecord({name:n,owner:r,address:t,data:p})];case 3:return[4,u.sent().confirmation(i||void 0)];case 4:return u.sent(),[2,{status:!0}]}}))}))},t.prototype.createSubDomain=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i,a,c,s,l;return u(this,(function(u){switch(u.label){case 0:return t=e.domain,n=e.subdomain,r=e.owner,(o=e.confirmation)||(o=5),(0,O.validateAddress)(r)?[4,this.getTezosDomainsClient(e.connection)]:[2,{status:!1,error:"Address '".concat(r,"' is not valid")}];case 1:return i=u.sent(),this._client.signer?(a=d(t.split("."),2),c=a[0],s=a[1],(l=this.validateDomain(i,c,s)).status?[4,i.manager.setChildRecord({label:n,parent:t,owner:r,address:r,data:new x.RecordMetadata})]:[2,l]):[2,{status:!1,error:"Signer not available. Signer need to be set to be able to purchase a doamin"}];case 2:return[4,u.sent().confirmation(o||void 0)];case 3:return u.sent(),[4,i.manager.claimReverseRecord({owner:r,name:"".concat(n,".").concat(t)})];case 4:return[4,u.sent().confirmation(o||void 0)];case 5:return u.sent(),[2,{status:!0}]}}))}))},t.prototype.buyDomain=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,a,c,s,l,f,h,p;return u(this,(function(u){switch(u.label){case 0:return t=e.domain,n=e.duration,r=e.owner,(i=e.confirmation)||(i=5),(0,O.validateAddress)(r)?[4,this.getTezosDomainsClient(e.connection)]:[2,{status:!1,error:"Address '".concat(r,"' is not valid")}];case 1:return a=u.sent(),this._client.signer?(c=d(t.split("."),2),s=c[0],l=c[1],(f=this.validateDomain(a,s,l)).status?[4,a.resolver.resolveNameToAddress("".concat(s,".").concat(l))]:[2,f]):[2,{status:!1,error:"Signer not available. Signer need to be set to be able to purchase a domain"}];case 2:return u.sent()?[2,{status:!1,error:"Domain name '".concat(s,".").concat(l,"' is already taken")}]:(h=(0,x.generateNonce)(),p={label:s,owner:r,nonce:h},[4,a.manager.commit(l,p)]);case 3:return[4,u.sent().confirmation(i)];case 4:return u.sent(),[4,a.manager.buy(l,o(o({},p),{duration:n,address:r,data:new x.RecordMetadata,nonce:h}))];case 5:return[4,u.sent().confirmation(i)];case 6:return u.sent(),[2,{status:!0}]}}))}))},t.prototype.validateDomain=function(e,t,n){return t?n&&e.validator.supportedTLDs.includes(n)?{status:!0}:{status:!1,error:"Domain TLD: '".concat(n,"' is not valid")}:{status:!1,error:"Domain name: '".concat(t,"' is not a valid name for a domain")}},t.prototype.setSigner=function(e){this._client.tezos.setSignerProvider(e),this._client.signer=e},t.prototype.getTezosDomainsClient=function(e){return s(this,void 0,void 0,(function(){var t,n,r;return u(this,(function(o){switch(o.label){case 0:return[4,this.getTezosClient(e)];case 1:return t=o.sent(),n=t.tezos,r=t.network,n.addExtension(new g.Tzip16Module),[2,new m.TaquitoTezosDomainsClient({tezos:n,network:r})]}}))}))},t.prototype.getTezosClient=function(e){return s(this,void 0,void 0,(function(){var n,r,o,i,a,c,s;return u(this,(function(u){switch(u.label){case 0:return!e&&this._client?[2,this._client]:e&&e.provider?(n={tezos:new v.TezosToolkit(e.provider),network:e.network},e.secretKey?[4,j.InMemorySigner.fromSecretKey(e.secretKey)]:[3,2]):[3,3];case 1:r=u.sent(),n.signer=r,u.label=2;case 2:return[3,4];case 3:if(e)try{for(o=l(Object.keys(this._connections)),i=o.next();!i.done;i=o.next())if((a=i.value)===e.network.toLowerCase()){n={tezos:new v.TezosToolkit(this._connections[a].provider),network:a,signer:this._connections[a].signer};break}}catch(d){c={error:d}}finally{try{i&&!i.done&&(s=o.return)&&s.call(o)}finally{if(c)throw c.error}}u.label=4;case 4:return n||(n={network:t.defaultNetwork,tezos:new v.TezosToolkit(t.defaultConnection.provider),signer:t.defaultConnection.signer}),this._client=n,this._client.signer&&this.setSigner(this._client.signer),[2,this._client]}}))}))},t.defaultNetwork="mainnet",t.defaultConnection={provider:"https://rpc.tzstats.com"},t}(b.Plugin);t.TezosDomainPlugin=y;t.tezosDomainsPlugin=function(e){return{factory:function(){return new y(e)},manifest:h.manifest}},t.plugin=t.tezosDomainsPlugin},716:function(e,t){},800:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=800},801:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function c(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.mutation=t.query=void 0;t.query=function(e,t){return{resolveDomain:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.resolveDomain(t)]}))}))},resolveAddressToDomain:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.resolveAddressToDomain(t)]}))}))},resolveDomainRecords:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.resolveDomainRecords(t)]}))}))},getSupportedTlds:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.getSupportedTlds(t)]}))}))},getAcquisitionInfo:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.getAcquisitionInfo(t)]}))}))}}};t.mutation=function(e,t){return{setSignerWithSecretKeyParams:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.setSignerWithSecretKeyParams(t)]}))}))},setSignerWithFundraiserParams:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.setSignerWithFundraiserParams(t)]}))}))},updateDomainRecord:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.updateDomainRecord(t)]}))}))},buyDomain:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.buyDomain(t)]}))}))},createSubDomain:function(t){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,e.createSubDomain(t)]}))}))}}}},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},804:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcquisitionStateEnum=void 0,function(e){e[e.Unobtainable=0]="Unobtainable",e[e.Taken=1]="Taken",e[e.CanBeBought=2]="CanBeBought",e[e.CanBeAuctioned=3]="CanBeAuctioned",e[e.AuctionInProgress=4]="AuctionInProgress",e[e.CanBeSettled=5]="CanBeSettled"}(t.AcquisitionStateEnum||(t.AcquisitionStateEnum={}))},805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0,t.schema="### Web3API Header START ###\nscalar UInt\nscalar UInt8\nscalar UInt16\nscalar UInt32\nscalar Int\nscalar Int8\nscalar Int16\nscalar Int32\nscalar Bytes\nscalar BigInt\nscalar JSON\n\ndirective @imported(\n  uri: String!\n  namespace: String!\n  nativeType: String!\n) on OBJECT | ENUM\n\ndirective @imports(\n  types: [String!]!\n) on OBJECT\n\ndirective @capability(\n  type: String!\n  uri: String!\n  namespace: String!\n) repeatable on OBJECT\n\ndirective @enabled_interface on OBJECT\n### Web3API Header END ###\n\ntype Query {\n  resolveDomain(\n    connection: Connection\n    domain: String!\n  ): String!\n\n  resolveAddressToDomain(\n    connection: Connection\n    address: String!\n  ): String!\n\n  resolveDomainRecords(\n    connection: Connection\n    domain: String!\n  ): DomainRecords\n\n  getSupportedTlds(\n    connection: Connection\n  ): [String!]\n\n  getAcquisitionInfo(\n    connection: Connection\n    domain: String!\n    duration: UInt32\n  ): AcquisitionInfo\n}\n\ntype Mutation {\n  buyDomain(\n    connection: Connection\n    domain: String!\n    duration: UInt32!\n    owner: String!\n    confirmation: UInt32\n  ): Result!\n\n  createSubDomain(\n    connection: Connection\n    domain: String!\n    subdomain: String!\n    owner: String!\n    confirmation: UInt32\n  ): Result!\n\n  updateDomainRecord(\n    connection: Connection\n    address: String\n    domain: String!\n    owner: String!\n    records: JSON!\n    confirmation: UInt32\n  ): Result!\n\n  setSignerWithSecretKeyParams(\n    connection: Connection\n    params: SecretKeyParams!\n  ): Result\n\n  setSignerWithFundraiserParams(\n    connection: Connection\n    params: FundraiserParams!\n  ): Result\n}\n\ntype Connection {\n  network: String!\n  provider: String\n  secretKey: String\n}\n\ntype SecretKeyParams {\n  key: String!\n  passphrase: String\n}\n\ntype FundraiserParams {\n  email: String!\n  password: String!\n  mnemonic: String!\n}\n\ntype DomainRecords {\n  address: String\n  data: String\n  expiry: String\n  name: String!\n}\n\ntype Result {\n  status: Boolean!\n  error: String\n}\n\ntype AcquisitionInfo {\n  cost: UInt32\n  state: AcquisitionState!\n}\n\nenum AcquisitionState {\n  Unobtainable\n  Taken\n  CanBeBought\n  CanBeAuctioned\n  AuctionInProgress\n  CanBeSettled\n}\n\n### Imported Queries START ###\n\n### Imported Queries END ###\n\n### Imported Objects START ###\n\n### Imported Objects END ###\n"},806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.manifest=void 0;var r=n(383);t.manifest={schema:r.schema,implements:[]}},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toDomainRecords=void 0;t.toDomainRecords=function(e){var t;return{address:e.address,data:JSON.stringify(e.data.raw()),name:e.name,expiry:null===(t=e.expiry)||void 0===t?void 0:t.toUTCString()}}},910:function(e,t){},912:function(e,t){},921:function(e,t){},923:function(e,t){},948:function(e,t){},953:function(e,t){},955:function(e,t){},962:function(e,t){},975:function(e,t){}},[[1136,1,2]]]);
//# sourceMappingURL=main.524e759f.chunk.js.map