{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/index.ts","webpack:///./src/components/SubmitBtn.vue?e26b","webpack:///./src/components/GovernancePairSelect.vue?9ae2","webpack:///../../src/w3/schema.ts","webpack:///../src/Networks.ts","webpack:///../../src/w3/manifest.ts","webpack:///./src/assets/tooltip-icon.png","webpack:///../src/resolvers.ts","webpack:///./src/views/RemoveLiquidity.vue?eaf8","webpack:///../src/utils.ts","webpack:///./src/assets/temple.png","webpack:///./src/assets/arrow-right-top.svg","webpack:///./src/App.vue?f446","webpack:///../src/mapping.ts","webpack:///../src/indexer.ts","webpack:///./src/components/Form/BakerFormField.vue?7ade","webpack:///../../src/w3/index.ts","webpack:///./src/components/NavTabs.vue?17a5","webpack:///./src/assets/remove.svg","webpack:///./src/components/NavInvest.vue?db98","webpack:///./src/assets/chevron-white.png","webpack:///./src/assets/token-logo.png","webpack:///../src/Connection.ts","webpack:///./src/assets/xtz.png","webpack:///./src/components/Tooltip.vue?7a1f","webpack:///./src/assets/arrow-down.png","webpack:///./src/components/Loader.vue?6a74","webpack:///./node_modules/@web3api/client-js/build sync","webpack:///./src/views/Disclaimer.vue?1c1f","webpack:///./src/App.vue?15a9","webpack:///./src/components/Loader.vue?e85c","webpack:///./src/components/Loader.vue?69aa","webpack:///./src/core/types.ts","webpack:///./src/components/Loader.vue?4ddb","webpack:///./src/components/Loader.vue","webpack:///./src/whitelist.ts","webpack:///./src/core/defaults.ts","webpack:///./src/core/taquito-fast-rpc.ts","webpack:///./src/core/lambda-view.ts","webpack:///./src/core/assets.ts","webpack:///./src/old-whitelist.ts","webpack:///./src/core/state.ts","webpack:///./src/core/helpers.ts","webpack:///./src/services/web3/client.js","webpack:///./src/services/web3/query.js","webpack:///./src/core/estimates.ts","webpack:///./src/core/contract.ts","webpack:///./src/core/operation.ts","webpack:///./src/views/Swap.vue?d783","webpack:///./src/components/SwapOrSend.vue?5785","webpack:///./src/components/NavTabs.vue?ec39","webpack:///./src/components/Tooltip.vue?f7a0","webpack:///./src/components/Tooltip.vue?7ebb","webpack:///./src/components/Tooltip.vue?0339","webpack:///./src/components/Tooltip.vue","webpack:///./src/toast.ts","webpack:///./src/components/NavTabs.vue?ed3d","webpack:///./src/components/NavTabs.vue?4bfe","webpack:///./src/components/NavTabs.vue","webpack:///./src/components/Form/Form.vue?0f57","webpack:///./src/components/Form/Form.vue?6767","webpack:///./src/components/Form/Form.vue?5e11","webpack:///./src/components/Form/Form.vue","webpack:///./src/components/Form/FormIcon.vue?4227","webpack:///./src/components/Form/FormIcon.vue","webpack:///./src/components/Form/FormField.vue?bf06","webpack:///./src/components/Form/TokenItem.vue?64d6","webpack:///./src/components/Form/TokenItem.vue?ce97","webpack:///./src/components/Form/TokenItem.vue?dd51","webpack:///./src/components/Form/TokenItem.vue","webpack:///./src/components/Form/FormField.vue?dfd1","webpack:///./src/components/Form/FormField.vue?3be2","webpack:///./src/components/Form/FormField.vue","webpack:///./src/components/Form/FormInfo.vue?1db6","webpack:///./src/components/Form/FormInfo.vue","webpack:///./src/components/SubmitBtn.vue?db83","webpack:///./src/components/SubmitBtn.vue?2d39","webpack:///./src/components/SubmitBtn.vue?74a7","webpack:///./src/components/SubmitBtn.vue","webpack:///./src/services/web3/mutation.js","webpack:///./src/components/SwapOrSend.vue?16ed","webpack:///./src/components/SwapOrSend.vue?8689","webpack:///./src/components/SwapOrSend.vue","webpack:///./src/views/Swap.vue?e833","webpack:///./src/views/Swap.vue?7ec6","webpack:///./src/views/Swap.vue","webpack:///./src/views/Send.vue?11ab","webpack:///./src/views/Send.vue?0968","webpack:///./src/views/Send.vue?f51a","webpack:///./src/views/Send.vue","webpack:///./src/views/AddLiquidity.vue?531c","webpack:///./src/components/NavInvest.vue?5eae","webpack:///./src/components/NavInvest.vue?3211","webpack:///./src/components/NavInvest.vue?11e0","webpack:///./src/components/NavInvest.vue","webpack:///./src/views/AddLiquidity.vue?0d63","webpack:///./src/views/AddLiquidity.vue?7c46","webpack:///./src/views/AddLiquidity.vue","webpack:///./src/views/RemoveLiquidity.vue?fa80","webpack:///./src/views/RemoveLiquidity.vue?3f88","webpack:///./src/views/RemoveLiquidity.vue?5c2e","webpack:///./src/views/RemoveLiquidity.vue","webpack:///./src/views/AddToken.vue?cd97","webpack:///./src/views/AddToken.vue?9929","webpack:///./src/views/AddToken.vue?9582","webpack:///./src/views/AddToken.vue","webpack:///./src/views/VoteBaker.vue?fe40","webpack:///./src/components/NavGovernance.vue?bc38","webpack:///./src/components/NavGovernance.vue?fa1d","webpack:///./src/components/NavGovernance.vue?5fe6","webpack:///./src/components/NavGovernance.vue","webpack:///./src/components/GovernancePairSelect.vue?fa6e","webpack:///./src/components/GovernancePairSelect.vue?d2c0","webpack:///./src/components/GovernancePairSelect.vue?5073","webpack:///./src/components/GovernancePairSelect.vue","webpack:///./src/components/Form/BakerFormField.vue?8860","webpack:///./src/baking-bad/client.ts","webpack:///./src/components/Form/BakerFormField.vue?e68a","webpack:///./src/components/Form/BakerFormField.vue?598f","webpack:///./src/components/Form/BakerFormField.vue","webpack:///./src/views/VoteBaker.vue?9c0d","webpack:///./src/views/VoteBaker.vue?aced","webpack:///./src/views/VoteBaker.vue","webpack:///./src/views/DelegateVote.vue?31d9","webpack:///./src/views/DelegateVote.vue?fc50","webpack:///./src/views/DelegateVote.vue?061c","webpack:///./src/views/DelegateVote.vue","webpack:///./src/views/Veto.vue?f5fb","webpack:///./src/views/Veto.vue?11e9","webpack:///./src/views/Veto.vue?6b83","webpack:///./src/views/Veto.vue","webpack:///./src/views/Rewards.vue?2fba","webpack:///./src/views/Rewards.vue?0ae4","webpack:///./src/views/Rewards.vue?3821","webpack:///./src/views/Rewards.vue","webpack:///./src/views/Disclaimer.vue?efe3","webpack:///./src/views/Disclaimer.vue?f2dc","webpack:///./src/views/Disclaimer.vue?7400","webpack:///./src/views/Disclaimer.vue","webpack:///./src/router/index.ts","webpack:///./src/pools-to-migrate.ts","webpack:///./src/store/index.ts","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/Form/FormField.vue?b1fd","webpack:///./src/components/NavGovernance.vue?edd4","webpack:///./src/assets/plus.png","webpack:///../../src/w3/types.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","input","schema","implements","response","receipt","webpackEmptyContext","req","e","Error","code","keys","resolve","id","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","on","toggleNetworkSelect","_v","_s","selectedNetwork","class","networkSelectOpened","staticStyle","_l","net","disabled","selectNetwork","_e","account","pkh","accountBalance","$event","accountLabelHovered","handleReconnect","accountLabel","handleConnectTemple","logout","staticRenderFns","sizes","size","small","large","default","QSTokenType","component","Network","TOKEN_WHITELIST","network","Main","type","contractAddress","metadata","decimals","symbol","thumbnailUri","fa2TokenId","Florence","FA1_2_FACTORY_CONTRACT_HANGZHOUNET","FA2_FACTORY_CONTRACT_HANGZHOUNET","FA1_2_OLD_FACTORY_CONTRACT_HANGZHOUNET","VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_HANGZHOUNET","FA2_OLD_FACTORY_CONTRACT_HANGZHOUNET","VUE_APP_FA2_OLD_FACTORY_CONTRACT_HANGZHOUNET","VOTING_PERIOD","VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_GRANADANET","VUE_APP_FA2_OLD_FACTORY_CONTRACT_GRANADANET","parseInt","FEE_RATE","ACCURANCY_MULTIPLIER","LP_TOKEN_DECIMALS","LOGO_URL","HANGZHOUNET_NETWORK","connectType","rpcBaseURL","fa1_2FactoryContract","fa2FactoryContract","fa1_2OldFactoryContract","fa2OldFactoryContract","description","color","ALL_NETWORKS","DEFAULT_NETWORK","XTZ_TOKEN","tokenType","XTZ","imgUrl","exchange","DEFAULT_TOKEN_LOGO_URL","CHAIN_ID_MAPPING","FA1_2","Staker","TzBTC","Map","refreshInterval","memoizeMaxAge","getBalanceMemo","cacheKey","address","opts","toOptsKey","join","maxAge","getLiveBlocksMemo","getStorageMemo","getScriptMemo","getContractMemo","getEntrypointsMemo","contract","getManagerKeyMemo","getDelegateMemo","getBigMapExprMemo","expr","getDelegatesMemo","getConstantsMemo","getBlockMemo","getBlockHeaderMemo","getBlockMetadataMemo","getChainId","getLatestBlockHash","loadLatestBlock","wantsHead","latestBlock","hash","getRpcUrl","cached","localStorage","getItem","JSON","parse","setItem","stringify","head","Date","now","refreshedAt","block","getNetwork","lambdaView","accountPkh","asset","FA2","Tezos","tz","getBalance","amount","mutezToTz","views","read","nat","isNaN","div","fa2Contract","balance_of","owner","token_id","balance","getTokenMetadata","tokenId","networkId","storageKey","tokenMetadataFromStorage","removeItem","getContractForMetadata","tzip12","tokenData","message","tzip16","getMetadata","logo","icon","iconUri","iconUrl","getNewTokenData","tokenAddress","shouldTryGetMetadata","getNewTokenMetadata","bal","filteredWhitelist","chainId","filter","isTokenWhitelisted","token","some","wt","whitelisted","find","OLD_WHITELIST","mainnet","florencenet","hangzhounet","axios","michelEncoder","getTokens","whitelist","axs","tokens","obj","Promise","all","map","fa2","formatImgUri","allTokens","sanitizeTokens","getCustomTokens","val","uniques","Set","finalTokens","slug","toAssetSlug","has","add","origin","startsWith","substring","sanitizeImgUrl","url","x","y","approveToken","tokenContract","from","to","methods","update_operators","add_operator","operator","approve","deapproveFA2","batch","withTransfer","remove_operator","toTransferParams","getDexShares","storage","ledger","accounts","unfrozen","frozen","frozen_balance","total","plus","sharesFromNat","sharesToNat","times","integerValue","ROUND_DOWN","clearMem","clear","addExtension","setSignerProvider","setPackerProvider","then","snakeToCamelKeys","findTezDex","findTezDexPure","tokenSlug","netId","oldWhitelist","tid","factory","w","toOldWhitelistedSlug","getFactoryStorage","facStorage","token_to_exchange","console","log","getFactoryStoragePure","getStoragePure","getContractPure","at","found","setNetwork","location","reload","undefined","toValidAmount","isFinite","isGreaterThan","toFixed","isUnsafeAllowanceChangeError","err","includes","errors","with","int","string","args","tzToMutez","format","mutez","isKTAddress","isAddressValid","VALID","camelObj","snakeToCamel","str","replace","group","toUpperCase","pk","TEZOS_QUIPUSWAP_WRAPPER_URI","TEZOS_PLUGIN_JS","client","Web3ApiClient","plugins","uri","plugin","tezosPlugin","networks","provider","defaultNetwork","listTokenPairs","query","variables","getTokenSupply","pairId","estimateTezToToken","tezAmount","dexStorage","mutezAmount","tezInWithFee","numerator","tokenPool","denominator","tezPool","tokensOut","idiv","fromNat","estimateTokenToTez","tokenAmount","tokensIn","toNat","tokenInWithFee","mutezOut","estimateTezToTokenInverse","minus","mutezIn","estimateTokenToTezInverse","estimateInTezos","shares","totalSupply","estimateInTokens","sharesTokenAinTokenBin","selTk_A","lpDetails","pairStorageLQ","lpShares","total_supply","token_a_pool","toNumber","token_a_in","token_b_in","token_b_pool","minTokenOut","selTk","slippage","maxTokenIn","pairStorage","isFA2","FA2_METHODS_ASSERTIONS","assertion","signatureAssertionFactory","signatures","parameterSchema","ExtractSignatures","receivedSignature","signature","assert","receivedArgs","forEach","receivedArg","index","actual","SYNC_INTERVAL","CONFIRM_TIMEOUT","confirmOperation","tezos","opHash","initializedAt","fromBlockLevel","signal","startedAt","rpc","getBlock","currentBlock","currentBlockLevel","header","level","findOperation","opEntry","status","contents","operation_result","aborted","timeToWait","Math","max","setTimeout","operations","op","style","swapping","inputBalance","inputLoading","inputToken","handleInputAmountChange","target","handleInputSelect","model","callback","$$v","inputAmount","expression","changeDirections","outputBalance","outputLoading","outputToken","handleOutputAmountChange","handleOutputSelect","outputAmount","recipientAddress","inputDexAddress","outputDexAddress","fee","exchangeRate","percentage","activeSlippagePercentage","setActiveSlippagePercentage","slippagePercentages","directives","rawName","domProps","composing","customSlippagePercentage","handleCustomSlippageChange","minimumReceived","canSwap","swap","swapStatus","pool","dexAddress","migratePool","underlineTokenMetadata","totalSharesToDisplay","placement","content","autoHide","targetClasses","positions","position","$attrs","classes","use","corner","notifyConfirm","promise","toastId","$toast","timeout","closeOnClick","hideProgressBar","draggable","update","options","SUCCESS","ERROR","notifyError","error","INFO_BANNER_LS_KEY","getInfoBannerDisplayed","_err","infoBannerDisplayed","migrating","$confirm","confirmButtonText","updateInfoBanner","useWallet","totalShares","voteShares","vetoShares","me","inTezos","inToken","minTezos","withSlippage","minToken","wallet","dexContract","send","operation","finally","loadPoolsToMigrate","msg","alert","state","poolsToMigrate","components","Tooltip","tolerance","_t","script","this$1","isSearchOpened","label","tooltipContent","_g","_b","withSelect","isLoading","extrabutton","isReadonly","$listeners","subLabelName","handleSubLabelValueClick","subLabelValue","toggleSearch","tokenImgUrl","formattedLocalTokenSymbol","onlyTezos","selectedToken","copyToCB","ref","searchValue","filteredTokens","getAssetSlug","nativeOn","selectToken","notFoundStatus","replaceByDefault","formattedTokenSymbol","src","term","ln","tokenIdDisplayed","localToken","processing","checkFA2OrAddToken","isGreaterThanOrEqualTo","addTokenToList","loadCustomTokenIfExist","$nextTick","searchInput","focus","$emit","text","el","document","createElement","body","appendChild","select","execCommand","removeChild","withTezos","base","toLowerCase","HTMLInputElement","TokenItem","Loader","connectTempleWallet","connection","swapDirect","payload","params","sendParams","invest","divest","batchContractCalls","lastValidCustomSlippagePercentage","inputTokenAddress","outputTokenAddress","defaultSwapStatus","loadInputBalance","loadFee","loadInputTezDex","loadOutputTezDex","loadOutputBalance","dex","calcOutputAmount","feeBn","isNum","test","calcInputAmount","numAmount","Number","shouldRevertChange","inType","outType","newInputToken","newOutputToken","newInputAmount","payload_batch","connectTempleWalletWrapper","getAccount","recipient","inTkAddress","outTkAddress","inpAmn","corminOut","minOutNat","firemessage","getTokenPairsID","title","html","showCancelButton","confirmButtonColor","cancelButtonColor","$fire","payload_swap","direction","swapParams","amountIn","minAmountOut","toString","deadline","minutes","toISOString","receiver","response_batchcalls","response_batch","batchWalletContractCalls","onClose","reloadpage","refresh","$route","usp","URLSearchParams","set","delete","$router","path","price","toFormat","inAndOutValid","every","a","NavTabs","Form","FormIcon","FormField","FormInfo","SubmitBtn","SwapOrSend","tezBalance","tezLoading","tezToken","handleTezAmountChange","tokenBalance","tokenLoading","handleTokenAmountChange","handleTokenSelect","poolMeta","tokenFull","tezFull","myTokens","myShare","addLiquidity","addLiqStatus","defaultAddLiqStatus","loadTezBalance","loadTokenBalance","loadDex","loadPoolMetadata","calcTokenAmount","myShares","calcTezAmount","getPairID","lpdetails","parseFloat","pow","selTk_B","shares_payload","maxAmount_A","maxAmount_B","payload_invest","tokenAIn","tokenBIn","response_invest","noDecimalsToken","NavInvest","handleSharesToRemoveChange","sharesToRemove","valid","removeLiquidity","remLiqStatus","inTokens","defaultRemLiqStatus","dec","loadMyShares","calcInTokens","calcTokenNTokenAmountByLP","sharesRatio","dex_tokenA","minAmount_A","minAmount_B","payload_divest","minTokenAOut","ceil","minTokenBOut","response_divest","setTokenType","addToken","addTokenStatus","tokenDecimals","defaultAddTokenStatus","tokenDataLoaded","loadTokenData","tezTk","multipliedBy","toCheck","isLessThan","factoryContractAddres","facContract","tokenAmountNat","withAllowanceReset","estimate","kind","TRANSACTION","initializeExchange","launchExchange","res","loadTokens","nextCandidate","currentCandidate","totalVotes","yourTotalShares","toPercentage","yourCandidate","voter","withBakersSelect","selectedBaker","bakerAddress","selectBaker","availableSharesToVote","handleSharesToVoteChange","sharesToVote","handleVote","voteStatus","availableSharesToExit","handleExit","exiting","exitStatus","formattedSelectedTokenSymbol","Boolean","subLabel","allKnownBakers","baker","floor","freeSpace","API_BASE_URL","getAllKnownBakersMemoized","getAllKnownBakers","getKnownBaker","request","fetch","method","json","ok","statusText","loadData","selectBakerByAddress","list","b","readyToVote","currentDelegated","voters","vote","candidate","tmp","bakerStub","NavGovernance","GovernancePairSelect","BakerFormField","deputy","handleAdd","addStatus","alreadyDeputies","depAddress","handleRemove","dataLoading","myVoters","allowances","allow","confirmation","tokenExchange","totalVetos","votesToVeto","availableSharesToVeto","handleSharesToVetoChange","sharesToVeto","alreadyBanned","handleBan","banStatus","currentCandidateExist","veto","rewards","handleWithdraw","withdrawStatus","user_rewards","reward","periodFinish","period_finish","lastUpdateTime","last_update_time","rewardsTime","newReward","abs","reward_per_sec","periodsDuration","rewardPerSec","rewardPerShare","reward_per_share","reward_paid","routes","redirect","router","MAINNET_POOLS_TO_MIGRATE","store","Store","tokensLoading","getAccountInitial","mutations","setPoolsToMigrate","pools","pushPoolToMigrate","commit","currentCustom","ct","addCustomToken","current","removeBrokenTokens","addresses","brokenTokensRemoved","cachedStr","subscribe","mutation","onReady","route","assetSlug","split","beaconWallet","preferredNetwork","toBeaconNetworkType","resp","setLastUsedConnect","setAccount","forcePermission","last","getLastUsedConnect","signout","useWalletTemple","useWalletBeacon","opParams","removeFeeAndLimit","gas_limit","storage_limit","rest","isAvailable","available","getCurrentPermission","perm","connected","connect","toTezos","permission","publicKey","getActiveAccount","activeAccount","clearActiveAccount","requestPermissions","CUSTOM","rpcUrl","setWalletProvider","activeAcc","cleanLastUsedConnect","getTokenPairs","token_a_address","token_b_address","respose_pairid","myFunction","item","token_a_fa2","token_a","token_address","token_a_fa12","fa12","token_b_fa2","token_b","token_b_fa12","pair_id","listTokenPairs_arr","connectWallet","loadAccBalance","config","productionTip","transition","render","h","$mount"],"mappings":"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KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,GAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER,QAASF,EAAQG,KACjBC,KAAM,MACNC,gBAAiB,uCACjBK,WAAY,IAEd,CACER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,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,wCAEZ,CACEA,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,wCAEZ,CACEA,SAAU,wCAEZ,CACEA,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,IAEX,CACElD,SAAU,uCACVkD,QAAS,IAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,wCAEZ,CACEA,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,wCAEZ,CACEA,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCACVkD,QAAS,GAEX,CACElD,SAAU,uCAC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","file":"js/app.ae10bb94.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([2,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.plugin = exports.tezosPlugin = exports.TezosPlugin = exports.InMemorySigner = void 0;\n/* eslint-disable import/no-extraneous-dependencies */\nvar resolvers_1 = require(\"./resolvers\");\nvar w3_1 = require(\"./w3\");\nvar Connection_1 = require(\"./Connection\");\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return Connection_1.InMemorySigner; } });\nvar Mapping = __importStar(require(\"./mapping\"));\nvar indexer_1 = require(\"./indexer\");\nvar core_js_1 = require(\"@web3api/core-js\");\nvar tzip16_1 = require(\"@taquito/tzip16\");\nvar utils_1 = require(\"@taquito/utils\");\nvar michelson_encoder_1 = require(\"@taquito/michelson-encoder\");\nvar michel_codec_1 = require(\"@taquito/michel-codec\");\nvar dapp_1 = require(\"@temple-wallet/dapp\");\nvar taquito_1 = require(\"@taquito/taquito\");\nvar TezosPlugin = /** @class */ (function (_super) {\n    __extends(TezosPlugin, _super);\n    function TezosPlugin(config) {\n        var _this = _super.call(this) || this;\n        _this._connections = Connection_1.Connection.fromConfigs(config.networks);\n        // Assign the default network (mainnet if not provided)\n        if (config.defaultNetwork) {\n            _this._defaultNetwork = config.defaultNetwork;\n        }\n        else {\n            _this._defaultNetwork = \"mainnet\";\n        }\n        // Create a connection for the default network if none exists\n        if (!_this._connections[_this._defaultNetwork]) {\n            _this._connections[_this._defaultNetwork] = Connection_1.Connection.fromNetwork(_this._defaultNetwork);\n        }\n        return _this;\n    }\n    TezosPlugin.manifest = function () {\n        return w3_1.manifest;\n    };\n    TezosPlugin.prototype.getModules = function (_client) {\n        return {\n            query: (0, resolvers_1.query)(this),\n            mutation: (0, resolvers_1.mutation)(this),\n        };\n    };\n    // Mutation\n    TezosPlugin.prototype.callContractMethod = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var transactionOperation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._callContractMethod(input)];\n                    case 1:\n                        transactionOperation = _a.sent();\n                        return [2 /*return*/, Mapping.toTxOperation(transactionOperation)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.callContractMethodAndConfirmation = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var res, initialConfirmation, interval, timeout, finalConfirmation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._callContractMethod(input)];\n                    case 1:\n                        res = _a.sent();\n                        initialConfirmation = input.confirmations ? input.confirmations : 0;\n                        interval = input.interval ? input.interval : 10;\n                        timeout = input.timeout ? input.timeout : 180;\n                        return [4 /*yield*/, res.confirmation(initialConfirmation, interval, timeout)];\n                    case 2:\n                        finalConfirmation = _a.sent();\n                        return [2 /*return*/, {\n                                confirmation: finalConfirmation,\n                                operation: Mapping.toTxOperation(res),\n                            }];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.batchContractCalls = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, paramsWithKind, batchCalls, operation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        paramsWithKind = input.params.map(Mapping.toTransferParamsWithTransactionKind);\n                        return [4 /*yield*/, connection.getProvider().contract.batch(paramsWithKind)];\n                    case 2:\n                        batchCalls = _a.sent();\n                        return [4 /*yield*/, batchCalls.send()];\n                    case 3:\n                        operation = _a.sent();\n                        return [2 /*return*/, operation.hash];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.transfer = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, sendParams, transferOperation, walletOperation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        sendParams = Mapping.fromSendParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .wallet\n                                .transfer(sendParams)];\n                    case 2:\n                        transferOperation = _a.sent();\n                        return [4 /*yield*/, transferOperation.send()];\n                    case 3:\n                        walletOperation = _a.sent();\n                        return [2 /*return*/, walletOperation.opHash];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.transferAndConfirm = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, sendParams, transactionWalletOperation, confirmationResponse;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        sendParams = Mapping.fromSendParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .wallet.transfer(sendParams)];\n                    case 2:\n                        transactionWalletOperation = _a.sent();\n                        return [4 /*yield*/, transactionWalletOperation.send()];\n                    case 3: return [4 /*yield*/, (_a.sent()).confirmation(input.confirmations)];\n                    case 4:\n                        confirmationResponse = _a.sent();\n                        return [2 /*return*/, Mapping.toTransferConfirmation(confirmationResponse)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.signMessage = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, bytes, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        bytes = (0, utils_1.char2Bytes)(input.message);\n                        return [4 /*yield*/, connection.getSigner().sign(bytes)];\n                    case 2:\n                        result = _a.sent();\n                        return [2 /*return*/, Mapping.toSignResult(result)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.originate = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, originateParams, originationOperation, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        originateParams = Mapping.fromOriginateParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .contract.originate(originateParams)];\n                    case 2:\n                        originationOperation = _a.sent();\n                        return [2 /*return*/, {\n                                error: false,\n                                origination: Mapping.toOriginationOperation(originationOperation),\n                            }];\n                    case 3:\n                        error_1 = _a.sent();\n                        return [2 /*return*/, {\n                                error: true,\n                                reason: error_1.message,\n                            }];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.originateAndConfirm = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, originateParams, originationOperation, initialConfirmation, interval, timeout, finalConfirmation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        originateParams = Mapping.fromOriginateParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .contract.originate(originateParams)];\n                    case 2:\n                        originationOperation = _a.sent();\n                        initialConfirmation = input.confirmations\n                            ? input.confirmations\n                            : 0;\n                        interval = input.interval ? input.interval : 10;\n                        timeout = input.timeout ? input.timeout : 180;\n                        return [4 /*yield*/, originationOperation.confirmation(initialConfirmation, interval, timeout)];\n                    case 3:\n                        finalConfirmation = _a.sent();\n                        return [2 /*return*/, {\n                                confirmation: finalConfirmation,\n                                origination: Mapping.toOriginationOperation(originationOperation),\n                            }];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.connectTempleWallet = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var isAvailable, connection, wallet, provider, accountPkh, accountBalance;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, dapp_1.TempleWallet.isAvailable()];\n                    case 1:\n                        isAvailable = _a.sent();\n                        if (!isAvailable) {\n                            throw new Error('Temple Wallet is not available.');\n                        }\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 2:\n                        connection = _a.sent();\n                        wallet = new dapp_1.TempleWallet(input.appName);\n                        return [4 /*yield*/, wallet.connect(input.network)];\n                    case 3:\n                        _a.sent();\n                        return [4 /*yield*/, connection.getProvider()];\n                    case 4:\n                        provider = _a.sent();\n                        provider.setWalletProvider(wallet);\n                        if (!wallet.connected) {\n                            throw new Error('Failed to connect Temple wallet ');\n                        }\n                        return [4 /*yield*/, provider.wallet.pkh()];\n                    case 5:\n                        accountPkh = _a.sent();\n                        return [4 /*yield*/, provider.tz.getBalance(accountPkh)];\n                    case 6:\n                        accountBalance = _a.sent();\n                        return [2 /*return*/, {\n                                pkh: accountPkh,\n                                balance: accountBalance.toString()\n                            }];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.walletContractCallMethod = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, contract, sendParams, walletOperation;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getProvider().wallet.at(input.address)];\n                    case 2:\n                        contract = _b.sent();\n                        sendParams = input.params ? Mapping.fromSendParams(input.params) : {};\n                        return [4 /*yield*/, (_a = contract.methods)[input.method].apply(_a, __spreadArray([], __read(this.parseArgs(input.args)), false)).send(sendParams)];\n                    case 3:\n                        walletOperation = _b.sent();\n                        return [2 /*return*/, walletOperation.opHash];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.walletOriginate = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, originateParams, originateWalletOperation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        originateParams = Mapping.fromOriginateParams(input.params);\n                        return [4 /*yield*/, connection.getProvider()\n                                .wallet\n                                .originate(originateParams)\n                                .send()];\n                    case 2:\n                        originateWalletOperation = _a.sent();\n                        return [2 /*return*/, originateWalletOperation.opHash];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.batchWalletContractCalls = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, paramsWithKind, batchCalls, operation;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        paramsWithKind = input.params.map(Mapping.toTransferParamsWithTransactionKind);\n                        return [4 /*yield*/, connection.getProvider().wallet.batch(paramsWithKind)];\n                    case 2:\n                        batchCalls = _a.sent();\n                        return [4 /*yield*/, batchCalls.send()];\n                    case 3:\n                        operation = _a.sent();\n                        return [2 /*return*/, operation.opHash];\n                }\n            });\n        });\n    };\n    // Query\n    TezosPlugin.prototype.getContractCallTransferParams = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, contract, sendParams, params;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getProvider().contract.at(input.address)];\n                    case 2:\n                        contract = _b.sent();\n                        sendParams = input.params ? Mapping.fromSendParams(input.params) : {};\n                        return [4 /*yield*/, (_a = contract.methods)[input.method].apply(_a, __spreadArray([], __read(this.parseArgs(input.args)), false)).toTransferParams(sendParams)];\n                    case 3:\n                        params = _b.sent();\n                        return [2 /*return*/, Mapping.toTransferParams(params)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.callContractView = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._callContractView(input)];\n                    case 1:\n                        response = _a.sent();\n                        return [2 /*return*/, JSON.stringify(response)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getWalletPKH = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        return [4 /*yield*/, connection.getProvider().wallet.pkh()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getOperationStatus = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var network, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        network = input.network.toString();\n                        return [4 /*yield*/, (0, indexer_1.getOperation)(network, input.hash)];\n                    case 1:\n                        response = _a.sent();\n                        return [2 /*return*/, Mapping.toOperationStatus(response)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getPublicKey = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        return [4 /*yield*/, connection.getSigner().publicKey()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getPublicKeyHash = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        return [4 /*yield*/, connection.getSigner().publicKeyHash()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getRevealEstimate = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, revealParams, estimate, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        revealParams = Mapping.fromRevealParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .estimate.reveal(revealParams)];\n                    case 2:\n                        estimate = _a.sent();\n                        if (!estimate) {\n                            throw Error(\"account is already revealed\");\n                        }\n                        return [2 /*return*/, {\n                                error: false,\n                                estimate: Mapping.toEstimate(estimate),\n                            }];\n                    case 3:\n                        error_2 = _a.sent();\n                        return [2 /*return*/, {\n                                error: true,\n                                reason: error_2.message,\n                            }];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getTransferEstimate = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, sendParams, estimate, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        sendParams = Mapping.fromSendParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .estimate.transfer(sendParams)];\n                    case 2:\n                        estimate = _a.sent();\n                        return [2 /*return*/, {\n                                error: false,\n                                estimate: Mapping.toEstimate(estimate),\n                            }];\n                    case 3:\n                        error_3 = _a.sent();\n                        return [2 /*return*/, {\n                                error: true,\n                                reason: error_3.message,\n                            }];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getOriginateEstimate = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, originateParams, estimate, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        originateParams = Mapping.fromOriginateParams(input.params);\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .estimate.originate(originateParams)];\n                    case 2:\n                        estimate = _a.sent();\n                        return [2 /*return*/, {\n                                error: false,\n                                estimate: Mapping.toEstimate(estimate),\n                            }];\n                    case 3:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, {\n                                error: true,\n                                reason: error_4.message,\n                            }];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.checkAddress = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, balance, error_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        return [4 /*yield*/, connection\n                                .getProvider()\n                                .tz.getBalance(input.address)];\n                    case 2:\n                        balance = _a.sent();\n                        if (!balance.toString()) {\n                            return [2 /*return*/, false];\n                        }\n                        return [2 /*return*/, true];\n                    case 3:\n                        error_5 = _a.sent();\n                        return [2 /*return*/, false];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getBalance = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, balance;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _a.sent();\n                        return [4 /*yield*/, connection.getProvider().tz.getBalance(input.address)];\n                    case 2:\n                        balance = _a.sent();\n                        return [2 /*return*/, balance.toString()];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.getContractStorage = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, contract, regex, storage, key, keys, keys_1, keys_1_1, newKey, e_1_1, field;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getProvider().contract.at(input.address)];\n                    case 2:\n                        contract = _b.sent();\n                        regex = /(\\[[,a-zA-Z.0-9\\s\"]+\\])|([a-zA-Z0-9]+)|([0-9]+)/g;\n                        return [4 /*yield*/, contract.storage()];\n                    case 3:\n                        storage = _b.sent();\n                        key = input.key.replaceAll(\"'\", '\"');\n                        keys = key.match(regex) || [];\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 10, 11, 12]);\n                        keys_1 = __values(keys), keys_1_1 = keys_1.next();\n                        _b.label = 5;\n                    case 5:\n                        if (!!keys_1_1.done) return [3 /*break*/, 9];\n                        newKey = keys_1_1.value;\n                        try {\n                            newKey = JSON.parse(newKey);\n                        }\n                        catch (error) {\n                            // pass\n                        }\n                        if (!(taquito_1.MichelsonMap.isMichelsonMap(storage) || storage instanceof taquito_1.BigMapAbstraction)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, storage.get(newKey)];\n                    case 6:\n                        storage = _b.sent();\n                        return [3 /*break*/, 8];\n                    case 7:\n                        if (typeof storage === 'object' && storage[newKey]) {\n                            // @ts-ignore\n                            storage = storage[newKey];\n                        }\n                        else {\n                            throw new Error(\"Unsupported type: '\".concat(typeof storage, \"' is supported\"));\n                        }\n                        _b.label = 8;\n                    case 8:\n                        keys_1_1 = keys_1.next();\n                        return [3 /*break*/, 5];\n                    case 9: return [3 /*break*/, 12];\n                    case 10:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 11:\n                        try {\n                            if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 12:\n                        if (!!!input.field) return [3 /*break*/, 15];\n                        field = input.field;\n                        try {\n                            field = JSON.parse(input.field);\n                        }\n                        catch (error) {\n                            // ignore if parsing string fails\n                        }\n                        if (!(storage instanceof taquito_1.BigMapAbstraction)) return [3 /*break*/, 14];\n                        return [4 /*yield*/, storage.get(field)];\n                    case 13:\n                        storage = _b.sent();\n                        return [3 /*break*/, 15];\n                    case 14:\n                        // @ts-ignore\n                        storage = storage[field];\n                        _b.label = 15;\n                    case 15: return [2 /*return*/, this.stringify(storage)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.executeTzip16View = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, contract, views, data;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getProvider().contract.at(input.address, tzip16_1.tzip16)];\n                    case 2:\n                        contract = _b.sent();\n                        return [4 /*yield*/, contract.tzip16().metadataViews()];\n                    case 3:\n                        views = _b.sent();\n                        return [4 /*yield*/, (_a = views[input.viewName]()).executeView.apply(_a, __spreadArray([], __read(this.parseArgs(input.args)), false))];\n                    case 4:\n                        data = _b.sent();\n                        return [2 /*return*/, this.stringify(data)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.encodeMichelsonExpressionToBytes = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var expression, value, schema, encoded, packed;\n            return __generator(this, function (_a) {\n                expression = this.parseValue(input.expression);\n                value = this.parseValue(input.value);\n                schema = new michelson_encoder_1.Schema(expression);\n                encoded = schema.Encode(value);\n                packed = (0, michel_codec_1.packDataBytes)(encoded, expression);\n                return [2 /*return*/, packed.bytes];\n            });\n        });\n    };\n    // Utils\n    TezosPlugin.prototype.getConnection = function (connection) {\n        return __awaiter(this, void 0, void 0, function () {\n            var networkNameOrChainId, provider, result, networkStr, nodeConnection;\n            return __generator(this, function (_a) {\n                if (!connection) {\n                    return [2 /*return*/, this._connections[this._defaultNetwork]];\n                }\n                networkNameOrChainId = connection.networkNameOrChainId, provider = connection.provider;\n                result = this._connections[this._defaultNetwork];\n                // If a custom network is provided, either get an already\n                // established connection, or a create a new one\n                if (networkNameOrChainId) {\n                    networkStr = networkNameOrChainId.toLowerCase();\n                    if (this._connections[networkStr]) {\n                        result = this._connections[networkStr];\n                    }\n                    else {\n                        try {\n                            result = Connection_1.Connection.fromNetwork(networkStr);\n                        }\n                        catch (error) {\n                            // ignore if network is not supported by core\n                        }\n                    }\n                }\n                // If a custom node endpoint is provided, create a combined\n                // connection with the node's endpoint and a connection's signer\n                // (if one exists for the network)\n                else if (provider) {\n                    nodeConnection = Connection_1.Connection.fromNode(provider);\n                    result = nodeConnection;\n                }\n                return [2 /*return*/, result];\n            });\n        });\n    };\n    TezosPlugin.prototype.parseValue = function (value) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            throw new Error(\"unable to parse '\".concat(value, \"'\"));\n        }\n    };\n    TezosPlugin.prototype.parseArgs = function (args) {\n        var e_2, _a;\n        if (!args) {\n            return [];\n        }\n        var parsedArgs = JSON.parse(args);\n        if (!Array.isArray(parsedArgs)) {\n            throw new Error(\"args must be a stringified array\");\n        }\n        for (var argKey in parsedArgs) {\n            // TODO(abdul): deep parse all values for michelson maps\n            // POC\n            if (typeof parsedArgs[argKey] === \"object\" &&\n                !Array.isArray(parsedArgs[argKey]) &&\n                parsedArgs[argKey].isMichelsonMap === true &&\n                parsedArgs[argKey].values) {\n                var map = new taquito_1.MichelsonMap();\n                try {\n                    for (var _b = (e_2 = void 0, __values(parsedArgs[argKey].values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var mapValue = _c.value;\n                        if (!(mapValue.key && mapValue.value)) {\n                            throw new Error(\"michelson map should have a key and a value\");\n                        }\n                        map.set(mapValue.key, mapValue.value);\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                parsedArgs[argKey] = map;\n            }\n        }\n        return parsedArgs;\n    };\n    TezosPlugin.prototype._callContractMethod = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, contract, sendParams;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getContract(input.address)];\n                    case 2:\n                        contract = _b.sent();\n                        sendParams = input.params ? Mapping.fromSendParams(input.params) : {};\n                        return [2 /*return*/, (_a = contract.methods)[input.method].apply(_a, __spreadArray([], __read(this.parseArgs(input.args)), false)).send(sendParams)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype._callContractView = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var lambaAddress, connection, contract;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        lambaAddress = input.lambaAddress ? input.lambaAddress : undefined;\n                        return [4 /*yield*/, this.getConnection(input.connection)];\n                    case 1:\n                        connection = _b.sent();\n                        return [4 /*yield*/, connection.getContract(input.address)];\n                    case 2:\n                        contract = _b.sent();\n                        return [2 /*return*/, (_a = contract.views)[input.view].apply(_a, __spreadArray([], __read(this.parseArgs(input.args)), false)).read(lambaAddress)];\n                }\n            });\n        });\n    };\n    TezosPlugin.prototype.stringify = function (output) {\n        var e_3, _a, e_4, _b;\n        if (!output) {\n            return \"\";\n        }\n        switch (typeof output) {\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                output = output.toString();\n                break;\n            case \"object\":\n                if (typeof output.valueOf() === 'string') {\n                    output = output.valueOf();\n                    break;\n                }\n                if (taquito_1.MichelsonMap.isMichelsonMap(output)) {\n                    var keys_4 = output.keys();\n                    var michelsonObject = {};\n                    try {\n                        for (var keys_2 = __values(keys_4), keys_2_1 = keys_2.next(); !keys_2_1.done; keys_2_1 = keys_2.next()) {\n                            var key = keys_2_1.value;\n                            michelsonObject[key] = output.get(key);\n                        }\n                    }\n                    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                    finally {\n                        try {\n                            if (keys_2_1 && !keys_2_1.done && (_a = keys_2.return)) _a.call(keys_2);\n                        }\n                        finally { if (e_3) throw e_3.error; }\n                    }\n                    output = JSON.stringify(michelsonObject);\n                    break;\n                }\n                var keys = Object.keys(output);\n                if (keys.length > 0) {\n                    var out = {};\n                    try {\n                        for (var keys_3 = __values(keys), keys_3_1 = keys_3.next(); !keys_3_1.done; keys_3_1 = keys_3.next()) {\n                            var key = keys_3_1.value;\n                            out[key] = this.stringify(output[key]);\n                        }\n                    }\n                    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                    finally {\n                        try {\n                            if (keys_3_1 && !keys_3_1.done && (_b = keys_3.return)) _b.call(keys_3);\n                        }\n                        finally { if (e_4) throw e_4.error; }\n                    }\n                    output = JSON.stringify(out);\n                }\n                break;\n        }\n        return output;\n    };\n    return TezosPlugin;\n}(core_js_1.Plugin));\nexports.TezosPlugin = TezosPlugin;\nvar tezosPlugin = function (opts) {\n    return {\n        factory: function () { return new TezosPlugin(opts); },\n        manifest: w3_1.manifest,\n    };\n};\nexports.tezosPlugin = tezosPlugin;\nexports.plugin = exports.tezosPlugin;\n//# sourceMappingURL=index.js.map","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=style&index=0&id=89ad0b1e&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=style&index=0&id=89ad0b1e&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GovernancePairSelect.vue?vue&type=style&index=0&id=7f074296&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GovernancePairSelect.vue?vue&type=style&index=0&id=7f074296&lang=postcss&scoped=true&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schema = void 0;\nexports.schema = \"### Web3API Header START ###\\nscalar UInt\\nscalar UInt8\\nscalar UInt16\\nscalar UInt32\\nscalar Int\\nscalar Int8\\nscalar Int16\\nscalar Int32\\nscalar Bytes\\nscalar BigInt\\nscalar JSON\\n\\ndirective @imported(\\n  uri: String!\\n  namespace: String!\\n  nativeType: String!\\n) on OBJECT | ENUM\\n\\ndirective @imports(\\n  types: [String!]!\\n) on OBJECT\\n\\ndirective @capability(\\n  type: String!\\n  uri: String!\\n  namespace: String!\\n) repeatable on OBJECT\\n\\ndirective @enabled_interface on OBJECT\\n### Web3API Header END ###\\n\\ntype Query {\\n  getPublicKey(\\n    connection: Connection\\n  ): String!\\n\\n  getPublicKeyHash(\\n    connection: Connection\\n  ): String!\\n\\n  getRevealEstimate(\\n    connection: Connection\\n    params: RevealParams!\\n  ): EstimateResult!\\n\\n  getTransferEstimate(\\n    connection: Connection\\n    params: SendParams!\\n  ): EstimateResult!\\n\\n  getOriginateEstimate(\\n    connection: Connection\\n    params: OriginateParams!\\n  ): EstimateResult!\\n\\n  checkAddress(\\n    connection: Connection\\n    address: String!\\n  ): Boolean!\\n\\n  getBalance(\\n    connection: Connection\\n    address: String!\\n  ): String!\\n\\n  getContractStorage(\\n    address: String!\\n    key: String!\\n    field: String\\n    connection: Connection\\n  ): String!\\n\\n  executeTzip16View(\\n    address: String!\\n    viewName: String!\\n    args: String!\\n    connection: Connection\\n  ): String!\\n\\n  getWalletPKH(\\n    connection: Connection\\n  ): String!\\n\\n  getOperationStatus(\\n    hash: String!\\n    network: GetOperationStatusSupportedNetworks!\\n  ): OperationStatus!\\n\\n  encodeMichelsonExpressionToBytes(\\n    expression: String!\\n    value: String!\\n  ): String!\\n\\n  callContractView(\\n    address: String!\\n    view: String!\\n    lambaAddress: String\\n    args: String\\n    connection: Connection\\n  ): String!\\n\\n  getContractCallTransferParams(\\n    address: String!\\n    method: String!\\n    args: String\\n    params: SendParams\\n    connection: Connection\\n  ): TransferParams!\\n}\\n\\ntype Mutation {\\n  batchContractCalls(\\n    params: [TransferParams!]!\\n    connection: Connection\\n  ): String!\\n\\n  batchWalletContractCalls(\\n    params: [TransferParams!]!\\n    connection: Connection\\n  ): String!\\n\\n  connectTempleWallet(\\n    appName: String!\\n    network: String!\\n    connection: Connection\\n  ): AccountDetails!\\n\\n  walletContractCallMethod(\\n    address: String!\\n    method: String!\\n    args: String\\n    params: SendParams\\n    connection: Connection\\n  ): String!\\n\\n  walletOriginate(\\n    connection: Connection\\n    params: OriginateParams!\\n  ): String!\\n\\n  callContractMethod(\\n    address: String!\\n    method: String!\\n    args: String\\n    params: SendParams\\n    connection: Connection\\n  ): TxOperation!\\n\\n  callContractMethodAndConfirmation(\\n    address: String!\\n    method: String!\\n    args: String\\n    connection: Connection\\n    params: SendParams\\n    confirmations: UInt32!\\n    interval: UInt32\\n    timeout: UInt32\\n  ): CallContractMethodConfirmationResponse!\\n\\n  transfer(\\n    connection: Connection\\n    params: SendParams!\\n  ): String!\\n\\n  transferAndConfirm(\\n    connection: Connection\\n    params: SendParams!\\n    confirmations: UInt32!\\n  ): TransferConfirmation!\\n\\n  signMessage(\\n    connection: Connection\\n    message: String!\\n  ): SignResult!\\n\\n  originate(\\n    connection: Connection\\n    params: OriginateParams!\\n  ): OriginationResponse!\\n\\n  originateAndConfirm(\\n    connection: Connection\\n    params: OriginateParams!\\n    confirmations: UInt32!\\n    interval: UInt32\\n    timeout: UInt32\\n  ): OriginationConfirmationResponse!\\n}\\n\\ntype AccountDetails {\\n  pkh: String!\\n  balance: String!\\n}\\n\\ntype OperationStatus {\\n  hash: String!\\n  type: String!\\n  block: String!\\n  time: String!\\n  height: String!\\n  cycle: UInt32!\\n  counter: UInt32!\\n  status: String!\\n  is_success: Boolean!\\n  is_contract: Boolean!\\n  gas_limit: UInt32!\\n  gas_used: UInt32!\\n  gas_price: UInt32!\\n  storage_limit: UInt32!\\n  storage_size: UInt32!\\n  storage_paid: UInt32!\\n  volume: UInt32!\\n  fee: UInt32!\\n  days_destroyed: UInt32!\\n  sender: String!\\n  receiver: String!\\n  confirmations: UInt32!\\n}\\n\\ntype Block {\\n  chainId: String!\\n  hash: String!\\n  protocol: String!\\n}\\n\\ntype TransferConfirmation {\\n  completed: Boolean!\\n  currentConfirmation: UInt32!\\n  expectedConfirmation: UInt32!\\n  block: Block!\\n}\\n\\ntype OperationError {\\n  kind: String!\\n  id: String!\\n}\\n\\ntype EstimateResult {\\n  error: Boolean!\\n  reason: String\\n  estimate: Estimate\\n}\\n\\ntype RevealParams {\\n  fee: UInt32\\n  gasLimit: UInt32\\n  storageLimit: UInt32\\n}\\n\\ntype SendParams {\\n  to: String!\\n  amount: UInt32!\\n  source: String\\n  fee: UInt32\\n  gasLimit: UInt32\\n  storageLimit: UInt32\\n  mutez: Boolean\\n}\\n\\ntype TransferParams {\\n  to: String!\\n  amount: UInt32!\\n  fee: UInt32\\n  source: String\\n  mutez: Boolean\\n  parameter: String\\n  gasLimit: UInt32\\n  storageLimit: UInt32\\n}\\n\\ntype OriginateParams {\\n  code: String!\\n  storage: String!\\n  balance: String\\n  delegate: String\\n  fee: UInt32\\n  gasLimit: UInt32\\n  storageLimit: UInt32\\n  mutez: Boolean\\n  init: String\\n}\\n\\ntype Estimate {\\n  burnFeeMutez: UInt32!\\n  gasLimit: UInt32!\\n  minimalFeeMutez: UInt32!\\n  opSize: String!\\n  storageLimit: UInt32!\\n  suggestedFeeMutez: UInt32!\\n  totalCost: UInt32!\\n  usingBaseFeeMutez: UInt32!\\n  consumedMilligas: UInt32!\\n}\\n\\ntype OriginationOperation {\\n  contractAddress: String\\n  hash: String!\\n  consumedGas: String\\n  errors: [OperationError!]\\n  fee: UInt32!\\n  gasLimit: UInt32!\\n  includedInBlock: UInt32!\\n  revealStatus: String\\n  status: String\\n  storageDiff: String\\n  storageLimit: UInt32!\\n  storageSize: String\\n}\\n\\ntype OriginationResponse {\\n  error: Boolean!\\n  reason: String\\n  origination: OriginationOperation\\n}\\n\\ntype TxOperation {\\n  hash: String!\\n  source: String\\n  amount: BigInt\\n  consumedGas: BigInt\\n  destination: String!\\n  errors: [OperationError!]\\n  fee: UInt32!\\n  gasLimit: UInt32!\\n  includedInBlock: String!\\n  status: String!\\n  storageDiff: String\\n  storageLimit: UInt32!\\n  storageSize: BigInt\\n}\\n\\ntype TxOperationEntry {\\n  branch: String!\\n  chainId: String!\\n  hash: String!\\n  protocol: String!\\n  signature: String\\n  contents: [OperationContentEntry!]!\\n}\\n\\ntype OperationContent {\\n  kind: String!\\n  branch: String!\\n  chainId: String!\\n  hash: String!\\n  protocol: String!\\n  signature: String\\n}\\n\\ntype OperationContentEntry {\\n  kind: String!\\n}\\n\\ntype Connection {\\n  provider: String\\n  networkNameOrChainId: String\\n}\\n\\ntype SignResult {\\n  bytes: String!\\n  sig: String!\\n  prefixSig: String!\\n  sbytes: String!\\n}\\n\\ntype OriginationConfirmationResponse {\\n  confirmation: UInt32!\\n  origination: OriginationOperation!\\n}\\n\\ntype CallContractMethodConfirmationResponse {\\n  confirmation: UInt32!\\n  operation: TxOperation!\\n}\\n\\nenum GetOperationStatusSupportedNetworks {\\n  mainnet\\n  hangzhounet\\n  granadanet\\n}\\n\\n### Imported Queries START ###\\n\\n### Imported Queries END ###\\n\\n### Imported Objects START ###\\n\\n### Imported Objects END ###\\n\";\n//# sourceMappingURL=schema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProvider = void 0;\nvar TezosRpcNodes = {\n    mainnet: \"https://rpc.tzstats.com\",\n    granadanet: \"https://rpc.granada.tzstats.com\",\n    hangzhounet: \"https://rpc.hangzhou.tzstats.com\",\n};\nvar getProvider = function (name) {\n    return TezosRpcNodes[name];\n};\nexports.getProvider = getProvider;\n//# sourceMappingURL=Networks.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.manifest = void 0;\n// @ts-noCheck\nvar _1 = require(\"./\");\nexports.manifest = {\n    schema: _1.schema,\n    implements: [],\n};\n//# sourceMappingURL=manifest.js.map","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gQCFhIbuXpaiQAAAxZJREFUSMetVG1IU1EYfs/d5kcKgmjg7GcfytDZ3AhK0DACU0PSad4z/aOWmFI0NQqVCESFluIXRFqhbo4MSjQLE0lQQ3fuUllCRYJYKfZTd29L3emP9wrBuPeH7897z/Pxnvc9DwKZ2n5KXFiTkKCyAYK50lKaCdVQpdPBL7REn/j90kEtTURlDIPskERvejx756lBVdnTEz5gKu7f9HjkdKSi/m+VGceDg4XrpBpHdHXxrwjBLXa7d4oQS5zBIIf3ejmOZZOT+UlOy+46HEIG18A+6uig/s955rygIHnhWkKwZnSUn3S1WZpycxU7D1C8l7jYQrNZqCAPcNPISEAjQi0hlrju7sMSDmjkLHcCJ7S3Sz/EGYtXrZRwy/0pxZwXHS3ouBTctbEhXCVa/LKzU9YI4cqxb3Bw++h8RWG2Tseo6sFO7SUlNBIAPbPZlBoIT/q7HhTj89FMqgaHxwNDkIrKVlZkgSyyMG02G/NTpWUGSkqAryVp+NzEBKWUAiAkh6f0Y6zZHBr6h3Xn4pH0dN8Hd1iRMz5eqXFRR9Rl4As8hJi9PYQQAqBUjkDgNa816qwsesx/F8ZbW/eC/VP+e4uLWwbiKnwcFSWHl3T2nzGj1LlYR8KMJsfg0BC40SUwHVx5OKdxqusFQTHRFh1HDZQycAqqYV2lUjwCP3FdK9NowEDHICYtDeYAoG56GiG9rX/T61U6AlFXSi6ed7tZVj5ohGEAYdhgoPcB4HlEBEygWWienVXauJDvWsEzRiM0ogswtrTEiJGJ5iAb+qxWWYY7jG+naW0NfsAMRK6uwmU6Bbfz8/kyQiwkJ0cW38hcAafVqvrNvIO6np4DZ/uRKQaG4lkq7VzH+fCZggIhltxiX7S1id+lJQx5E7K8M2u1ohp4ixKLiw/LiCgMBpqKPBiHrAEOf19TExAgZrUYmWJy8Sfd00UtRmOgZZXet3n+O54xmfivRI+rnE6xY2l5/yvZrZciU0yuZspQt14PBC6irt1d6aARxukNtRrKUR+ELCyodpgo5OjtDdaenrZ3LC8H4v8HMoqoB1fd1ZIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDQtMDJUMjI6MTg6MjcrMDA6MDCY7VDSAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA0LTAyVDIyOjE4OjI3KzAwOjAw6bDobgAAAABJRU5ErkJggg==\"","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.query = exports.mutation = void 0;\nvar mutation = function (plugin) { return ({\n    callContractMethod: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.callContractMethod(input)];\n        });\n    }); },\n    callContractMethodAndConfirmation: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.callContractMethodAndConfirmation(input)];\n        });\n    }); },\n    batchContractCalls: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.batchContractCalls(input)];\n        });\n    }); },\n    transfer: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.transfer(input)];\n        });\n    }); },\n    transferAndConfirm: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.transferAndConfirm(input)];\n        });\n    }); },\n    signMessage: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.signMessage(input)];\n        });\n    }); },\n    originate: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.originate(input)];\n        });\n    }); },\n    originateAndConfirm: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.originateAndConfirm(input)];\n        });\n    }); },\n    connectTempleWallet: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.connectTempleWallet(input)];\n        });\n    }); },\n    walletContractCallMethod: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.walletContractCallMethod(input)];\n        });\n    }); },\n    walletOriginate: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.walletOriginate(input)];\n        });\n    }); },\n    batchWalletContractCalls: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.batchWalletContractCalls(input)];\n        });\n    }); }\n}); };\nexports.mutation = mutation;\nvar query = function (plugin) { return ({\n    getContractCallTransferParams: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getContractCallTransferParams(input)];\n        });\n    }); },\n    callContractView: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.callContractView(input)];\n        });\n    }); },\n    encodeMichelsonExpressionToBytes: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.encodeMichelsonExpressionToBytes(input)];\n        });\n    }); },\n    getWalletPKH: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getWalletPKH(input)];\n        });\n    }); },\n    getOperationStatus: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getOperationStatus(input)];\n        });\n    }); },\n    getContractStorage: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getContractStorage(input)];\n        });\n    }); },\n    executeTzip16View: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.executeTzip16View(input)];\n        });\n    }); },\n    getPublicKey: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getPublicKey(input)];\n        });\n    }); },\n    getPublicKeyHash: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getPublicKeyHash(input)];\n        });\n    }); },\n    getRevealEstimate: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getRevealEstimate(input)];\n        });\n    }); },\n    getTransferEstimate: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getTransferEstimate(input)];\n        });\n    }); },\n    getOriginateEstimate: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getOriginateEstimate(input)];\n        });\n    }); },\n    checkAddress: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.checkAddress(input)];\n        });\n    }); },\n    getBalance: function (input) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, plugin.getBalance(input)];\n        });\n    }); }\n}); };\nexports.query = query;\n//# sourceMappingURL=resolvers.js.map","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveLiquidity.vue?vue&type=style&index=0&id=21f1811c&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveLiquidity.vue?vue&type=style&index=0&id=21f1811c&lang=postcss&scoped=true&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidOperationHash = void 0;\nfunction isValidOperationHash(hash) {\n    return hash.length === 51 && hash.startsWith('o');\n}\nexports.isValidOperationHash = isValidOperationHash;\n//# sourceMappingURL=utils.js.map","module.exports = __webpack_public_path__ + \"img/temple.8c541031.png\";","module.exports = __webpack_public_path__ + \"img/arrow-right-top.2c65ec53.svg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toOperationContentEntry = exports.fromOperationError = exports.toOperationError = exports.toRPCTransferOperation = exports.toTxOperationEntry = exports.fromTxOperation = exports.toTxOperation = exports.fromOriginateParams = exports.toOriginateParams = exports.fromSendParams = exports.toSendParams = exports.fromRevealParams = exports.toRevealParams = exports.fromEstimate = exports.toEstimate = exports.toSignResult = exports.toBlock = exports.toTransferConfirmation = exports.toOriginationOperation = exports.toOperationStatus = exports.toTransferParams = exports.fromTransferParams = exports.toTransferParamsWithTransactionKind = void 0;\nvar taquito_1 = __importDefault(require(\"@taquito/taquito\"));\nvar rpc_1 = require(\"@taquito/rpc\");\nvar toTransferParamsWithTransactionKind = function (response) { return (__assign(__assign({}, (0, exports.fromTransferParams)(response)), { kind: rpc_1.OpKind.TRANSACTION })); };\nexports.toTransferParamsWithTransactionKind = toTransferParamsWithTransactionKind;\nvar fromTransferParams = function (receipt) { return ({\n    to: receipt.to,\n    amount: receipt.amount,\n    source: receipt.source ? receipt.source : undefined,\n    fee: receipt.fee ? receipt.fee : undefined,\n    gasLimit: receipt.gasLimit ? receipt.gasLimit : undefined,\n    storageLimit: receipt.storageLimit ? receipt.storageLimit : undefined,\n    mutez: receipt.mutez ? receipt.mutez : undefined,\n    parameter: receipt.parameter ? JSON.parse(receipt.parameter) : undefined,\n}); };\nexports.fromTransferParams = fromTransferParams;\nvar toTransferParams = function (receipt) { return ({\n    to: receipt.to,\n    amount: receipt.amount,\n    source: receipt.source,\n    fee: receipt.fee,\n    gasLimit: receipt.gasLimit,\n    storageLimit: receipt.storageLimit,\n    mutez: receipt.mutez,\n    parameter: JSON.stringify(receipt.parameter)\n}); };\nexports.toTransferParams = toTransferParams;\nvar toOperationStatus = function (response) { return ({\n    hash: response.hash,\n    type: response.type,\n    block: response.block,\n    time: response.time,\n    height: response.hash,\n    cycle: response.cycle,\n    counter: response.counter,\n    status: response.status,\n    is_success: response.is_success,\n    is_contract: response.is_contract,\n    gas_limit: response.gas_limit,\n    gas_used: response.gas_used,\n    gas_price: response.gas_price,\n    storage_limit: response.storage_limit,\n    storage_size: response.storage_size,\n    storage_paid: response.storage_paid,\n    volume: response.volume,\n    fee: response.fee,\n    days_destroyed: response.days_destroyed,\n    sender: response.sender,\n    receiver: response.receiver,\n    confirmations: response.confirmations\n}); };\nexports.toOperationStatus = toOperationStatus;\nvar toOriginationOperation = function (receipt) { return ({\n    contractAddress: receipt.contractAddress,\n    hash: receipt.hash,\n    consumedGas: receipt.consumedGas ? receipt.consumedGas : undefined,\n    errors: receipt.errors\n        ? receipt.errors.map(function (err) { return (0, exports.toOperationError)(err); })\n        : [],\n    fee: receipt.fee,\n    gasLimit: receipt.gasLimit,\n    includedInBlock: receipt.includedInBlock,\n    revealStatus: receipt.revealStatus,\n    status: receipt.status,\n    storageDiff: receipt.storageDiff ? receipt.storageDiff : undefined,\n    storageLimit: receipt.storageLimit,\n    storageSize: receipt.storageSize ? receipt.storageSize : undefined,\n}); };\nexports.toOriginationOperation = toOriginationOperation;\nvar toTransferConfirmation = function (receipt) { return ({\n    completed: receipt.completed,\n    currentConfirmation: receipt.currentConfirmation,\n    expectedConfirmation: receipt.expectedConfirmation,\n    block: (0, exports.toBlock)(receipt.block),\n}); };\nexports.toTransferConfirmation = toTransferConfirmation;\nvar toBlock = function (receipt) { return ({\n    chainId: receipt.chain_id,\n    hash: receipt.hash,\n    protocol: receipt.protocol,\n}); };\nexports.toBlock = toBlock;\nvar toSignResult = function (receipt) { return ({\n    bytes: receipt.bytes,\n    sig: receipt.sig,\n    prefixSig: receipt.prefixSig,\n    sbytes: receipt.sbytes,\n}); };\nexports.toSignResult = toSignResult;\nvar toEstimate = function (receipt) { return ({\n    burnFeeMutez: receipt.burnFeeMutez,\n    gasLimit: receipt.gasLimit,\n    minimalFeeMutez: receipt.minimalFeeMutez,\n    opSize: receipt.opSize.toString(),\n    storageLimit: receipt.storageLimit,\n    suggestedFeeMutez: receipt.suggestedFeeMutez,\n    totalCost: receipt.totalCost,\n    usingBaseFeeMutez: receipt.usingBaseFeeMutez,\n    consumedMilligas: receipt.consumedMilligas,\n}); };\nexports.toEstimate = toEstimate;\nvar fromEstimate = function (receipt) { return ({\n    burnFeeMutez: receipt.burnFeeMutez,\n    gasLimit: receipt.gasLimit,\n    minimalFeeMutez: receipt.minimalFeeMutez,\n    opSize: receipt.opSize,\n    storageLimit: receipt.storageLimit,\n    suggestedFeeMutez: receipt.suggestedFeeMutez,\n    totalCost: receipt.totalCost,\n    usingBaseFeeMutez: receipt.usingBaseFeeMutez,\n    consumedMilligas: receipt.consumedMilligas,\n}); };\nexports.fromEstimate = fromEstimate;\nvar toRevealParams = function (receipt) { return ({\n    fee: receipt.fee ? receipt.fee : undefined,\n    gasLimit: receipt.gasLimit ? receipt.gasLimit : undefined,\n    storageLimit: receipt.storageLimit ? receipt.storageLimit : undefined,\n}); };\nexports.toRevealParams = toRevealParams;\nvar fromRevealParams = function (receipt) { return ({\n    fee: receipt.fee ? receipt.fee : undefined,\n    gasLimit: receipt.gasLimit ? receipt.gasLimit : undefined,\n    storageLimit: receipt.storageLimit ? receipt.storageLimit : undefined,\n}); };\nexports.fromRevealParams = fromRevealParams;\nvar toSendParams = function (receipt) { return ({\n    to: receipt.to,\n    amount: receipt.amount,\n    source: receipt.source,\n    fee: receipt.fee,\n    gasLimit: receipt.gasLimit,\n    storageLimit: receipt.storageLimit,\n    mutez: receipt.mutez,\n}); };\nexports.toSendParams = toSendParams;\nvar fromSendParams = function (receipt) { return ({\n    to: receipt.to,\n    amount: receipt.amount,\n    source: receipt.source ? receipt.source : undefined,\n    fee: receipt.fee ? receipt.fee : undefined,\n    gasLimit: receipt.gasLimit ? receipt.gasLimit : undefined,\n    storageLimit: receipt.storageLimit ? receipt.storageLimit : undefined,\n    mutez: receipt.mutez ? receipt.mutez : undefined,\n}); };\nexports.fromSendParams = fromSendParams;\nvar toOriginateParams = function (receipt) { return ({\n    code: receipt.code,\n    storage: receipt.storage,\n    balance: receipt.balance,\n    delegate: receipt.delegate,\n    fee: receipt.fee,\n    gasLimit: receipt.gasLimit,\n    storageLimit: receipt.storageLimit,\n    mutez: receipt.mutez,\n}); };\nexports.toOriginateParams = toOriginateParams;\nvar fromOriginateParams = function (receipt) { return ({\n    code: receipt.code,\n    storage: receipt.storage,\n    balance: receipt.balance ? receipt.balance : undefined,\n    delegate: receipt.delegate ? receipt.delegate : undefined,\n    fee: receipt.fee ? receipt.fee : undefined,\n    gasLimit: receipt.gasLimit ? receipt.gasLimit : undefined,\n    storageLimit: receipt.storageLimit ? receipt.storageLimit : undefined,\n    mutez: receipt.mutez ? receipt.mutez : undefined,\n    init: receipt.init ? receipt.init : undefined,\n}); };\nexports.fromOriginateParams = fromOriginateParams;\nvar toTxOperation = function (receipt) { return ({\n    hash: receipt.hash,\n    source: receipt.source || \"\",\n    amount: receipt.amount.toString(),\n    consumedGas: receipt.consumedGas,\n    destination: receipt.destination,\n    errors: receipt.errors.map(exports.toOperationError),\n    fee: receipt.fee,\n    gasLimit: receipt.gasLimit,\n    includedInBlock: receipt.includedInBlock.toString(),\n    status: receipt.status.toString(),\n    storageDiff: receipt.storageDiff,\n    storageLimit: receipt.storageLimit,\n    storageSize: receipt.storageSize,\n}); };\nexports.toTxOperation = toTxOperation;\nvar fromTxOperation = function (receipt) {\n    return new taquito_1.default.TransactionOperation(receipt.hash, (0, exports.toRPCTransferOperation)(receipt), receipt.source, {}, [], undefined);\n};\nexports.fromTxOperation = fromTxOperation;\nvar toTxOperationEntry = function (receipt) { return ({\n    branch: receipt.branch,\n    chainId: receipt.chain_id,\n    hash: receipt.hash,\n    protocol: receipt.protocol,\n    signature: receipt.signature,\n    contents: receipt.contents.map(exports.toOperationContentEntry),\n}); };\nexports.toTxOperationEntry = toTxOperationEntry;\nvar toRPCTransferOperation = function (receipt) { return ({\n    amount: receipt.amount || \"\",\n    destination: receipt.destination,\n    fee: receipt.fee,\n    gas_limit: receipt.gasLimit,\n    kind: taquito_1.default.OpKind.TRANSACTION,\n    source: receipt.source || \"\",\n    storage_limit: receipt.storageLimit,\n}); };\nexports.toRPCTransferOperation = toRPCTransferOperation;\nvar toOperationError = function (error) { return ({\n    id: error.id,\n    kind: error.kind,\n}); };\nexports.toOperationError = toOperationError;\nvar fromOperationError = function (error) { return ({\n    id: error.id,\n    kind: error.kind,\n}); };\nexports.fromOperationError = fromOperationError;\nvar toOperationContentEntry = function (content) { return ({\n    kind: content.kind,\n}); };\nexports.toOperationContentEntry = toOperationContentEntry;\n//# sourceMappingURL=mapping.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getOperation = void 0;\nvar axios_1 = __importDefault(require(\"axios\"));\nvar utils_1 = require(\"./utils\");\nvar indexerSupportedNetworks = [\"mainnet\", \"granadanet\", \"hangzhounet\"];\nvar IndexerConfig = {\n    \"mainnet\": \"https://api.tzstats.com\",\n    \"granadanet\": \"https://api.granada.tzstats.com\",\n    \"hangzhounet\": \"https://api.hangzhou.tzstats.com\",\n};\nvar indexerClient = axios_1.default.create({\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\nfunction getOperation(network, hash) {\n    return __awaiter(this, void 0, void 0, function () {\n        var url, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(0, utils_1.isValidOperationHash)(hash)) {\n                        throw new Error(\"invalid hash '\".concat(hash, \"'\"));\n                    }\n                    if (!indexerSupportedNetworks.includes(network)) {\n                        throw new Error(\"network \\\"\".concat(network, \"\\\" is not supported\"));\n                    }\n                    url = \"\".concat(IndexerConfig[network], \"/explorer/op/\").concat(hash);\n                    return [4 /*yield*/, indexerClient.get(url)];\n                case 1:\n                    response = _a.sent();\n                    return [2 /*return*/, response.data[0]];\n            }\n        });\n    });\n}\nexports.getOperation = getOperation;\n//# sourceMappingURL=indexer.js.map","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BakerFormField.vue?vue&type=style&index=0&id=1c8e6a97&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BakerFormField.vue?vue&type=style&index=0&id=1c8e6a97&lang=postcss&scoped=true&\"","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mutation = exports.Query = void 0;\nexports.Query = __importStar(require(\"./query\"));\nexports.Mutation = __importStar(require(\"./mutation\"));\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./schema\"), exports);\n__exportStar(require(\"./manifest\"), exports);\n//# sourceMappingURL=index.js.map","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavTabs.vue?vue&type=style&index=0&id=079c04d0&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavTabs.vue?vue&type=style&index=0&id=079c04d0&lang=postcss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/remove.5467d7f9.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavInvest.vue?vue&type=style&index=0&id=6e7679fc&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavInvest.vue?vue&type=style&index=0&id=6e7679fc&lang=postcss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABHSURBVHgBtU3BCQAgCJQmaIRGcJRGaqNGaJRGaATzwCCkngrHyd3pEcWPiDDgtKKo2JNp/YRgKg0F+y8TV8btV7We5hXKXttZrTQBOk06bQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/token-logo.4a0af628.png\";","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = exports.InMemorySigner = void 0;\nvar Networks_1 = require(\"./Networks\");\nvar taquito_1 = require(\"@taquito/taquito\");\nvar signer_1 = require(\"@taquito/signer\");\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return signer_1.InMemorySigner; } });\nvar tzip16_1 = require(\"@taquito/tzip16\");\nvar Connection = /** @class */ (function () {\n    function Connection(_config) {\n        this._config = _config;\n        var provider = _config.provider, signer = _config.signer;\n        // Sanitize Provider & Signer\n        this.setProvider(provider, signer !== undefined ? signer : undefined);\n    }\n    Connection.fromConfigs = function (configs) {\n        var e_1, _a;\n        var connections = {};\n        try {\n            for (var _b = __values(Object.keys(configs)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var network = _c.value;\n                // Create the connection\n                var connection = new Connection(configs[network]);\n                var networkStr = network.toLowerCase();\n                connections[networkStr] = connection;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return connections;\n    };\n    Connection.fromNetwork = function (network) {\n        network = network.toLowerCase();\n        var provider = (0, Networks_1.getProvider)(network);\n        if (!provider) {\n            throw Error(\"Provider not available\");\n        }\n        return new Connection({\n            provider: provider,\n        });\n    };\n    Connection.fromNode = function (node) {\n        return new Connection({\n            provider: node,\n        });\n    };\n    Connection.prototype.setProvider = function (provider, signer) {\n        this._client = new taquito_1.TezosToolkit(provider);\n        this._client.addExtension(new tzip16_1.Tzip16Module());\n        if (signer) {\n            this.setSigner(signer);\n        }\n    };\n    Connection.prototype.getProvider = function () {\n        return this._client;\n    };\n    Connection.prototype.setSigner = function (signer) {\n        if (!this._client) {\n            throw Error(\"Please call \\\"setProvider(...)\\\" before calling setSigner\");\n        }\n        this._config.signer = signer;\n        this._client.setProvider({\n            signer: signer,\n        });\n    };\n    Connection.prototype.getSigner = function () {\n        var signer = this._config.signer;\n        if (!signer) {\n            throw Error(\"Provider does not have a signer\");\n        }\n        return signer;\n    };\n    Connection.prototype.getContract = function (address) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._client.contract.at(address)];\n            });\n        });\n    };\n    return Connection;\n}());\nexports.Connection = Connection;\n//# sourceMappingURL=Connection.js.map","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=4719be1c&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=4719be1c&lang=postcss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAClSURBVHgB5dHNCQIxEIbh+cb4h01sBwpiHx51L64VWMK6nehl2xBPgihsJ16UFVYzZg5BCRELcE7h5QmBDFEwl8MsuZ3m07BzGIwxCROvfsJv85/Q6OcyMOyPyyIGdAG9Di+YG6lEkNXnNI+hbru1s5YADbUL4gIgm4flvYHk9+a5VCQi28GkXMPf9pgIFZGMtHmkZ3w+9caUOFR4FB3F12Oahf0FtsFEXY3CLu4AAAAASUVORK5CYII=\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=67af0c06&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=67af0c06&lang=postcss&scoped=true&\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"beb2\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=style&index=0&id=6290fbbb&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=style&index=0&id=6290fbbb&lang=postcss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container relative px-4 py-4 mx-auto xs:px-6\"},[_c('header',{staticClass:\"flex flex-col items-center mb-2 align-middle lg:items-stretch lg:flex-row\"},[_c('div',{staticClass:\"flex flex-col flex-1 pt-4 select-none\"},[_c('div',{staticClass:\"flex mt-2 mb-4\"},[_c('div',[_c('a',{staticClass:\"LogoButton-module_logo__jTsOt\",attrs:{\"href\":\"/\"}},[_c('svg',{staticClass:\"LogoButton-module_logoText__eu10s\",attrs:{\"width\":\"160\",\"height\":\"30\",\"viewBox\":\"0 0 160 30\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M14.9809 25.2387C9.31954 25.2387 4.71596 20.6379 4.71596 14.9801C4.71596 9.3223 9.31954 4.72159 14.9809 4.72159C20.6422 4.72159 25.2458 9.3223 25.2458 14.9801C25.2458 15.6184 25.1859 16.25 25.0728 16.855L28.5255 20.3055C29.1775 18.6567 29.5367 16.855 29.5367 14.9801C29.5367 6.96211 23.0105 0.43335 14.9809 0.43335C6.95122 0.43335 0.425049 6.96211 0.425049 14.9801C0.425049 23.0048 6.95787 29.5269 14.9809 29.5269C16.8303 29.5269 18.5932 29.1812 20.2231 28.5496L16.7571 25.0857C16.1783 25.1921 15.5863 25.2387 14.9809 25.2387Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"d\":\"M25.9196 25.1567L20.6537 19.887C20.0295 19.2565 19.8702 18.3406 20.1823 17.5707C20.2885 17.3119 20.4479 17.0663 20.6537 16.8606C21.4904 16.0243 22.8451 16.0243 23.6818 16.8606L28.9476 22.1303C29.7843 22.9665 29.7843 24.3204 28.9476 25.1567C28.8082 25.2961 28.6555 25.4089 28.4961 25.5018C27.6793 25.9664 26.6168 25.8536 25.9196 25.1567ZM19.7779 20.5308L25.1632 25.9133C25.9999 26.7495 25.9999 28.1034 25.1632 28.9397C25.0304 29.0724 24.891 29.1786 24.7383 29.2715C23.9148 29.756 22.8391 29.6432 22.1352 28.9397L16.8693 23.67C16.0326 22.8338 16.0326 21.4798 16.8693 20.6436C17.1283 20.3847 17.4404 20.2056 17.7658 20.106C18.4431 19.9003 19.2068 20.0396 19.7779 20.5308Z\",\"fill\":\"url(#Logo-paint0_linear)\"}}),_c('path',{attrs:{\"d\":\"M49.7346 6.57175C50.5613 6.57175 51.2315 5.90201 51.2315 5.07585C51.2315 4.24969 50.5613 3.57996 49.7346 3.57996C48.9079 3.57996 48.2378 4.24969 48.2378 5.07585C48.2378 5.90201 48.9079 6.57175 49.7346 6.57175Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M43.4182 8.88147C42.6758 8.88147 42.0711 9.48581 42.0711 10.2278V16.0618C42.0711 17.8389 40.6222 19.2869 38.8439 19.2869C37.0657 19.2869 35.6168 17.8389 35.6168 16.0618V10.2278C35.6168 9.48581 35.0121 8.88147 34.2696 8.88147C33.5272 8.88147 32.9225 9.48581 32.9225 10.2278V16.0618C32.9225 19.3228 35.5809 21.9795 38.8439 21.9795C40.0534 21.9795 41.179 21.6145 42.119 20.9923C42.2747 21.5607 42.7956 21.9795 43.4182 21.9795C44.1607 21.9795 44.7654 21.3752 44.7654 20.6332V16.0618V10.2278C44.7654 9.47983 44.1607 8.88147 43.4182 8.88147Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M82.0126 8.88147C81.2702 8.88147 80.6655 9.48581 80.6655 10.2278V16.0618C80.6655 17.8389 79.2165 19.2869 77.4383 19.2869C75.6601 19.2869 74.2111 17.8389 74.2111 16.0618V10.2278C74.2111 9.48581 73.6064 8.88147 72.864 8.88147C72.1216 8.88147 71.5168 9.48581 71.5168 10.2278V16.0618C71.5168 19.3228 74.1752 21.9795 77.4383 21.9795C78.6477 21.9795 79.7734 21.6145 80.7134 20.9923C80.869 21.5607 81.3899 21.9795 82.0126 21.9795C82.755 21.9795 83.3598 21.3752 83.3598 20.6332V16.0618V10.2278C83.3598 9.47983 82.761 8.88147 82.0126 8.88147Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M118.583 8.88147C117.841 8.88147 117.236 9.48581 117.236 10.2278V16.6302C117.236 18.0962 116.044 19.2869 114.578 19.2869C113.111 19.2869 111.919 18.0962 111.919 16.6302V10.2278C111.919 9.48581 111.314 8.88147 110.572 8.88147C109.83 8.88147 109.225 9.48581 109.225 10.2278V16.6302C109.225 18.0962 108.033 19.2869 106.567 19.2869C105.1 19.2869 103.908 18.0962 103.908 16.6302V10.2278C103.908 9.48581 103.303 8.88147 102.561 8.88147C101.819 8.88147 101.214 9.48581 101.214 10.2278V16.6302C101.214 19.5801 103.615 21.9795 106.567 21.9795C108.159 21.9795 109.59 21.2795 110.572 20.1725C111.554 21.2795 112.985 21.9795 114.578 21.9795C117.529 21.9795 119.93 19.5801 119.93 16.6302V10.2278C119.93 9.47983 119.325 8.88147 118.583 8.88147Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M49.7221 8.73853C48.9797 8.73853 48.375 9.34287 48.375 10.0848V20.4903C48.375 21.2323 48.9797 21.8366 49.7221 21.8366C50.4646 21.8366 51.0693 21.2323 51.0693 20.4903V10.0848C51.0693 9.33688 50.4646 8.73853 49.7221 8.73853Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M146.49 7.54114C144.735 7.54114 143.131 8.19933 141.915 9.28236C141.67 9.03105 141.328 8.87548 140.951 8.87548C140.209 8.87548 139.604 9.47982 139.604 10.2218V14.4223V24.6303C139.604 25.3722 140.209 25.9766 140.951 25.9766C141.694 25.9766 142.298 25.3722 142.298 24.6303V19.8793C143.46 20.7708 144.915 21.3034 146.49 21.3034C150.285 21.3034 153.375 18.2159 153.375 14.4223C153.375 10.6287 150.285 7.54114 146.49 7.54114ZM146.49 18.6108C144.178 18.6108 142.298 16.7319 142.298 14.4223C142.298 12.1126 144.178 10.2338 146.49 10.2338C148.801 10.2338 150.681 12.1126 150.681 14.4223C150.681 16.7319 148.801 18.6108 146.49 18.6108Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M135.054 8.88146C134.677 8.88146 134.335 9.03703 134.09 9.28834C132.875 8.20531 131.27 7.54712 129.516 7.54712C125.72 7.54712 122.63 10.6347 122.63 14.4282C122.63 18.2218 125.72 21.3094 129.516 21.3094C131.09 21.3094 132.545 20.7768 133.707 19.8853V19.9631C133.707 20.705 134.311 21.3094 135.054 21.3094C135.796 21.3094 136.401 20.705 136.401 19.9631V14.4282V10.2278C136.401 9.47982 135.802 8.88146 135.054 8.88146ZM129.516 18.6108C127.205 18.6108 125.325 16.7319 125.325 14.4223C125.325 12.1126 127.205 10.2338 129.516 10.2338C131.827 10.2338 133.707 12.1126 133.707 14.4223C133.707 16.7319 131.827 18.6108 129.516 18.6108Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M96.2321 13.1178C95.3939 12.3998 94.394 11.8672 93.3283 11.2988C93.2025 11.233 93.0768 11.1671 92.9511 11.0953C90.8196 9.94649 90.0652 9.16264 90.0652 8.09158C90.0652 7.64281 90.2268 7.25388 90.5442 6.93675C90.9633 6.5179 91.6099 6.27257 92.3044 6.27257H92.3104C93.472 6.27257 94.2024 6.76921 94.8431 7.20003C94.9448 7.27183 95.0466 7.33765 95.1424 7.39749C95.7651 7.80437 96.6033 7.62486 97.0045 7.00257C97.4116 6.38028 97.232 5.54257 96.6093 5.14167C96.5315 5.08782 96.4477 5.03397 96.3579 4.97413C95.5915 4.45356 94.3042 3.57996 92.3104 3.57996H92.3044C90.8974 3.57996 89.5622 4.10651 88.6402 5.02798C87.8199 5.84175 87.3709 6.93077 87.3709 8.0856C87.3709 10.7722 89.4365 12.2562 91.6698 13.4589C91.7955 13.5307 91.9272 13.5965 92.053 13.6623C94.0108 14.7094 95.2143 15.4095 95.358 16.6302C95.4238 17.2285 95.2442 17.8089 94.8371 18.2577C94.3222 18.8321 93.5199 19.1552 92.5858 19.1552C90.9932 19.1552 89.8077 18.2038 88.9396 17.5097C88.7779 17.3781 88.6282 17.2584 88.4785 17.1507C87.8798 16.7079 87.0356 16.8276 86.5925 17.42C86.1495 18.0184 86.2692 18.862 86.862 19.3048C86.9757 19.3886 87.1015 19.4903 87.2511 19.61C88.2989 20.4477 90.0472 21.8478 92.5799 21.8478C94.2922 21.8478 95.807 21.2076 96.8428 20.0528C97.7649 19.0176 98.184 17.6952 98.0283 16.325C97.8966 15.0864 97.3038 14.0333 96.2321 13.1178Z\",\"fill\":\"#232735\"}}),_c('path',{attrs:{\"d\":\"M61.6078 7.54114C59.8535 7.54114 58.2489 8.19933 57.0335 9.28236C56.788 9.03105 56.4468 8.87548 56.0696 8.87548C55.3271 8.87548 54.7224 9.47982 54.7224 10.2218V14.4223V24.6303C54.7224 24.9474 54.8302 25.2346 55.0158 25.468C55.0397 25.4979 55.0697 25.5338 55.0996 25.5637C55.1535 25.6176 55.2134 25.6714 55.2732 25.7193C55.3152 25.7492 55.3571 25.7791 55.399 25.803C55.4289 25.821 55.4589 25.833 55.4888 25.8509C55.4948 25.8569 55.5008 25.8569 55.5068 25.8629C55.5247 25.8689 55.5427 25.8808 55.5666 25.8868C55.5966 25.8988 55.6205 25.9107 55.6504 25.9167C55.6624 25.9227 55.6684 25.9227 55.6804 25.9287C55.7163 25.9407 55.7522 25.9466 55.7941 25.9586H55.8001C55.8899 25.9766 55.9797 25.9885 56.0696 25.9885C56.812 25.9885 57.4167 25.3842 57.4167 24.6422V19.8913C58.5782 20.7828 60.0332 21.3154 61.6078 21.3154C65.4038 21.3154 68.4932 18.2278 68.4932 14.4342C68.4932 10.6406 65.4038 7.54114 61.6078 7.54114ZM61.6078 18.6108C59.2967 18.6108 57.4167 16.7319 57.4167 14.4223C57.4167 12.1126 59.2967 10.2338 61.6078 10.2338C63.9189 10.2338 65.7989 12.1126 65.7989 14.4223C65.7989 16.7319 63.9189 18.6108 61.6078 18.6108Z\",\"fill\":\"#232735\"}}),_c('defs',[_c('linearGradient',{attrs:{\"id\":\"Logo-paint0_linear\",\"x1\":\"16.2418\",\"y1\":\"16.2334\",\"x2\":\"31.1552\",\"y2\":\"18.3306\",\"gradientUnits\":\"userSpaceOnUse\"}},[_c('stop',{attrs:{\"stop-color\":\"#5C1EE0\"}}),_c('stop',{attrs:{\"offset\":\"1\",\"stop-color\":\"#1373E4\"}})],1)],1)])]),_c('br')]),_vm._m(0)]),_c('div',{staticClass:\"relative flex flex-col w-48\"},[_c('div',{staticClass:\"flex flex-row justify-between w-auto cursor-pointer network-selector align-center\",on:{\"click\":_vm.toggleNetworkSelect}},[_c('span',{staticClass:\"flex items-center justify-center w-48 h-12 text-primary border rounded-lg connect-button button-network border-accent\"},[_vm._v(_vm._s(_vm.selectedNetwork.name))]),_c('img',{class:_vm.networkSelectOpened ? 'mr-3 z-10 transform rotate-180' : 'mr-3 z-10',staticStyle:{\"height\":\"1em\",\"margin-top\":\"1em\"},attrs:{\"src\":require(\"@/assets/arrow-down.png\")}})]),(_vm.networkSelectOpened)?_c('div',{staticClass:\"absolute flex flex-col justify-end w-48\",staticStyle:{\"top\":\"4rem\"}},_vm._l((_vm.allNetworks),function(net){return _c('button',{key:net.id,staticClass:\"flex items-center justify-center w-48 h-12 my-1 text-primary border rounded-lg cursor-pointer connect-button network-item border-accent\",class:net.disabled ? 'opacity-50' : '',attrs:{\"disabled\":net.disabled},on:{\"click\":function () { return _vm.selectNetwork(net); }}},[_vm._v(\" \"+_vm._s(net.name)+\" \")])}),0):_vm._e()])]),_vm._m(1),_c('div',{staticClass:\"flex justify-end flex-1 pt-4\"},[_c('div',{staticClass:\"lg:block\"},[(!_vm.account.pkh)?[_c('div',{staticClass:\"flex flex-col\"},[_c('button',{staticClass:\"flex items-center w-64 h-12 mb-4 text-primary transition duration-300 ease-in-out border rounded-md border-accent hover:text-accent\",on:{\"click\":_vm.handleConnectTemple}},[_vm._m(2),_c('div',{staticClass:\"primary\"},[_vm._v(\" Connect Temple \")]),_c('div',{staticClass:\"flex-1\"})])])]:[_c('div',{staticClass:\"flex flex-row justify-center w-auto\"},[_c('span',{staticClass:\"flex items-center justify-center h-12 px-4 text-primary border rounded-lg connect-button button-balance border-accent\"},[(_vm.accountBalance)?_c('span',[_vm._v(_vm._s(_vm.accountBalance)+\" XTZ\")]):_c('div',{staticClass:\"flex items-center justify-center\"},[_c('Loader')],1)]),_c('div',{staticClass:\"flex items-center justify-center w-64 h-12 px-4 text-primary border border-l-0 rounded-md cursor-pointer connect-button button-pkh border-accent\",on:{\"mouseover\":function($event){_vm.accountLabelHovered = true},\"mouseleave\":function($event){_vm.accountLabelHovered = false},\"click\":_vm.handleReconnect}},[_c('span',[_vm._v(_vm._s(_vm.accountLabel))])])])],(_vm.account.pkh)?_c('div',{staticClass:\"flex items-center mt-3\"},[_c('div',{staticClass:\"flex-1\"}),_c('button',{staticClass:\"flex items-center justify-center h-8 px-4 text-primary border rounded-md cursor-pointer connect-button border-accent hover:text-accent\",on:{\"click\":_vm.logout}},[_vm._v(\"Sign Out\")])]):_vm._e()],2)])]),_c('router-view')],1),_c('div',{staticClass:\"flex-1\"}),_c('div',{staticClass:\"flex flex-col items-center justify-center p-4 mt-10\"},[_c('div',{staticClass:\"p-4 text-sm font-light text-center text-white\"},[_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://twitter.com/madfishofficial\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Twitter \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://t.me/MadFishCommunity\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Telegram \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://www.madfish.solutions/discord\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Discord \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://www.reddit.com/r/MadFishCommunity\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Reddit \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://madfish.crunch.help/quipu-swap\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" FAQ \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://docs.quipuswap.com\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Docs \")]),_vm._v(\" | \"),_c('router-link',{staticClass:\"px-4\",attrs:{\"to\":\"/disclaimer\"}},[_vm._v(\" Disclaimer \")]),_vm._v(\" | \"),_c('a',{staticClass:\"px-4\",attrs:{\"href\":\"https://story.madfish.solutions/madfish-subscription-form\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Subscribe \")])],1),_vm._m(3)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"text-xs text-primary poly-text\"},[_vm._v(\"polywrap\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col items-center justify-center py-10 lg:py-0\"},[_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"p-4 bg-accent rounded text-white whitespace-normal font-medium center\"},[_vm._v(\" Hello! This is a demo version of QuipuSwap using Polywrap. \"),_c('br'),_vm._v(\" You use this app on the mainnet at your own risk. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex justify-center flex-1\"},[_c('img',{staticClass:\"w-auto h-8\",attrs:{\"src\":require(\"@/assets/temple.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"text-sm font-light text-primary\"},[_vm._v(\" Made with \"),_c('span',{attrs:{\"role\":\"img\",\"aria-label\":\"Madfish Solutions\"}},[_vm._v(\"\")]),_vm._v(\" by \"),_c('a',{staticClass:\"font-normal hover:underline\",staticStyle:{\"color\":\"#98c630\"},attrs:{\"href\":\"https://blockwatch.cc/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Blockwatch.cc\")]),_vm._v(\" copied from \"),_c('a',{staticClass:\"font-normal hover:underline\",staticStyle:{\"color\":\"#98c630\"},attrs:{\"href\":\"https://madfish.solutions\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Madfish.Solutions\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-row\"},[_c('div',{class:(\"loading bg-accent \" + (_vm.sizes[_vm.size]) + \" mx-1 rounded-full\")}),_c('div',{class:(\"loading bg-accent \" + (_vm.sizes[_vm.size]) + \" mx-1 rounded-full\")}),_c('div',{class:(\"loading bg-accent \" + (_vm.sizes[_vm.size]) + \" mx-1 rounded-full\")})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class AppLayout extends Vue {\n  @Prop({ default: \"small\" }) size?: string;\n  sizes: object = {\n    small: \"w-1 h-1\",\n    large: \"w-2 h-2\",\n  };\n}\n","export interface QSAsset {\n  type: \"xtz\" | \"token\";\n  tokenType: QSTokenType;\n  id: string; // token contract address or \"XTZ\" for XTZ \n  decimals: number;\n  symbol: string;\n  name: string;\n  imgUrl: string;\n  fa2TokenId?: number;\n  default?: boolean;\n  exchange: string;\n}\n\nexport enum QSTokenType {\n  XTZ = \"XTZ\",\n  TzBTC = \"TzBTC\",\n  Staker = \"STAKER\",\n  FA1_2 = \"FA1.2\",\n  FA2 = \"FA2\",\n}\n\nexport interface QSNetwork {\n  id:\n    | \"mainnet\"\n    | \"granadanet\"\n    | \"hangzhounet\"\n    | \"florencenet\"\n    | \"edo2net\"\n    | \"edonet\"\n    | \"delphinet\"\n    | \"carthagenet\";\n  connectType: \"default\" | \"custom\";\n  name: string;\n  type: \"main\" | \"test\";\n  rpcBaseURL: string;\n  fa1_2FactoryContract: string | null;\n  fa2FactoryContract: string | null;\n  fa1_2OldFactoryContract: string | null;\n  fa2OldFactoryContract: string | null;\n  description: string;\n  color: string;\n  disabled: boolean;\n}\n\nexport type QSTokenMetadata = {\n  decimals: number;\n  symbol: string;\n  name: string;\n  thumbnailUri: string;\n};\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=67af0c06&scoped=true&\"\nimport script from \"./Loader.vue?vue&type=script&lang=ts&\"\nexport * from \"./Loader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&id=67af0c06&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67af0c06\",\n  null\n  \n)\n\nexport default component.exports","export enum Network {\n  Main = \"NetXdQprcVkpaWU\",\n  Florence = \"NetXxkAx4woPLyu\",\n  Edo2net = \"NetXSgo1ZT2DRUG\",\n}\n\nexport interface WhitelistedToken {\n  network: Network;\n  type: \"fa1.2\" | \"fa2\";\n  contractAddress: string;\n  fa2TokenId?: number;\n  metadata?: WhitelistedTokenMetadata;\n}\n\nexport type WhitelistedTokenMetadata = {\n  decimals: number;\n  symbol: string;\n  name: string;\n  thumbnailUri: string;\n};\n\nexport const TOKEN_WHITELIST: WhitelistedToken[] = [\n  /**\n   * Mainnet\n   */\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1K9gCRgaLRFKTErYt1wVxA3Frb9FjasjTV\",\n    metadata: {\n      decimals: 18,\n      symbol: \"KUSD\",\n      name: \"Kolibri\",\n      thumbnailUri: \"https://kolibri-data.s3.amazonaws.com/logo.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT193D4vozYnhGJQVtw7CoxxqphqUEEwK6Vb\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1VYsVfmobT7rsMVivvZ4J8i3bPiqz12NaH\",\n    metadata: {\n      decimals: 6,\n      symbol: \"wXTZ\",\n      name: \"Wrapped Tezos\",\n      thumbnailUri:\n        \"https://raw.githubusercontent.com/StakerDAO/wrapped-xtz/dev/assets/wXTZ-token-FullColor.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT1REEb5VxWRjcHm5GzDMwErMmNFftsE5Gpf\",\n    fa2TokenId: 0,\n    metadata: {\n      decimals: 6,\n      symbol: \"USDS\",\n      name: \"Stably USD\",\n      thumbnailUri: \"https://quipuswap.com/tokens/stably.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn\",\n    metadata: {\n      decimals: 8,\n      symbol: \"tzBTC\",\n      name: \"tzBTC\",\n      thumbnailUri:\n        \"https://tzbtc.io/wp-content/uploads/2020/03/tzbtc_logo_single.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1AEfeckNbdEYwaMKkytBwPJPycz7jdSGea\",\n    metadata: {\n      decimals: 18,\n      symbol: \"STKR\",\n      name: \"Staker Governance Token\",\n      thumbnailUri: \"https://github.com/StakerDAO/resources/raw/main/stkr.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9\",\n    metadata: {\n      decimals: 6,\n      symbol: \"USDtz\",\n      name: \"USDtez\",\n      thumbnailUri: \"https://quipuswap.com/tokens/usdtz.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT19at7rQUvyjxnZ2fBv7D9zc8rkyG7gAoU8\",\n    metadata: {\n      decimals: 18,\n      symbol: \"ETHtz\",\n      name: \"ETHtez\",\n      thumbnailUri: \"https://quipuswap.com/tokens/ethtz.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT1AFA2mwNUMNd4SsujE1YYp29vd8BZejyKW\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT1LRboPna9yQY9BrjtQYDS1DVxhKESK4VVd\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT1BHCumksALJQJ8q8to2EPigPW6qpyTr7Ng\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 1,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 2,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 3,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 4,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 5,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 6,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 7,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 8,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 9,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 10,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 11,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 12,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 13,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 14,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 15,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 16,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 17,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 18,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 19,\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    contractAddress: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n    fa2TokenId: 20,\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1GRSvLoikDsXujKgZPsGLX8k8VvR2Tq95b\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1A5P4ejnLix13jtadsfV9GCnXLMNnab8UT\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1XPFjZqCULSnqfKaaYy8hJjeY63UNSGwXg\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1TwzD6zV3WeJ39ukuqxcfK2fJCnhvrdN1X\",\n    metadata: {\n      decimals: 3,\n      symbol: \"SMAK\",\n      name: \"SmartLink\",\n      thumbnailUri: \"https://quipuswap.com/tokens/smak.png\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1JkoE42rrMBP9b2oDhbx6EUr26GcySZMUH\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 1,\n    contractAddress: \"KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 2,\n    contractAddress: \"KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW\",\n    metadata: {\n      symbol: \"uBTC\",\n      name: \"youves uBTC\",\n      decimals: 12,\n      thumbnailUri: \"ipfs://Qmbev41h4axBqVzxsXP2NSaAF996bJjJBPb8FFZVqTvJTY\",\n    },\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1GUNKmkrgtMQjJp3XxcmCj6HZBhkUmMbge\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1Xobej4mc6XgEjDoJoHtTKgbD1ELMvcQuL\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT19JYndHaesXpvUfiwgg8BtE41HKkjjGMRC\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1MuyJ7gVw74FNJpfb2mHR15aCREdyEbe2e\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1ErKVqEhG9jxXgUG2KGLW3bNM7zXHX8SDF\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1XTxpQvo7oRCqp85LikEZgAZ22uDxhbWJv\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1WapdVeFqhCfqwdHWwTzSTX7yXoHgiPRPU\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1QgAtLPu3SNq9c6DPLanwL5bvfX3rgh2CS\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT19y6R8x53uDKiM46ahgguS6Tjqhdj2rSzZ\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1Rpviewjg82JgjGfAKFneSupjAR1kUhbza\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT1SjXiUX63QvdNMcM2m492f7kuf8JxXRLp4\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa1.2\",\n    contractAddress: \"KT19DUSZw7mfeEATrbWVPHRrWNVbNnmfFAE6\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1CS2xKGHNPTauSh5Re4qE3N9PCfG5u4dPx\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1PnUZCp3u2KzWr93pn4DD7HAJnm3rWVrgn\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1Wa8yqRBpFCusJWgcQyjhRz7hUQAmFxW7j\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1KPoyzkj82Sbnafm6pfesZKEhyCpXwQfMc\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1F1mn2jbqQCJcsNgYKVAQjvenecNMY2oPK\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 1,\n    contractAddress: \"KT19ovJhcsUn4YU8Q5L3BGovKSixfbWcecEA\",\n  },\n  {\n    network: Network.Main,\n    type: \"fa2\",\n    fa2TokenId: 0,\n    contractAddress: \"KT1KRvNVubq64ttPbQarxec5XdS6ZQU4DVD2\",\n  },\n\n  /**\n   * Florence\n   */\n\n  {\n    network: Network.Florence,\n    type: \"fa2\",\n    contractAddress: \"KT1DaKxkR1LdnXW1tr7yozdwEAiSQDpCLUBj\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Florence,\n    type: \"fa1.2\",\n    contractAddress: \"KT1P3RGEAa78XLTs3Hkpd1VWtryQRLDjiXqF\",\n  },\n  {\n    network: Network.Florence,\n    type: \"fa1.2\",\n    contractAddress: \"KT198WVepFnjQtx9HUhuKc2x8gUt9z2fvyv6\",\n  },\n  // Old\n  {\n    network: Network.Florence,\n    type: \"fa1.2\",\n    contractAddress: \"KT1FXDTQb1o7Q7HecuxaWQ18XyHTsRrzuaZs\",\n  },\n  {\n    network: Network.Florence,\n    type: \"fa1.2\",\n    contractAddress: \"KT1CMbwrQodEYFpdJmk8pzN8SzieupG6ZrZE\",\n  },\n  {\n    network: Network.Florence,\n    type: \"fa2\",\n    contractAddress: \"KT1VCczKAoRQJKco7NiSaB93PMkYCbL2z1K7\",\n    fa2TokenId: 0,\n  },\n  {\n    network: Network.Florence,\n    type: \"fa2\",\n    contractAddress: \"KT1CdFLoqESYe3qBCgM7LZUVmqYZFEabzwyS\",\n    fa2TokenId: 0,\n  },\n];\n","import { QSAsset, QSTokenType, QSNetwork } from \"@/core/types\";\n\nexport { TOKEN_WHITELIST } from \"../whitelist\";\n\n// Hangzhounet\nexport const FA1_2_FACTORY_CONTRACT_HANGZHOUNET =\n  process.env.VUE_APP_FA1_2_FACTORY_CONTRACT_HANGZHOUNET || null;\nexport const FA2_FACTORY_CONTRACT_HANGZHOUNET =\n  process.env.VUE_APP_FA2_FACTORY_CONTRACT_HANGZHOUNET || null;\nexport const FA1_2_OLD_FACTORY_CONTRACT_HANGZHOUNET =\n  process.env.VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_HANGZHOUNET || null;\nexport const FA2_OLD_FACTORY_CONTRACT_HANGZHOUNET =\n  process.env.VUE_APP_FA2_OLD_FACTORY_CONTRACT_HANGZHOUNET || null;\n\n// Granadanet\nexport const FA1_2_FACTORY_CONTRACT_GRANADANET =\n  process.env.VUE_APP_FA1_2_FACTORY_CONTRACT_GRANADANET || null;\nexport const FA2_FACTORY_CONTRACT_GRANADANET =\n  process.env.VUE_APP_FA2_FACTORY_CONTRACT_GRANADANET || null;\nexport const FA1_2_OLD_FACTORY_CONTRACT_GRANADANET =\n  process.env.VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_GRANADANET || null;\nexport const FA2_OLD_FACTORY_CONTRACT_GRANADANET =\n  process.env.VUE_APP_FA2_OLD_FACTORY_CONTRACT_GRANADANET || null;\n\n// Florencenet\nexport const FA1_2_FACTORY_CONTRACT_FLORENCENET =\n  process.env.VUE_APP_FA1_2_FACTORY_CONTRACT_FLORENCENET || null;\nexport const FA2_FACTORY_CONTRACT_FLORENCENET =\n  process.env.VUE_APP_FA2_FACTORY_CONTRACT_FLORENCENET || null;\nexport const FA1_2_OLD_FACTORY_CONTRACT_FLORENCENET =\n  process.env.VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_FLORENCENET || null;\nexport const FA2_OLD_FACTORY_CONTRACT_FLORENCENET =\n  process.env.VUE_APP_FA2_OLD_FACTORY_CONTRACT_FLORENCENET || null;\n\n// Mainnet\nexport const FA1_2_FACTORY_CONTRACT_MAINNET =\n  process.env.VUE_APP_FA1_2_FACTORY_CONTRACT_MAINNET || null;\nexport const FA2_FACTORY_CONTRACT_MAINNET =\n  process.env.VUE_APP_FA2_FACTORY_CONTRACT_MAINNET || null;\nexport const FA1_2_OLD_FACTORY_CONTRACT_MAINNET =\n  process.env.VUE_APP_FA1_2_OLD_FACTORY_CONTRACT_MAINNET || null;\nexport const FA2_OLD_FACTORY_CONTRACT_MAINNET =\n  process.env.VUE_APP_FA2_OLD_FACTORY_CONTRACT_MAINNET || null;\n\nexport const VOTING_PERIOD = parseInt(process.env.VUE_APP_VOTING_PERIOD!);\nexport const FEE_RATE = parseInt(process.env.VUE_APP_FEE_RATE!);\nexport const VETO_PERIOD = parseInt(process.env.VUE_APP_VETO_PERIOD!);\nexport const ACCURANCY_MULTIPLIER = parseInt(\n  process.env.VUE_APP_ACCURANCY_MULTIPLIER!\n);\nexport const LP_TOKEN_DECIMALS = parseInt(\n  process.env.VUE_APP_LP_TOKEN_DECIMALS!\n);\n\nexport const LOGO_URL = process.env.VUE_APP_LOGO_URL;\n\nexport const HANGZHOUNET_NETWORK: QSNetwork = {\n  id: \"hangzhounet\",\n  connectType: \"default\",\n  name: \"Hangzhou Testnet\",\n  type: \"test\",\n  rpcBaseURL: \"https://hangzhounet.smartpy.io\",\n  fa1_2FactoryContract: FA1_2_FACTORY_CONTRACT_HANGZHOUNET,\n  fa2FactoryContract: FA2_FACTORY_CONTRACT_HANGZHOUNET,\n  fa1_2OldFactoryContract: FA1_2_OLD_FACTORY_CONTRACT_HANGZHOUNET,\n  fa2OldFactoryContract: FA2_OLD_FACTORY_CONTRACT_HANGZHOUNET,\n  description: \"Hangzhou testnet\",\n  color: \"#0f4c81\",\n  disabled: false,\n};\n\nexport const GRANADANET_NETWORK: QSNetwork = {\n  id: \"granadanet\",\n  connectType: \"default\",\n  name: \"Granada Testnet\",\n  type: \"test\",\n  rpcBaseURL: \"https://granadanet.smartpy.io\",\n  fa1_2FactoryContract: FA1_2_FACTORY_CONTRACT_GRANADANET,\n  fa2FactoryContract: FA2_FACTORY_CONTRACT_GRANADANET,\n  fa1_2OldFactoryContract: FA1_2_OLD_FACTORY_CONTRACT_GRANADANET,\n  fa2OldFactoryContract: FA2_OLD_FACTORY_CONTRACT_GRANADANET,\n  description: \"Granada testnet\",\n  color: \"#0f4c81\",\n  disabled: false,\n};\n\nexport const FLORENCENET_NETWORK: QSNetwork = {\n  id: \"florencenet\",\n  connectType: \"default\",\n  name: \"Florence Testnet\",\n  type: \"test\",\n  rpcBaseURL: \"https://florencenet.smartpy.io\",\n  fa1_2FactoryContract: FA1_2_FACTORY_CONTRACT_FLORENCENET,\n  fa2FactoryContract: FA2_FACTORY_CONTRACT_FLORENCENET,\n  fa1_2OldFactoryContract: FA1_2_OLD_FACTORY_CONTRACT_FLORENCENET,\n  fa2OldFactoryContract: FA2_OLD_FACTORY_CONTRACT_FLORENCENET,\n  description: \"Florence testnet\",\n  color: \"#0f4c81\",\n  disabled: false,\n};\n\nexport const MAINNET_NETWORK: QSNetwork = {\n  id: \"mainnet\",\n  connectType: \"default\",\n  name: \"Tezos Mainnet\",\n  type: \"main\",\n  rpcBaseURL: \"https://mainnet-node.madfish.solutions/\",\n  fa1_2FactoryContract: FA1_2_FACTORY_CONTRACT_MAINNET,\n  fa2FactoryContract: FA2_FACTORY_CONTRACT_MAINNET,\n  fa1_2OldFactoryContract: FA1_2_OLD_FACTORY_CONTRACT_MAINNET,\n  fa2OldFactoryContract: FA2_OLD_FACTORY_CONTRACT_MAINNET,\n  description: \"Tezos mainnet\",\n  color: \"#83b300\",\n  disabled: false,\n};\n\nexport const ALL_NETWORKS = [\n  // MAINNET_NETWORK,\n  // FLORENCENET_NETWORK,\n  // GRANADANET_NETWORK,\n  HANGZHOUNET_NETWORK,\n];\nexport const DEFAULT_NETWORK = HANGZHOUNET_NETWORK;\n\nexport const XTZ_TOKEN: QSAsset = {\n  type: \"xtz\",\n  tokenType: QSTokenType.XTZ,\n  id: \"XTZ\",\n  decimals: 6,\n  symbol: \"XTZ\",\n  name: \"Tezos\",\n  imgUrl: require(\"@/assets/xtz.png\"),\n  exchange: \"\",\n};\n\nexport const DEFAULT_TOKEN_LOGO_URL = require(\"@/assets/token-logo.png\");\n\nexport const MAINNET_TOKENS: QSAsset[] = [\n  {\n    type: \"token\",\n    tokenType: QSTokenType.FA1_2,\n    id: \"KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9\",\n    decimals: 6,\n    symbol: \"USDtz\",\n    name: \"USD Tez\",\n    imgUrl: \"https://usdtz.com/lightlogo10USDtz.png\",\n    exchange: \"\",\n    default: true,\n  },\n  {\n    type: \"token\",\n    tokenType: QSTokenType.Staker,\n    id: \"KT1EctCuorV2NfVb1XTQgvzJ88MQtWP8cMMv\",\n    decimals: 0,\n    symbol: \"STKR\",\n    name: \"Staker\",\n    imgUrl:\n      \"https://miro.medium.com/fit/c/160/160/1*LzmHCYryGmuN9ZR7JX951w.png\",\n    exchange: \"\",\n    default: true,\n  },\n  {\n    type: \"token\",\n    tokenType: QSTokenType.TzBTC,\n    id: \"KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn\",\n    decimals: 8,\n    symbol: \"tzBTC\",\n    name: \"tzBTC\",\n    imgUrl: \"https://tzbtc.io/wp-content/uploads/2020/03/tzbtc_logo_single.png\",\n    exchange: \"\",\n    default: true,\n  },\n];\n\nexport const CHAIN_ID_MAPPING = new Map<string, string>([\n  [\"edo2net\", \"NetXSgo1ZT2DRUG\"],\n  [\"florencenet\", \"NetXxkAx4woPLyu\"],\n  [\"mainnet\", \"NetXdQprcVkpaWU\"],\n]);\n\nexport const TESTNET_TOKENS: QSAsset[] = [\n  // {\n  //   type: \"token\",\n  //   tokenType: QSTokenType.FA1_2,\n  //   id: \"KT1RXpLtz22YgX24QQhxKVyKvtKZFaAVtTB9\",\n  //   decimals: 18,\n  //   symbol: \"kUSD\",\n  //   name: \"Kolibri\",\n  //   imgUrl: \"https://kolibri-data.s3.amazonaws.com/logo.png\",\n  //   exchange: \"\",\n  //   default: true,\n  // },\n  // {\n  //   type: \"token\",\n  //   tokenType: QSTokenType.FA2,\n  //   id: \"KT1WnjpKriR4yweiFdkTiMofoV9hvz7vMSXJ\",\n  //   fa2TokenId: 0,\n  //   decimals: 6,\n  //   symbol: \"USDS\",\n  //   name: \"Stably USD\",\n  //   imgUrl: require(\"../assets/dollar-mark.png\"),\n  //   exchange: \"\",\n  //   default: true,\n  // },\n];\n","import { RpcClient } from \"@taquito/rpc\";\nimport memoize from \"mem\";\nimport debouncePromise from \"debounce-promise\";\n\ninterface RPCOptions {\n  block: string;\n}\n\nexport class FastRpcClient extends RpcClient {\n  refreshInterval = 20_000; // 20 src\n  memoizeMaxAge = 180_000; // 3 min\n\n  private latestBlock?: {\n    hash: string;\n    refreshedAt: number; // timestamp\n  };\n\n  async getBlockHash(opts?: RPCOptions) {\n    await this.loadLatestBlock(opts);\n\n    if (wantsHead(opts) && this.latestBlock) {\n      return this.latestBlock.hash;\n    }\n    return super.getBlockHash(opts);\n  }\n\n  async getBalance(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getBalanceMemo(address, opts);\n  }\n\n  getBalanceMemo = memoize(super.getBalance.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getLiveBlocks(opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getLiveBlocksMemo(opts);\n  }\n\n  getLiveBlocksMemo = memoize(super.getLiveBlocks.bind(this), {\n    cacheKey: ([opts]) => toOptsKey(opts),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getStorage(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getStorageMemo(address, opts);\n  }\n\n  getStorageMemo = memoize(super.getStorage.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getScript(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getScriptMemo(address, opts);\n  }\n\n  getScriptMemo = memoize(super.getScript.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getContract(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getContractMemo(address, opts);\n  }\n\n  getContractMemo = memoize(super.getContract.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getEntrypoints(contract: string, opts?: RPCOptions) {\n    const cacheKey = `${this.getRpcUrl()}_${contract}`;\n    try {\n      const cached = localStorage.getItem(cacheKey);\n      if (cached) {\n        return JSON.parse(cached);\n      }\n    } catch (_err) {}\n\n    opts = await this.loadLatestBlock(opts);\n    const result = await this.getEntrypointsMemo(contract, opts);\n    localStorage.setItem(cacheKey, JSON.stringify(result));\n    return result;\n  }\n\n  getEntrypointsMemo = memoize(super.getEntrypoints.bind(this), {\n    cacheKey: ([contract, opts]) => [contract, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getManagerKey(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getManagerKeyMemo(address, opts);\n  }\n\n  getManagerKeyMemo = memoize(super.getManagerKey.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getDelegate(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getDelegateMemo(address, opts);\n  }\n\n  getDelegateMemo = memoize(super.getDelegate.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getBigMapExpr(id: string, expr: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getBigMapExprMemo(id, expr, opts);\n  }\n\n  getBigMapExprMemo = memoize(super.getBigMapExpr.bind(this), {\n    cacheKey: ([id, expr, opts]) => [id, expr, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getDelegates(address: string, opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getDelegatesMemo(address, opts);\n  }\n\n  getDelegatesMemo = memoize(super.getDelegates.bind(this), {\n    cacheKey: ([address, opts]) => [address, toOptsKey(opts)].join(\"\"),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getConstants(opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getConstantsMemo(opts);\n  }\n\n  getConstantsMemo = memoize(super.getConstants.bind(this), {\n    cacheKey: ([opts]) => toOptsKey(opts),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getBlock(opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getBlockMemo(opts);\n  }\n\n  getBlockMemo = memoize(super.getBlock.bind(this), {\n    cacheKey: ([opts]) => toOptsKey(opts),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getBlockHeader(opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getBlockHeaderMemo(opts);\n  }\n\n  getBlockHeaderMemo = memoize(super.getBlockHeader.bind(this), {\n    cacheKey: ([opts]) => toOptsKey(opts),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  async getBlockMetadata(opts?: RPCOptions) {\n    opts = await this.loadLatestBlock(opts);\n    return this.getBlockMetadataMemo(opts);\n  }\n\n  getBlockMetadataMemo = memoize(super.getBlockMetadata.bind(this), {\n    cacheKey: ([opts]) => toOptsKey(opts),\n    maxAge: this.memoizeMaxAge,\n  });\n\n  getChainId = memoize(super.getChainId.bind(this));\n\n  private async loadLatestBlock(opts?: RPCOptions) {\n    const head = wantsHead(opts);\n    if (!head) return opts;\n\n    if (\n      !this.latestBlock ||\n      Date.now() - this.latestBlock.refreshedAt > this.refreshInterval\n    ) {\n      const hash = await this.getLatestBlockHash();\n      this.latestBlock = { hash, refreshedAt: Date.now() };\n    }\n\n    return { block: this.latestBlock.hash };\n  }\n\n  private getLatestBlockHash = debouncePromise(() => super.getBlockHash(), 100);\n}\n\nfunction wantsHead(opts?: RPCOptions) {\n  return !opts?.block || opts.block === \"head\";\n}\n\nfunction toOptsKey(opts?: RPCOptions) {\n  return opts?.block ?? \"head\";\n}\n","export class LambdaViewSigner {\n  async publicKeyHash() {\n    return \"tz1fVQangAfb9J1hRRMP2bSB6LvASD6KpY8A\";\n  }\n\n  async publicKey() {\n    return \"edpkvWbk81uh1DEvdWKR4g1bjyTGhdu1mDvznPUFE2zDwNsLXrEb9K\";\n  }\n\n  async secretKey(): Promise<string> {\n    throw new Error(\"Secret key cannot be exposed\");\n  }\n\n  async sign(): Promise<{\n    bytes: string;\n    sig: string;\n    prefixSig: string;\n    sbytes: string;\n  }> {\n    throw new Error(\"Cannot sign\");\n  }\n}\n","import BigNumber from \"bignumber.js\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { QSAsset, QSTokenType, QSTokenMetadata } from \"./types\";\nimport {\n  Tezos,\n  getContract,\n  getNetwork,\n  getContractForMetadata,\n} from \"./state\";\nimport { mutezToTz } from \"./helpers\";\nimport {\n  DEFAULT_TOKEN_LOGO_URL,\n  TOKEN_WHITELIST,\n  CHAIN_ID_MAPPING,\n} from \"./defaults\";\n\nconst network = getNetwork();\nconst lambdaView = (() => {\n  if (network.id === \"florencenet\")\n    return \"KT1BbTmNHmJp2NnQyw5qsAExEYmYuUpR2HdX\";\n\n  if (network.id === \"granadanet\")\n    return \"KT1VhtTGAyh7AVVwyH2ExNhaXvQq2rAJ6DNs\";\n\n  if (network.id === \"hangzhounet\")\n    return \"KT19ewhnhaCcCuoF1Ly2pxXAFRiF3UtgaY9U\";\n})();\n\nexport async function getBalance(\n  accountPkh: string,\n  asset: Pick<QSAsset, \"tokenType\" | \"id\" | \"decimals\" | \"fa2TokenId\">\n) {\n  let nat: BigNumber | undefined;\n\n  switch (asset.tokenType) {\n    case QSTokenType.XTZ:\n      const amount = await Tezos.tz.getBalance(accountPkh);\n      return mutezToTz(amount);\n\n    case QSTokenType.Staker:\n    case QSTokenType.TzBTC:\n    case QSTokenType.FA1_2:\n      const contract = await getContract(asset.id);\n\n      try {\n        nat = await contract.views.getBalance(accountPkh).read(lambdaView);\n      } catch {}\n\n      if (!nat || nat.isNaN()) {\n        nat = new BigNumber(0);\n      }\n\n      return nat.div(10 ** asset.decimals);\n\n    case QSTokenType.FA2:\n      const fa2Contract = await getContract(asset.id);\n\n      try {\n        const response = await fa2Contract.views\n          .balance_of([{ owner: accountPkh, token_id: asset.fa2TokenId }])\n          .read(lambdaView);\n        nat = response[0].balance;\n      } catch {}\n\n      if (!nat || nat.isNaN()) {\n        nat = new BigNumber(0);\n      }\n\n      return nat.div(10 ** asset.decimals);\n\n    default:\n      throw new Error(\"Not Supported\");\n  }\n}\n\nexport async function getTokenMetadata(\n  contractAddress: string,\n  fa2TokenId?: number\n): Promise<QSTokenMetadata> {\n  const tokenId = fa2TokenId ?? 0;\n  const { id: networkId } = getNetwork();\n  const storageKey = `qs_tm_${networkId}_${contractAddress}_${tokenId}`;\n  const tokenMetadataFromStorage = localStorage.getItem(storageKey);\n\n  if (tokenMetadataFromStorage) {\n    try {\n      return JSON.parse(tokenMetadataFromStorage);\n    } catch (_err) {\n      localStorage.removeItem(storageKey);\n    }\n  }\n\n  const contract = await getContractForMetadata(contractAddress);\n\n  let tokenData: any;\n  let latestErrMessage;\n\n  /**\n   * Try fetch token data with TZIP12\n   */\n  try {\n    tokenData = await contract.tzip12().getTokenMetadata(tokenId);\n  } catch (err) {\n    latestErrMessage = err.message;\n  }\n\n  /**\n   * Try fetch token data with TZIP16\n   * Get them from plain tzip16 structure/scheme\n   */\n  if (!tokenData || Object.keys(tokenData).length === 0) {\n    try {\n      const { metadata } = await contract.tzip16().getMetadata();\n      tokenData = metadata;\n    } catch (err) {\n      latestErrMessage = err.message;\n    }\n  }\n\n  if (!tokenData) {\n    // throw new MetadataParseError(latestErrMessage ?? \"Unknown error\");\n    tokenData = {};\n  }\n\n  const result = {\n    decimals: tokenData.decimals ? +tokenData.decimals : 0,\n    symbol: tokenData.symbol || contractAddress,\n    name: tokenData.name || tokenData.symbol || \"Unknown Token\",\n    thumbnailUri:\n      tokenData.thumbnailUri ??\n      tokenData.logo ??\n      tokenData.icon ??\n      tokenData.iconUri ??\n      tokenData.iconUrl ??\n      DEFAULT_TOKEN_LOGO_URL,\n  };\n  localStorage.setItem(storageKey, JSON.stringify(result));\n  return result;\n}\n\nexport class MetadataParseError extends Error {}\n\nexport async function getNewTokenData(\n  accountPkh: string,\n  tokenType: QSTokenType,\n  tokenAddress: string,\n  tokenId?: number\n) {\n  let nat: BigNumber | undefined;\n  let shouldTryGetMetadata = true;\n  let decimals = 0;\n\n  switch (tokenType) {\n    case QSTokenType.FA1_2:\n      const contract = await getContract(tokenAddress);\n\n      try {\n        nat = await contract.views.getBalance(accountPkh).read(lambdaView);\n      } catch {\n        shouldTryGetMetadata = false;\n      }\n\n      if (!nat || nat.isNaN()) {\n        nat = new BigNumber(0);\n      }\n\n      if (shouldTryGetMetadata) {\n        decimals = (await getNewTokenMetadata(tokenAddress)).decimals;\n      }\n\n      return { bal: nat, decimals };\n\n    case QSTokenType.FA2:\n      const fa2Contract = await getContract(tokenAddress);\n\n      if (typeof tokenId !== \"number\") {\n        throw new Error(\"FA2 token type requires token ID\");\n      }\n\n      try {\n        const response = await fa2Contract.views\n          .balance_of([{ owner: accountPkh, token_id: tokenId }])\n          .read(lambdaView);\n        nat = response[0].balance;\n      } catch {\n        shouldTryGetMetadata = false;\n      }\n\n      if (!nat || nat.isNaN()) {\n        nat = new BigNumber(0);\n      }\n\n      if (shouldTryGetMetadata) {\n        decimals = (await getNewTokenMetadata(tokenAddress, tokenId)).decimals;\n      }\n\n      return { bal: nat, decimals };\n\n    default:\n      throw new Error(\"Token type not supported\");\n  }\n}\n\nexport const filteredWhitelist = (() => {\n  const net = getNetwork();\n  const chainId = CHAIN_ID_MAPPING.get(net.id);\n  return TOKEN_WHITELIST.filter(t => t.network === chainId);\n})();\n\nexport function isTokenWhitelisted(token: QSAsset) {\n  if (token.type === \"xtz\") return true;\n  return filteredWhitelist.some(wt =>\n    token.tokenType === QSTokenType.FA2\n      ? wt.contractAddress === token.id && wt.fa2TokenId === token.fa2TokenId\n      : wt.contractAddress === token.id\n  );\n}\n\nexport async function getNewTokenMetadata(\n  contractAddress: string,\n  fa2TokenId?: number\n) {\n  const whitelisted = filteredWhitelist.find(wt =>\n    typeof fa2TokenId === \"number\"\n      ? wt.contractAddress === contractAddress && wt.fa2TokenId === fa2TokenId\n      : wt.contractAddress === contractAddress\n  );\n\n  return whitelisted?.metadata ?? getTokenMetadata(contractAddress, fa2TokenId);\n}\n\nexport async function toTransferParams(\n  tezos: TezosToolkit,\n  asset: QSAsset,\n  toPkh: string,\n  amount: number\n) {\n  switch (asset.tokenType) {\n    case QSTokenType.XTZ:\n      return {\n        to: toPkh,\n        amount,\n      };\n\n    case QSTokenType.Staker:\n    case QSTokenType.TzBTC:\n    case QSTokenType.FA1_2:\n      const contact = await getContract(asset.id);\n      return contact.methods\n        .transfer(\n          await tezos.signer.publicKeyHash(),\n          toPkh,\n          new BigNumber(amount).times(10 ** asset.decimals).toFixed()\n        )\n        .toTransferParams();\n\n    default:\n      throw new Error(\"Not Supported\");\n  }\n}\n\nexport function tryParseParameters(asset: QSAsset, parameters: any) {\n  switch (asset.tokenType) {\n    case QSTokenType.Staker:\n    case QSTokenType.TzBTC:\n    case QSTokenType.FA1_2:\n      try {\n        const [{ args }, { int }] = parameters.value.args;\n        const sender: string = args[0].string;\n        const receiver: string = args[1].string;\n        const volume = new BigNumber(int).div(10 ** asset.decimals).toFixed();\n        return {\n          sender,\n          receiver,\n          volume,\n        };\n      } catch (_err) {\n        return null;\n      }\n\n    default:\n      return null;\n  }\n}\n\nexport function toPenny(asset: QSAsset) {\n  return new BigNumber(1).div(10 ** asset.decimals).toFixed();\n}\n","export interface OldWhitelisted {\n  contract: string;\n  tokenId?: number;\n}\n\nexport const OLD_WHITELIST: Record<string, OldWhitelisted[]> = {\n  mainnet: [\n    {\n      contract: \"KT1BHCumksALJQJ8q8to2EPigPW6qpyTr7Ng\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 19,\n    },\n    {\n      contract: \"KT1TtaMcoSx5cZrvaVBWsFoeZ1L15cxo5AEy\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1K9gCRgaLRFKTErYt1wVxA3Frb9FjasjTV\",\n    },\n    {\n      contract: \"KT1AFA2mwNUMNd4SsujE1YYp29vd8BZejyKW\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 20,\n    },\n    {\n      contract: \"KT1VYsVfmobT7rsMVivvZ4J8i3bPiqz12NaH\",\n    },\n    {\n      contract: \"KT1GRSvLoikDsXujKgZPsGLX8k8VvR2Tq95b\",\n    },\n    {\n      contract: \"KT1LRboPna9yQY9BrjtQYDS1DVxhKESK4VVd\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 16,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 17,\n    },\n    {\n      contract: \"KT1Wa8yqRBpFCusJWgcQyjhRz7hUQAmFxW7j\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 1,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 5,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 14,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 11,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 10,\n    },\n    {\n      contract: \"KT19at7rQUvyjxnZ2fBv7D9zc8rkyG7gAoU8\",\n    },\n    {\n      contract: \"KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9\",\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 18,\n    },\n    {\n      contract: \"KT1AEfeckNbdEYwaMKkytBwPJPycz7jdSGea\",\n    },\n    {\n      contract: \"KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn\",\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1REEb5VxWRjcHm5GzDMwErMmNFftsE5Gpf\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1CnuKyaAuYBAwJf9g5LobtxRZsF2KCD3o6\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1VHd7ysjnvxEzwtjBAmYAmasvVCfPpSkiG\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1BCzAq3PrTKPsEBKuoTGZdwX6rN6WE8rJj\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Cjx8hYwzaCAke6rLWoZBLp8w89VeAduAR\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT19ovJhcsUn4YU8Q5L3BGovKSixfbWcecEA\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT19ovJhcsUn4YU8Q5L3BGovKSixfbWcecEA\",\n      tokenId: 1,\n    },\n    {\n      contract: \"KT1981tPmXh4KrUQKZpQKb55kREX7QGJcF3E\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1T1PeeRDbsKDYM2nX8JjJ1kkAhHh5FnjgC\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1GUNKmkrgtMQjJp3XxcmCj6HZBhkUmMbge\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1G1cCRNBgQ48mVDjopHjEmTN5Sbtar8nn9\",\n    },\n    {\n      contract: \"KT1J4m9nxZQSKDwRNahAL1fziuwW9o5hb8Tb\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1GGxCNiJ7yaBAH4hAw5AHXbP3PSmAiy3wK\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Q3oMXVxL12Rz4GCwztu8wXBTfWWAM4r5t\",\n    },\n    {\n      contract: \"KT1B5LL3GRQL3uLbqwy3C8FL8H7CWj74EbnA\",\n    },\n    {\n      contract: \"KT1QoDjTpkG9jmAMwrPCsaRR78xHDcRKydBp\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1TsUFkH4pa48wmrGRmFpFW13nxHbP4xEKN\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1M2JnD1wsg7w2B4UXJXtKQPuDUpU2L7cJH\",\n      tokenId: 79,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 15,\n    },\n    {\n      contract: \"KT19oivKN2qzeWgCs886BbttSVYtkcJHRtuQ\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1KEsRsSMvSkgZ9CwYy5fPA1e4j3TEpuiKK\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1SrP7phqe9meFbMF4Z2YsSq3XuLU1mw9BM\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1E6C7WkwG8GWnPBBJJDMADrYuuYaK7ddmM\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1LVnyY5cSCVpFMGXzqVsWNiSkJYA8w1rZk\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1JS6RrhJSbJhuYTdpUr8RA577gGrkbLj7E\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1EMarewvdmyV42FDgGuhUhTKxrjutQWEBA\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1GMM54j7d8chfEitzUNJ2rrsA9Rs1zGBmK\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1AxaBxkFLCUi3f8rdDAAxBKHfzY8LfKDRA\",\n    },\n    {\n      contract: \"KT1T3Ly4RkMehwNpC4iWr86EV5D155bTRvce\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1AhSVv4Se1j3Hf5Y6a56vBV44zNzjP91D2\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1AyVdjSZffJtiMkdwwztEK7ePVyTogzogr\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1WHhATGLXFyhmZcK9k7NWo8nw53nDiBzWQ\",\n    },\n    {\n      contract: \"KT1FftDwLS6F7RVrpQ8nTmScCfNFaAyWTSdc\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1VHd7ysjnvxEzwtjBAmYAmasvVCfPpSkiG\",\n      tokenId: 1,\n    },\n    {\n      contract: \"KT1XQZxsG4pMgcN7q7Nu3XFihsb9mEvqBmAT\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1T9kFJD5fKAT4LAZWjYBCaWNbD7cw1CUju\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1XRxmUFNcbzGTwQPvNPa5FuuM43uEunp8K\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1UHNDNjrCAAiRbzZrtQF9qHSHVMYeJyX1y\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1EZ5Kerx82fxsvPSnMKsnvPp7Yue9oHNRY\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1V5yCUQ73nUjrbk82ALcrGNdRFNk3k2tvX\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Vbrnm5HHc1j6ePoxJWyY92cxgVLkMUi9Y\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1GorbQ7ZKetuCRQZrpgDq3QW1KAtqhzytk\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18cH4erroRjVTyV3k8UzTpjey8m1NjFYae\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1JWJSB6wkAEm3TGk9WUFHWNstBTKvuXsMC\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1GAWT8469ueGEyzWyEgXtJJetgQEeZFnE2\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 3,\n    },\n    {\n      contract: \"KT1KdYiNTTByYQp7R3gxjc9K5rhQ2qtYdDTR\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT19mgJ3sCytBWXzZ1xgkZ7UMZS4HPKyGNo7\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Gf5JGXC1M8GMji58pKraXiRLkzW2NRK1s\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Az4udnGnJTaGfU4X3oYqKoJ2tQUMBDPSt\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1JG7MKVa2Pba2Q2VwB2TZLY9ZTKh9csC1E\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1ELJHUaJsDk9cvXcKESMKW9sXFNrRLohxG\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Ai2uHzf1aj5ukdwbyL82jQV4JVdFtT3nY\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1M2Ws52krJrwJi1ZFsmVfazBiafWYKZTvd\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1AGhcM4GAEo2obsFjuEERcGkURdDFUW86h\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 12,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 2,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 7,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 9,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 13,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 4,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 8,\n    },\n    {\n      contract: \"KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ\",\n      tokenId: 6,\n    },\n    {\n      contract: \"KT1TxyzQh7AqVHjjnPAAakuBwiCaWvVLp2pT\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1HU2eCMzZhSHUpuBQjaN3L6un77iQvbZgy\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1ACFCHun5GvukxDQq3KpMPXLr9QgnqvFvd\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Qf46j2x37sAN4t2MKRQRVt9gc4FZ5duMs\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT18jLqWNnbYeA2593macdnbc6tkaaudH5fh\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1Soa1U1fYRQEgg9No3Xvqxuv46kUZFFdJ6\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1BRXzrMA8qHp9RkZmftV1YLCTdNrEXXBvu\",\n      tokenId: 0,\n    },\n  ],\n  florencenet: [\n    {\n      contract: \"KT1FXDTQb1o7Q7HecuxaWQ18XyHTsRrzuaZs\",\n    },\n    {\n      contract: \"KT1CMbwrQodEYFpdJmk8pzN8SzieupG6ZrZE\",\n    },\n    {\n      contract: \"KT1VCczKAoRQJKco7NiSaB93PMkYCbL2z1K7\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1CdFLoqESYe3qBCgM7LZUVmqYZFEabzwyS\",\n      tokenId: 0,\n    },\n  ],\n  hangzhounet: [\n    {\n      contract: \"KT1CaWSNEnU6RR9ZMSSgD5tQtQDqdpw4sG83\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1VowcKqZFGhdcDZA3UN1vrjBLmxV5bxgfJ\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1QGgr6k1CDf4Svd18MtKNQukboz8JzRPd5\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1FGZHSZJD5BKeW4S8ZibAnL2tJtuLACd4N\",\n      tokenId: 0,\n    },\n    {\n      contract: \"KT1SaouedthKUtAujiBD232mZYGtKwpZ6mFD\",\n      tokenId: 0,\n    }\n  ]\n};\n","import {\n  TezosToolkit,\n  WalletContract,\n  ContractMethod,\n  Wallet,\n  compose,\n  MichelCodecPacker,\n  WalletOperationBatch,\n} from \"@taquito/taquito\";\nimport { tzip16, Tzip16Module } from \"@taquito/tzip16\";\nimport { tzip12, Tzip12Module } from \"@taquito/tzip12\";\nimport { Parser } from \"@taquito/michel-codec\";\nimport BigNumber from \"bignumber.js\";\nimport mem from \"mem\";\nimport { QSAsset, QSNetwork, QSTokenType } from \"./types\";\nimport { snakeToCamelKeys, toAssetSlug } from \"./helpers\";\nimport { FastRpcClient } from \"./taquito-fast-rpc\";\nimport { LambdaViewSigner } from \"./lambda-view\";\nimport {\n  ALL_NETWORKS,\n  DEFAULT_NETWORK,\n  TOKEN_WHITELIST,\n  CHAIN_ID_MAPPING,\n  LP_TOKEN_DECIMALS,\n} from \"./defaults\";\nimport { getTokenMetadata } from \"./assets\";\nimport { OldWhitelisted, OLD_WHITELIST } from \"@/old-whitelist\";\nconst axios = require('axios');\n\n\nexport const michelEncoder = new MichelCodecPacker();\nexport const michelParser = new Parser();\n\nexport const Tezos = new TezosToolkit(\n  new FastRpcClient(getNetwork().rpcBaseURL)\n);\nTezos.addExtension(new Tzip16Module());\nTezos.addExtension(new Tzip12Module());\nTezos.setSignerProvider(new LambdaViewSigner());\nTezos.setPackerProvider(michelEncoder);\n\nexport async function getTokens() {\n  const { id } = getNetwork();\n\n  const chainId = CHAIN_ID_MAPPING.get(id);\n  let whitelist = TOKEN_WHITELIST.filter(t => t.network === chainId);\n\n  \n  let axs = await axios('https://cloudflare-ipfs.com/ipfs/QmdDevhmdEyJaArFthfKKUA2FVcte9ijNog1ekSsoMKYPt');\n  \n  if(whitelist.length == 0 ){\n    whitelist = axs.data.tokens;\n\n    whitelist = whitelist.filter(function( obj ) {\n      return obj.contractAddress !== 'tez';\n    });\n\n\n  }\n  \n\n  const allTokens: QSAsset[] = await Promise.all(\n    whitelist.map(async token => {\n      const fa2 = token.type === \"fa2\";\n\n      let metadata;\n      if (token.metadata) {\n        metadata = token.metadata;\n      } else {\n        metadata = await getTokenMetadata(\n          token.contractAddress,\n          token.fa2TokenId\n        );\n      }\n\n      return {\n        type: \"token\" as const,\n        tokenType: fa2 ? QSTokenType.FA2 : QSTokenType.FA1_2,\n        id: token.contractAddress,\n        fa2TokenId: token.fa2TokenId,\n        decimals: metadata.decimals,\n        symbol: metadata.symbol,\n        name: metadata.name,\n        imgUrl: formatImgUri(metadata.thumbnailUri),\n        exchange: \"\",\n      };\n    })\n  );\n\n  return sanitizeTokens([...allTokens, ...getCustomTokens()]);\n}\n\nexport function getCustomTokens(): QSAsset[] {\n  try {\n    const net = getNetwork();\n    const val = localStorage.getItem(`custom_tokens_v1.2_${net.id}`);\n    if (!val) return [];\n    return JSON.parse(val);\n  } catch {\n    return [];\n  }\n}\n\nfunction sanitizeTokens(tokens: (QSAsset | null)[]): QSAsset[] {\n  const uniques = new Set<string>();\n  const finalTokens: QSAsset[] = [];\n  for (const token of tokens) {\n    if (token) {\n      const slug = toAssetSlug(token);\n      if (!uniques.has(slug)) {\n        finalTokens.push(token);\n        uniques.add(slug);\n      }\n    }\n  }\n  return finalTokens;\n}\n\nexport function formatImgUri(origin: string) {\n  if (origin.startsWith(\"ipfs://\")) {\n    return `https://ipfs.io/ipfs/${origin.substring(7)}/`;\n  }\n  return origin;\n}\n\nexport function sanitizeImgUrl(url: string, x = 64, y = 64) {\n  if (url.startsWith(\"http\")) {\n    return `https://img.templewallet.com/insecure/fit/${x}/${y}/ce/0/plain/${url}`;\n  }\n  return url;\n}\n\nexport function approveToken(\n  token: Pick<QSAsset, \"tokenType\" | \"fa2TokenId\">,\n  tokenContract: WalletContract,\n  from: string,\n  to: string,\n  amount: number | string\n): ContractMethod<Wallet> {\n  if (token.tokenType === QSTokenType.FA2) {\n    return tokenContract.methods.update_operators([\n      {\n        add_operator: {\n          owner: from,\n          operator: to,\n          token_id: token.fa2TokenId,\n        },\n      },\n    ]);\n  } else {\n    return tokenContract.methods.approve(to, amount);\n  }\n}\n\nexport function deapproveFA2(\n  batch: WalletOperationBatch,\n  token: Pick<QSAsset, \"tokenType\" | \"fa2TokenId\">,\n  tokenContract: WalletContract,\n  from: string,\n  to: string\n) {\n  if (token.tokenType === QSTokenType.FA2) {\n    return batch.withTransfer(\n      tokenContract.methods\n        .update_operators([\n          {\n            remove_operator: {\n              owner: from,\n              operator: to,\n              token_id: token.fa2TokenId,\n            },\n          },\n        ])\n        .toTransferParams()\n    );\n  } else {\n    return batch;\n  }\n}\n\nexport async function getDexShares(address: string, exchange: string) {\n  const storage = await getDexStorage(exchange);\n  const ledger = storage.ledger || storage.accounts;\n  const val = await ledger.get(address);\n  if (!val) return null;\n\n  const unfrozen = new BigNumber(val.balance);\n  const frozen = new BigNumber(val.frozen_balance);\n\n  return {\n    unfrozen,\n    frozen,\n    total: unfrozen.plus(frozen),\n  };\n}\n\nexport function sharesFromNat(val: BigNumber.Value) {\n  return new BigNumber(val).div(10 ** LP_TOKEN_DECIMALS);\n}\n\nexport function sharesToNat(val: BigNumber.Value) {\n  return new BigNumber(val)\n    .times(10 ** LP_TOKEN_DECIMALS)\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n\n/**\n * Storage\n */\n\nexport function clearMem() {\n  mem.clear(getStorage);\n  mem.clear(getContract);\n}\n\nexport const getDexStorage = (contractAddress: string) =>\n  getStorage(contractAddress).then(s => snakeToCamelKeys(s.storage));\n\nexport const findTezDex = mem(findTezDexPure);\n\nexport async function findTezDexPure(token: QSAsset) {\n  if (token.type === \"xtz\") return null;\n\n  const tokenSlug = toAssetSlug(token);\n\n  try {\n    const {\n      id: netId,\n      fa1_2FactoryContract,\n      fa2FactoryContract,\n      fa1_2OldFactoryContract,\n      fa2OldFactoryContract,\n    } = getNetwork();\n\n    const oldWhitelist = OLD_WHITELIST[netId] ?? [];\n\n\n    let tid:any = token.fa2TokenId;\n\n    let exchange;\n\n    if (token.tokenType === QSTokenType.FA2) {\n      \n      const factory =\n        fa2OldFactoryContract &&\n        oldWhitelist.some(w => toOldWhitelistedSlug(w) === tokenSlug)\n          ? fa2OldFactoryContract\n          : fa2FactoryContract;\n\n\n      if (factory) {\n        const facStorage = await getFactoryStorage(factory);\n        exchange = await facStorage.token_to_exchange.get([\n          token.id,\n          token.fa2TokenId,\n        ]);\n      }\n    } else {\n      const factory =\n        fa1_2OldFactoryContract &&\n        oldWhitelist.some(w => toOldWhitelistedSlug(w) === tokenSlug)\n          ? fa1_2OldFactoryContract\n          : fa1_2FactoryContract;\n\n      if (factory) {\n        const facStorage = await getFactoryStorage(factory);\n\n        exchange = await facStorage.token_to_exchange.get(token.id);\n      }\n    }\n\n\n    if(!isNaN(tid)){\n      \n      const factory =\n        fa2OldFactoryContract &&\n        oldWhitelist.some(w => toOldWhitelistedSlug(w) === tokenSlug)\n          ? fa2OldFactoryContract\n          : fa2FactoryContract;\n\n\n      if (factory) {\n        const facStorage = await getFactoryStorage(factory);\n        exchange = await facStorage.token_to_exchange.get([\n          token.id,\n          token.fa2TokenId,\n        ]);\n      }\n\n    }\n\n    console.log(\"exchange\");\n    console.log(exchange);\n\n    if (exchange) {\n      return getContract(exchange);\n    }\n\n    return null;\n  } catch (_err) {\n    return null;\n  }\n}\n\nexport const getFactoryStorage = mem(getFactoryStoragePure);\n\nexport async function getFactoryStoragePure(address: string) {\n  const contract = await getContract(address);\n  return contract.storage<any>();\n}\n\nexport const getStorage = mem(getStoragePure, { maxAge: 30000 });\n\nexport async function getStoragePure(contractAddress: string) {\n  const contract = await getContract(contractAddress);\n  return contract.storage<any>();\n}\n\nexport const getContract = mem(getContractPure);\n\nexport const getContractForMetadata = mem((address: string) =>\n  Tezos.contract.at(address, compose(tzip12, tzip16))\n);\n\nexport function getContractPure(address: string) {\n  return Tezos.contract.at(address);\n}\n\n/**\n * Network\n */\n\nexport function getNetwork() {\n  const netId = localStorage.getItem(\"netid\");\n  if (!netId) return DEFAULT_NETWORK;\n  const found = ALL_NETWORKS.find(n => n.id === netId);\n  return found && !found.disabled ? found : DEFAULT_NETWORK;\n}\n\nexport function setNetwork(net: QSNetwork) {\n  localStorage.setItem(\"netid\", net.id);\n  localStorage.removeItem(\"accpkh\");\n  localStorage.removeItem(\"last-used-connect\");\n  location.reload();\n}\n\nfunction toOldWhitelistedSlug(w: OldWhitelisted) {\n  return w.tokenId !== undefined ? `${w.contract}_${w.tokenId}` : w.contract;\n}\n","import { validateAddress, ValidationResult } from \"@taquito/utils\";\nimport { Signer } from \"@taquito/taquito\";\nimport BigNumber from \"bignumber.js\";\nimport { Tezos, getContract } from \"./state\";\nimport { QSAsset, QSTokenType } from \"./types\";\n\nexport async function isDexContainsLiquidity(dexAddress: string) {\n  const dex = await getContract(dexAddress);\n  const dexStorage = await dex.storage<any>();\n  return (\n    new BigNumber(dexStorage.storage.tez_pool).isZero() ||\n    new BigNumber(dexStorage.storage.token_pool).isZero()\n  );\n}\n\nexport function toValidAmount(amount?: BigNumber) {\n  return amount && amount.isFinite() && amount.isGreaterThan(0)\n    ? amount.toFixed()\n    : \"\";\n}\n\nexport function isUnsafeAllowanceChangeError(err: any) {\n  try {\n    if (\n      [\n        \"UnsafeAllowanceChange\",\n        \"FA1.2_UnsafeAllowanceChange\",\n        \"UNSAFE_ALLOWANCE_CHANGE\",\n      ].includes(err?.message)\n    ) {\n      return true;\n    }\n\n    if (\n      err?.errors?.some(\n        (e: any) =>\n          e?.with?.int === \"23\" ||\n          [\"UnsafeAllowanceChange\", \"FA1.2_UnsafeAllowanceChange\"].includes(\n            e?.with?.string\n          ) ||\n          [\"UnsafeAllowanceChange\", \"FA1.2_UnsafeAllowanceChange\"].includes(\n            e?.with?.args?.[0]?.string\n          )\n      )\n    ) {\n      return true;\n    }\n\n    return false;\n  } catch {\n    return false;\n  }\n}\n\nexport function toAssetSlug(asset: QSAsset) {\n  return asset.type === \"xtz\"\n    ? \"tez\"\n    : asset.tokenType === QSTokenType.FA2\n    ? `${asset.id}_${asset.fa2TokenId}`\n    : asset.id;\n}\n\nexport function tzToMutez(tz: any): BigNumber {\n  return Tezos.format(\"tz\", \"mutez\", tz) as any;\n}\n\nexport function mutezToTz(mutez: any): BigNumber {\n  return Tezos.format(\"mutez\", \"tz\", mutez) as any;\n}\n\nexport function isKTAddress(address: any): boolean {\n  return isAddressValid(address) && address.startsWith(\"KT\");\n}\n\nexport function isAddressValid(address: any) {\n  return validateAddress(address) === ValidationResult.VALID;\n}\n\nexport function formatAddress(address: string) {\n  const ln = address.length;\n  return [address.slice(0, 7), \"...\", address.slice(ln - 4, ln)].join(\"\");\n}\n\nexport function snakeToCamelKeys(obj: any): any {\n  const camelObj: Record<string, any> = {};\n  for (const key of Object.keys(obj)) {\n    camelObj[snakeToCamel(key)] = obj[key];\n  }\n  return camelObj;\n}\n\nexport function snakeToCamel(str: string) {\n  return str.replace(/([-_][a-z])/g, group =>\n    group\n      .toUpperCase()\n      .replace(\"-\", \"\")\n      .replace(\"_\", \"\")\n  );\n}\n\nexport class ReadOnlySigner implements Signer {\n  constructor(private pkh: string, private pk: string) {}\n\n  async publicKeyHash() {\n    return this.pkh;\n  }\n  async publicKey() {\n    return this.pk;\n  }\n  async secretKey(): Promise<string> {\n    throw new Error(\"Secret key cannot be exposed\");\n  }\n  async sign(): Promise<{\n    bytes: string;\n    sig: string;\n    prefixSig: string;\n    sbytes: string;\n  }> {\n    throw new Error(\"Cannot sign\");\n  }\n}\n","import { Web3ApiClient } from \"@web3api/client-js\"\nimport { tezosPlugin } from \"@web3api/tezos-plugin-js\"\n\n\n// export const TEZOS_QUIPUSWAP_WRAPPER_URI = 'w3://ipfs/QmSySUvrC6At5GcZN8yJwPAKAcfzhLq5T33Qu6rWLKw3eG'\nexport const TEZOS_QUIPUSWAP_WRAPPER_URI = 'w3://ipfs/QmYSJ3dHJuNWygFtBThKHNB7Na1mSq7uSCLYE4991CQkZY'\nexport const TEZOS_PLUGIN_JS = 'w3://ens/tezos.web3api.eth'\n\nexport const TezosConnections = {\n  hangzhounet: {\n    provider: \"https://rpc.hangzhou.tzstats.com\",\n    supportedTLDs: ['han']\n  },\n  mainnet: {\n    provider: \"https://rpc.tzstats.com\",\n    supportedTLDs: ['tez']\n  },\n}\n\nexport const client = new Web3ApiClient({\n  plugins: [\n    {\n      uri: TEZOS_PLUGIN_JS,\n      plugin: tezosPlugin({\n        networks: {\n          mainnet: {\n              provider: \"https://rpc.tzstats.com\"\n          },  \n          hangzhounet: {\n              provider: \"https://rpc.hangzhou.tzstats.com\",\n          }\n        },\n        defaultNetwork: \"hangzhounet\"\n      })\n    }\n  ]\n})","import { client } from './client'\nimport { TEZOS_QUIPUSWAP_WRAPPER_URI } from './client'\n\n\nexport const listTokenPairs = async (network) => {\n    \n    return client.query({\n        uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n        query: `\n            query {\n              listTokenPairs(\n                network: hangzhounet\n              )\n            }\n        `,\n        variables: {\n            network,\n        }\n    })\n    \n}\n\nexport const getTokenSupply = async (network, pairId) => {\n    \n  return client.query({\n      uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n      query: `\n          query {\n            getTokenSupply(\n              pairId: $pairId,\n              network: hangzhounet\n            )\n          }\n      `,\n      variables: {\n        pairId: pairId\n      }\n  })\n  \n}","import BigNumber from \"bignumber.js\";\nimport { tzToMutez, mutezToTz } from \"./helpers\";\nimport { QSAsset } from \"./types\";\nimport {\n  getStorage,\n  getNetwork\n} from \"@/core\";\n\nimport { getTokenSupply } from \"../services/web3/query\";\n\nconst PENNY = 0.000001;\n\nexport function estimateToken2Token(\n  pool: any,\n  inputToken: QSAsset,\n  outputToken: QSAsset,\n  amount: BigNumber.Value\n) {\n  if (!amount) return new BigNumber(0);\n\n  console.info(pool, inputToken, outputToken, amount);\n\n  const tezInWithFee = toNat(amount, inputToken).times(997);\n  const numerator = tezInWithFee.times(pool.token_b_pool);\n  const denominator = new BigNumber(pool.token_a_pool)\n    .times(1000)\n    .plus(tezInWithFee);\n  const tokensOut = numerator.idiv(denominator);\n\n  return fromNat(tokensOut, outputToken);\n}\n\nexport function estimateToken2Token2(\n  poolTokenA: any,\n  poolTokenB: any,\n  inputToken: QSAsset,\n  outputToken: QSAsset,\n  amount: BigNumber.Value\n) {\n  if (!amount) return new BigNumber(0);\n\n  console.info(poolTokenA, poolTokenB, inputToken, outputToken, amount);\n\n  const tezInWithFee = toNat(amount, inputToken).times(997);\n  const numerator = tezInWithFee.times(poolTokenA);\n  const denominator = new BigNumber(poolTokenB)\n    .times(1000)\n    .plus(tezInWithFee);\n  const tokensOut = numerator.idiv(denominator);\n\n  return fromNat(tokensOut, outputToken);\n}\n\nexport function estimateTezToToken(\n  tezAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tezAmount) return new BigNumber(0);\n\n  const mutezAmount = tzToMutez(tezAmount);\n\n  const tezInWithFee = mutezAmount.times(997);\n  const numerator = tezInWithFee.times(dexStorage.tokenPool);\n  const denominator = new BigNumber(dexStorage.tezPool)\n    .times(1000)\n    .plus(tezInWithFee);\n  const tokensOut = numerator.idiv(denominator);\n\n  return fromNat(tokensOut, token);\n}\n\nexport function estimateTokenToTez(\n  tokenAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tokenAmount) return new BigNumber(0);\n\n  const tokensIn = toNat(tokenAmount, token);\n\n  const tokenInWithFee = tokensIn.times(997);\n  const numerator = tokenInWithFee.times(dexStorage.tezPool);\n  const denominator = new BigNumber(dexStorage.tokenPool)\n    .times(1000)\n    .plus(tokenInWithFee);\n  const mutezOut = numerator.idiv(denominator);\n\n  return mutezToTz(mutezOut);\n}\n\nexport function estimateTezToTokenInverse(\n  tokenAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tokenAmount) return new BigNumber(0);\n\n  const tokensOut = toNat(tokenAmount, token);\n\n  const numerator = new BigNumber(dexStorage.tezPool)\n    .times(1000)\n    .times(tokensOut);\n  const denominator = new BigNumber(dexStorage.tokenPool)\n    .minus(tokensOut)\n    .times(997);\n  const mutezIn = numerator.idiv(denominator).plus(1);\n\n  return mutezToTz(mutezIn);\n}\n\nexport function estimateTokenToTezInverse(\n  tezAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tezAmount) return new BigNumber(0);\n\n  const mutezOut = tzToMutez(tezAmount);\n\n  const numerator = new BigNumber(dexStorage.tokenPool)\n    .times(1000)\n    .times(mutezOut);\n  const denominator = new BigNumber(dexStorage.tezPool)\n    .minus(mutezOut)\n    .times(997);\n  const tokensIn = numerator.idiv(denominator).plus(1);\n\n  return fromNat(tokensIn, token);\n}\n\nexport function estimateShares(tezAmount: any, dexStorage: any) {\n  if (!tezAmount) return new BigNumber(0);\n\n  return tzToMutez(tezAmount)\n    .integerValue(BigNumber.ROUND_DOWN)\n    .times(dexStorage.totalSupply)\n    .div(dexStorage.tezPool)\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n\nexport function estimateSharesInverse(\n  tokenAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tokenAmount) return new BigNumber(0);\n\n  return toNat(tokenAmount, token)\n    .integerValue(BigNumber.ROUND_DOWN)\n    .times(dexStorage.totalSupply)\n    .div(dexStorage.tokenPool)\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n\nexport function estimateInTezos(shares: any, dexStorage: any) {\n  if (!shares) return new BigNumber(0);\n\n  return mutezToTz(\n    new BigNumber(shares)\n      .times(dexStorage.tezPool)\n      .div(dexStorage.totalSupply)\n      .integerValue(BigNumber.ROUND_DOWN)\n  );\n}\n\nexport function estimateInTokens(shares: any, dexStorage: any, token: QSAsset) {\n  if (!shares) return new BigNumber(0);\n\n  let nat = new BigNumber(shares)\n    .times(dexStorage.tokenPool)\n    .div(dexStorage.totalSupply)\n    .integerValue(BigNumber.ROUND_DOWN);\n\n  if (\n    new BigNumber(shares)\n      .times(dexStorage.tokenPool)\n      .isGreaterThan(nat.times(dexStorage.totalSupply))\n  ) {\n    nat = nat.plus(1);\n  }\n\n  return fromNat(nat, token);\n}\n\nexport function estimateToTezos(\n  tokenAmount: any,\n  dexStorage: any,\n  token: QSAsset\n) {\n  if (!tokenAmount) return new BigNumber(0);\n\n  const shares = estimateSharesInverse(tokenAmount, dexStorage, token);\n  let tezAmount = estimateInTezos(shares, dexStorage);\n\n  while (!toTokens(tezAmount, dexStorage, token).isEqualTo(tokenAmount)) {\n    tezAmount = tezAmount.plus(PENNY);\n  }\n  return tezAmount;\n}\n\nexport function fromNat(amount: any, token: QSAsset) {\n  return new BigNumber(amount).div(10 ** token.decimals);\n}\n\nexport function toNat(amount: any, token: QSAsset) {\n  return new BigNumber(amount)\n    .times(10 ** token.decimals)\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n\nfunction toTokens(tezAmount: any, dexStorage: any, token: QSAsset) {\n  const shares = estimateShares(tezAmount, dexStorage);\n  return estimateInTokens(shares, dexStorage, token);\n}\n\n\nexport async function sharesTokenAinTokenBin(\n  pairId: any,\n  tokenAmount: any,\n  selTk_A: any\n) {\n\n  const pairStorageLQ = await lpDetails(pairId);\n\n  /* Raw Number Calculation */\n  /* const lpShares_not_rounded = ((pairStorageLQ.total_supply * parseFloat(tokenAmount)) / pairStorageLQ.token_a_pool) * Math.pow(10, selTk_A.decimals);\n     const lpShares:any = Math.round(lpShares_not_rounded);\n     const lpRatio = lpShares_not_rounded/pairStorageLQ.total_supply;\n     const token_a_in = Math.ceil(pairStorageLQ.token_a_pool * lpRatio);\n     const token_b_in = Math.ceil(pairStorageLQ.token_b_pool * lpRatio); */\n\n\n  const lpShares = toNat(tokenAmount, selTk_A)\n    .integerValue(BigNumber.ROUND_DOWN)\n    .times(pairStorageLQ.total_supply)\n    .div(pairStorageLQ.token_a_pool)\n    .integerValue(BigNumber.ROUND_DOWN).toNumber();\n\n  const token_a_in = new BigNumber(lpShares)\n    .times(pairStorageLQ.token_a_pool)\n    .div(pairStorageLQ.total_supply)\n    .integerValue(BigNumber.ROUND_DOWN).toNumber();\n\n  const token_b_in = new BigNumber(lpShares)\n    .times(pairStorageLQ.token_b_pool)\n    .div(pairStorageLQ.total_supply)\n    .integerValue(BigNumber.ROUND_DOWN).toNumber();\n\n    \n  return {\n    lpShares: lpShares,\n    token_a_in: token_a_in,\n    token_b_in: token_b_in\n  }\n\n}\n\n\nexport async function minTokenOut(\n  tokenAmount: any,\n  selTk: any,\n  slippage\n) {\n\n  /* const amountTkn = parseFloat(tokenAmount);\n     const minAmount =  amountTkn - (amountTkn * slippage.toNumber());\n     return minAmount * Math.pow(10, selTk.decimals); */\n\n  return new BigNumber(toNat(tokenAmount, selTk))\n    .times(new BigNumber(1).minus(slippage))\n    .integerValue(BigNumber.ROUND_DOWN).toFixed();\n\n}\n\nexport async function maxTokenIn(\n  tokenAmount: any,\n  selTk: any,\n  slippage\n) {\n  \n  return new BigNumber(toNat(tokenAmount, selTk))\n    .plus(new BigNumber(toNat(tokenAmount, selTk))\n    .times(new BigNumber(slippage).div(new BigNumber(100))))\n    .integerValue(BigNumber.ROUND_DOWN).toFixed();\n}\n\n\nexport async function lpDetails(\n  pairId: any\n) {\n\n  const net = getNetwork();\n  const pairStorage: any = await getTokenSupply(net.id, pairId);\n  const pairStorageLQ = pairStorage.data.getTokenSupply;\n\n  return pairStorageLQ;\n}","import { Contract, WalletContract } from \"@taquito/taquito\";\n\nexport async function isFA2(contract: Contract | WalletContract) {\n  try {\n    await Promise.all(\n      FA2_METHODS_ASSERTIONS.map(async ({ name, assertion }) => {\n        if (typeof contract.methods[name] !== \"function\") {\n          throw new Error(\"Not FA2\");\n        }\n        assertion(contract);\n      })\n    );\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nconst FA2_METHODS_ASSERTIONS = [\n  {\n    name: \"update_operators\",\n    assertion: signatureAssertionFactory(\"update_operators\", [\"list\"]),\n  },\n  {\n    name: \"transfer\",\n    assertion: signatureAssertionFactory(\"transfer\", [\"list\"]),\n  },\n];\n\nfunction signatureAssertionFactory(name: string, args: string[]) {\n  return (contract: Contract | WalletContract) => {\n    const signatures = contract.parameterSchema.ExtractSignatures();\n    const receivedSignature = signatures.find(\n      signature => signature[0] === name\n    );\n    assert(receivedSignature);\n    const receivedArgs = receivedSignature.slice(1);\n    assert(receivedArgs.length === args.length);\n    receivedArgs.forEach((receivedArg, index) =>\n      assert(receivedArg === args[index] || args[index] in receivedArg)\n    );\n  };\n}\n\nexport class AssertionError extends Error {\n  constructor(message?: string, public actual?: any) {\n    super(message);\n  }\n}\n\nexport default function assert(value: any): asserts value {\n  if (!value) {\n    throw new AssertionError(`The value ${value} is not truthy`, value);\n  }\n}\n","import { BlockResponse, OperationEntry } from \"@taquito/rpc\";\nimport { TezosToolkit } from \"@taquito/taquito\";\n\nexport const SYNC_INTERVAL = 10_000;\nexport const CONFIRM_TIMEOUT = 60_000 * 5;\n\nexport type ConfirmOperationOptions = {\n  initializedAt?: number;\n  fromBlockLevel?: number;\n  signal?: AbortSignal;\n};\n\nexport async function confirmOperation(\n  tezos: TezosToolkit,\n  opHash: string,\n  { initializedAt, fromBlockLevel, signal }: ConfirmOperationOptions = {}\n): Promise<OperationEntry> {\n  if (!initializedAt) initializedAt = Date.now();\n  if (initializedAt && initializedAt + CONFIRM_TIMEOUT < Date.now()) {\n    throw new Error(\"Confirmation polling timed out\");\n  }\n\n  const startedAt = Date.now();\n  let currentBlockLevel;\n\n  try {\n    const currentBlock = await tezos.rpc.getBlock();\n    currentBlockLevel = currentBlock.header.level;\n\n    for (\n      let i = fromBlockLevel ?? currentBlockLevel;\n      i <= currentBlockLevel;\n      i++\n    ) {\n      const block =\n        i === currentBlockLevel\n          ? currentBlock\n          : await tezos.rpc.getBlock({ block: i as any });\n\n      const opEntry = await findOperation(block, opHash);\n      if (opEntry) {\n        let status;\n        try {\n          status = (opEntry.contents[0] as any).metadata.operation_result\n            .status;\n        } catch {}\n        if (status && status !== \"applied\") {\n          throw new FailedOpError(`Operation ${status}`);\n        }\n\n        return opEntry;\n      }\n    }\n  } catch (err) {\n    if (err instanceof FailedOpError) {\n      throw err;\n    }\n  }\n\n  if (signal?.aborted) {\n    throw new Error(\"Cancelled\");\n  }\n\n  const timeToWait = Math.max(startedAt + SYNC_INTERVAL - Date.now(), 0);\n  await new Promise(r => setTimeout(r, timeToWait));\n\n  return confirmOperation(tezos, opHash, {\n    initializedAt,\n    fromBlockLevel: currentBlockLevel ? currentBlockLevel + 1 : fromBlockLevel,\n    signal,\n  });\n}\n\nexport async function findOperation(block: BlockResponse, opHash: string) {\n  for (let i = 3; i >= 0; i--) {\n    for (const op of block.operations[i]) {\n      if (op.hash === opHash) {\n        return op;\n      }\n    }\n  }\n  return null;\n}\n\nclass FailedOpError extends Error {}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SwapOrSend')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('Form',{style:(_vm.swapping && 'pointer-events:none')},[_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Input\",\"subLabelName\":_vm.inputBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.inputBalance || undefined,\"isLoading\":_vm.inputLoading,\"selectedToken\":_vm.inputToken},on:{\"input\":function (e) { return _vm.handleInputAmountChange(e.target.value); },\"selectToken\":_vm.handleInputSelect},model:{value:(_vm.inputAmount),callback:function ($$v) {_vm.inputAmount=$$v},expression:\"inputAmount\"}}),_c('FormIcon',{style:('padding-top: 0.25rem; padding-bottom: 0.25rem;')},[_c('button',{staticClass:\"p-2 transition duration-300 ease-in-out rounded-full hover:bg-alphawhite focus:outline-none rotate-when-hover\",on:{\"click\":_vm.changeDirections}},[_c('img',{staticStyle:{\"width\":\"17px\",\"height\":\"17px\"},attrs:{\"src\":require(\"@/assets/arrow-down.png\")}})])]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Output\",\"subLabelName\":_vm.outputBalance ? (\"Balance: \" + _vm.outputBalance) : undefined,\"isLoading\":_vm.outputLoading,\"selectedToken\":_vm.outputToken},on:{\"input\":function (e) { return _vm.handleOutputAmountChange(e.target.value); },\"selectToken\":_vm.handleOutputSelect},model:{value:(_vm.outputAmount),callback:function ($$v) {_vm.outputAmount=$$v},expression:\"outputAmount\"}}),(_vm.send)?[_c('FormIcon',[_c('img',{staticClass:\"inline\",attrs:{\"src\":require(\"@/assets/arrow-down.png\")}})]),_c('FormField',{attrs:{\"label\":\"Recipient Address\",\"placeholder\":\"tz1v7h3s...\",\"withSelect\":false,\"spellcheck\":false},on:{\"input\":function (e) { return (_vm.recipientAddress = e.target.value); }},model:{value:(_vm.recipientAddress),callback:function ($$v) {_vm.recipientAddress=$$v},expression:\"recipientAddress\"}})]:_vm._e(),_c('FormInfo',{staticClass:\"overflow-x-auto whitespace-no-wrap text-primary\"},[(_vm.notWhitelistedPair)?[_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"p-4 bg-redalpha rounded text-white whitespace-normal font-medium\"},[_vm._v(\" Attention! One of the tokens youre trying to exchange is not whitelisted. \"),_c('br'),_vm._v(\" You can interact with them at your own risk. \")])])]:_vm._e(),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Input Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.inputDexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Output Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.outputDexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Fee\")]),_c('span',[_vm._v(_vm._s(_vm.fee || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Exchange rate\")]),_c('span',[_vm._v(_vm._s(_vm.exchangeRate || \"-\"))])]),_c('div',{staticClass:\"flex mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Slippage tolerance\")]),_c('span',{staticClass:\"flex-1\"}),_vm._l((_vm.slippagePercentages),function(percentage){return _c('button',{key:percentage,staticClass:\"px-2 py-px ml-2 text-xs rounded-md shadow-xs focus:outline-none\",class:_vm.activeSlippagePercentage === percentage ? 'bg-alphawhite' : '',on:{\"click\":function($event){return _vm.setActiveSlippagePercentage(percentage)}}},[_vm._v(\" \"+_vm._s(percentage)+\" \"),_c('span',{staticClass:\"opacity-75\"},[_vm._v(\"%\")])])}),_c('div',{staticClass:\"px-2 py-2 ml-2 text-xs font-light leading-tight rounded-md shadow-xs focus:outline-none\",class:_vm.slippagePercentages.includes(_vm.activeSlippagePercentage)\n              ? ''\n              : 'bg-alphawhite'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customSlippagePercentage),expression:\"customSlippagePercentage\"}],staticClass:\"w-12 text-right bg-transparent outline-none\",attrs:{\"placeholder\":_vm.activeSlippagePercentage},domProps:{\"value\":(_vm.customSlippagePercentage)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.customSlippagePercentage=$event.target.value},function (e) { return _vm.handleCustomSlippageChange(e.target.value); }]}}),_vm._v(\" % \")])],2),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Minimum received\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.minimumReceived ? (_vm.minimumReceived + \" \" + (_vm.outputToken.name)) : \"-\")+\" \")])])],2)],2),_c('div',{staticClass:\"flex justify-center mt-8 text-center align-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.canSwap},on:{\"click\":_vm.swap}},[(!_vm.swapping)?[_vm._v(_vm._s(_vm.swapStatus))]:_vm._e(),(_vm.swapping)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"h-10 shadow-lg nav-wrapper\"},[_c('router-link',{staticClass:\"nav-item\",attrs:{\"active-class\":\"active\",\"to\":\"/swap\"}},[_c('span',[_vm._v(\"Swap\")])]),_c('router-link',{staticClass:\"nav-item\",attrs:{\"active-class\":\"active\",\"to\":\"/send\"}},[_c('span',[_vm._v(\"Send\")])]),_c('router-link',{staticClass:\"nav-item\",attrs:{\"active-class\":\"active\",\"to\":\"/invest\"}},[_c('span',[_vm._v(\"Invest\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"Become a Liquidity provider and earn trading fees (0.3% from each swap) + baking rewards from staking your XTZ.  Learn more about the Investment tab from <a href='https://madfish.crunch.help/quipu-swap/i-have-added-liquidity-to-quipu-swap-how-much-will-i-earn-what-is-the-apy-of-your-dex' target='_blank' rel='nofollow noopener'>this article</a>.\"}})],1)],1),_vm._l((_vm.poolsToMigrate),function(pool){return _c('button',{key:pool.dexAddress,staticClass:\"flex items-center w-full px-4 py-2 my-2 text-sm text-white rounded bg-darkblue hover:bg-gray-800\",on:{\"click\":function () { return _vm.migratePool(pool); }}},[_c('img',{staticClass:\"w-5 h-5 mr-1\",attrs:{\"src\":require(\"@/assets/xtz.png\")}}),_c('div',{staticClass:\"mr-1 opacity-75\"},[_vm._v(\"+\")]),_c('img',{staticClass:\"w-5 h-5 mr-3\",attrs:{\"src\":pool.underlineTokenMetadata.thumbnailUri}}),_c('span',{staticClass:\"mr-3\"},[_vm._v(\"XTZ / \"+_vm._s(pool.underlineTokenMetadata.symbol))]),_c('span',[_c('span',{staticClass:\"opacity-75\"},[_vm._v(\"Shares:\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(pool.totalSharesToDisplay))])]),_c('div',{staticClass:\"flex-1\"}),_vm._m(0,true)])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center font-medium text-accent group-hover:underline\"},[_vm._v(\" Remove Liqudity \"),_c('img',{staticClass:\"w-3 h-3 ml-1\",attrs:{\"src\":require(\"@/assets/arrow-right-top.svg\")}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({\n    placement: 'auto',\n    content: _vm.content,\n    autoHide: false,\n    targetClasses: (\"tooltip-wrapper \" + (_vm.positions[_vm.position]) + \" \" + (_vm.$attrs.parentclasses)),\n    classes: 'tooltip-content',\n  }),expression:\"{\\n    placement: 'auto',\\n    content: content,\\n    autoHide: false,\\n    targetClasses: `tooltip-wrapper ${positions[position]} ${$attrs.parentclasses}`,\\n    classes: 'tooltip-content',\\n  }\"}]},[_c('img',{attrs:{\"src\":require(\"@/assets/tooltip-icon.png\"),\"alt\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport VTooltip from \"v-tooltip\";\n\nVue.use(VTooltip);\n\n@Component\nexport default class Tootip extends Vue {\n  @Prop() content?: string;\n  @Prop({ default: \"default\" }) position?: string;\n  positions: object = {\n    default: \"\",\n    corner: \"tooltip-corner\",\n  };\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tooltip.vue?vue&type=template&id=4719be1c&scoped=true&\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tooltip.vue?vue&type=style&index=0&id=4719be1c&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4719be1c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport { TYPE } from \"vue-toastification\";\n\nexport async function notifyConfirm<T>(promise: Promise<T>) {\n  const toastId = Vue.$toast(\"Confirming...\", {\n    timeout: false,\n    closeOnClick: false,\n    hideProgressBar: false,\n    draggable: false,\n    icon: \"lds-dual-ring\",\n  });\n\n  try {\n    await promise;\n    Vue.$toast.update(toastId, {\n      content: \"Complete\",\n      options: {\n        icon: undefined,\n        timeout: 3_000,\n        type: TYPE.SUCCESS,\n        hideProgressBar: true,\n      },\n    });\n  } catch (err) {\n    Vue.$toast.update(toastId, {\n      content: err.message,\n      options: {\n        icon: undefined,\n        timeout: 3_000,\n        type: TYPE.ERROR,\n        hideProgressBar: true,\n      },\n    });\n  }\n}\n\nexport function notifyError(err: any) {\n  Vue.$toast.error(err.message, {\n    hideProgressBar: true,\n    timeout: 3_000,\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport store, { loadPoolsToMigrate, useWallet } from \"@/store\";\nimport { Vue, Component } from \"vue-property-decorator\";\nimport Tooltip from \"@/components/Tooltip.vue\";\nimport BigNumber from \"bignumber.js\";\nimport { confirmOperation, getDexStorage } from \"@/core\";\nimport { notifyConfirm } from \"@/toast\";\n\nconst INFO_BANNER_LS_KEY = \"info-banner\";\n\nfunction getInfoBannerDisplayed() {\n  try {\n    const val = localStorage.getItem(INFO_BANNER_LS_KEY);\n    return val ? JSON.parse(val) : true;\n  } catch (_err) {\n    return true;\n  }\n}\n\n@Component({\n  components: { Tooltip },\n})\nexport default class NavTabs extends Vue {\n  infoBannerDisplayed = getInfoBannerDisplayed();\n  migrating = false;\n\n  get poolsToMigrate() {\n    return store.state.poolsToMigrate;\n  }\n\n  updateInfoBanner() {\n    this.infoBannerDisplayed = getInfoBannerDisplayed();\n  }\n\n  handleCloseInfoBanner() {\n    (async () => {\n      try {\n        await this.$confirm(\n          \"Are you sure you want to clean info banner?\",\n          \"Confirm\",\n          \"warning\",\n          {\n            confirmButtonText: \"Yes, clean\",\n          }\n        );\n\n        localStorage.setItem(INFO_BANNER_LS_KEY, \"false\");\n        this.updateInfoBanner();\n      } catch (_err) {\n        return;\n      }\n    })();\n  }\n\n  async migratePool(pool: any) {\n    if (this.migrating) return;\n    this.migrating = true;\n\n    try {\n      const tezos = await useWallet();\n\n      const { dexAddress, totalShares, voteShares, vetoShares, me } = pool;\n\n      const dexStorage = await getDexStorage(dexAddress);\n\n      const inTezos = new BigNumber(totalShares)\n      .times(dexStorage.tezPool)\n      .idiv(dexStorage.totalSupply);\n      const inToken = new BigNumber(totalShares)\n        .times(dexStorage.tokenPool)\n        .idiv(dexStorage.totalSupply);\n\n      const slippage = new BigNumber(1).div(100);\n      const minTezos = withSlippage(inTezos, slippage);\n      const minToken = withSlippage(inToken, slippage);\n\n      const dexContract = await tezos.wallet.at(dexAddress);\n\n      let batch = tezos.wallet.batch([]);\n\n      if (voteShares && new BigNumber(voteShares).isGreaterThan(0)) {\n        batch = batch\n          .withTransfer(\n            dexContract.methods\n              .use(\"vote\", \"tz1aRoaRhSpRYvFdyvgWLL6TGyRoGF51wDjM\", 0, me)\n              .toTransferParams()\n          );\n      }\n\n      if (vetoShares && new BigNumber(vetoShares).isGreaterThan(0)) {\n        batch = batch\n          .withTransfer(\n            dexContract.methods.use(\"veto\", 0, me).toTransferParams()\n          );\n      }\n\n      batch = batch\n        .withTransfer(\n          dexContract.methods\n            .use(\n              \"divestLiquidity\",\n              minTezos.toFixed(),\n              minToken.toFixed(),\n              totalShares\n            ).toTransferParams()\n        )\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => loadPoolsToMigrate())\n      );\n    } catch (err) {\n      console.error(err);\n      const msg = err.message;\n      alert(\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\"\n      )\n    }\n\n    this.migrating = false;\n  }\n}\n\nfunction withSlippage(val: BigNumber.Value, tolerance: BigNumber.Value) {\n  return new BigNumber(val)\n    .times(new BigNumber(1).minus(tolerance))\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavTabs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavTabs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NavTabs.vue?vue&type=template&id=079c04d0&scoped=true&\"\nimport script from \"./NavTabs.vue?vue&type=script&lang=ts&\"\nexport * from \"./NavTabs.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NavTabs.vue?vue&type=style&index=0&id=079c04d0&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"079c04d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\n\n@Component\nexport default class Form extends Vue {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=5ca374dc&\"\nimport script from \"./Form.vue?vue&type=script&lang=ts&\"\nexport * from \"./Form.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-3 flex justify-center\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./FormIcon.vue?vue&type=template&id=aad4043c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"-mx-3 xs:-mx-4 shadow-lg\"},[_c('div',{class:_vm.isSearchOpened ? 'field rounded-t-3px' : ' field rounded-3px relative'},[_c('div',{staticClass:\"py-6 flex-1 flex flex-col justify-start\"},[_c('div',{staticClass:\"label mb-1 xs:mb-2 sm:text-lg font-light w-full\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.tooltipContent)?_c('Tooltip',{attrs:{\"parentclasses\":\"label-tooltip\",\"content\":_vm.tooltipContent}}):_vm._e()],1),_c('input',_vm._g(_vm._b({class:!_vm.withSelect && _vm.isLoading\n            ? 'hidden'\n            : (\"w-full \" + (_vm.extrabutton ? 'pr-32' : '')),attrs:{\"readonly\":_vm.isReadonly}},'input',_vm.$attrs,false),_vm.$listeners)),(!_vm.withSelect && _vm.isLoading)?_c('div',{staticClass:\"flex items-center\",staticStyle:{\"height\":\"30px\"}},[_c('Loader')],1):_vm._e(),_c('div',{staticClass:\"flex-1\"}),_c('div',{staticClass:\"label sm:text-sm font-light w-full\"},[(_vm.subLabelName)?[_vm._v(_vm._s(_vm.subLabelName))]:_vm._e(),(_vm.subLabelValue)?[_c('button',{staticClass:\"ml-1 underline focus:outline-none\",on:{\"click\":_vm.handleSubLabelValueClick}},[_vm._v(\" \"+_vm._s(_vm.subLabelValue)+\" \")])]:_vm._e()],2)]),(_vm.showSelect)?_c('div',{staticClass:\"flex items-center\"},[(_vm.withSelect)?_c('div',{staticClass:\"append flex relative\"},[_c('button',{staticClass:\"flex text-primary border-accent border-2 items-center rounded-3px py-2 px-3 text-sm sm:text-base whitespace-no-wrap flex-shrink-0 focus:outline-none\",on:{\"click\":_vm.toggleSearch}},[(!_vm.isLoading)?[(_vm.localToken)?[_c('img',{staticClass:\"w-5 h-5 mr-2\",attrs:{\"src\":_vm.tokenImgUrl}}),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.formattedLocalTokenSymbol))])]:_c('span',[_vm._v(\"Select a token\")])]:_vm._e(),(_vm.isLoading)?[_c('Loader')]:_vm._e(),(!_vm.onlyTezos)?_c('img',{staticClass:\"w-3 ml-2\",staticStyle:{\"margin-top\":\"-2px\"},attrs:{\"src\":require(\"@/assets/chevron-white.png\")}}):_vm._e()],2),(\n            !_vm.onlyTezos &&\n              _vm.selectedToken &&\n              _vm.selectedToken.type === 'token' &&\n              !_vm.isLoading\n          )?_c('div',{staticClass:\"absolute w-full flex justify-center\",staticStyle:{\"top\":\"100%\"}},[_c('button',{staticClass:\"p-1 text-xs text-accent font-light opacity-75 hover:underline hover:opacity-100 focus:outline-none whitespace-no-wrap\",on:{\"click\":function () { return _vm.copyToCB(this$1.selectedToken.id); }}},[_vm._v(\" Copy contract address \")])]):_vm._e()]):_vm._e()]):_vm._e()]),(_vm.isSearchOpened && !_vm.onlyTezos)?_c('div',{staticClass:\"field-search rounded-b-3px\"},[_c('div',{staticClass:\"flex items-stretch\"},[_c('div',{staticClass:\"flex-1 px-3 xs:px-6 py-3 text-sm border-b border-gray-800\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],ref:\"searchInput\",staticClass:\"w-full\",attrs:{\"placeholder\":\"Enter token name or contract address...\",\"readonly\":\"\"},domProps:{\"value\":(_vm.searchValue)},on:{\"keydown\":function($event){_vm.searchValue = $event.target.value},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}})]),(_vm.tokenIdDisplayed)?_c('div',{staticClass:\"w-40 px-3 xs:px-6 py-3 text-sm border-b border-l border-gray-800\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tokenId),expression:\"tokenId\"}],staticClass:\"w-full\",attrs:{\"type\":\"number\",\"placeholder\":\"Token ID\"},domProps:{\"value\":(_vm.tokenId)},on:{\"keydown\":function($event){_vm.tokenId = $event.target.value},\"input\":function($event){if($event.target.composing){ return; }_vm.tokenId=$event.target.value}}})]):_vm._e()]),_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"max-height\":\"13.5rem\"}},[(_vm.filteredTokens.length)?_vm._l((_vm.filteredTokens),function(token){return _c('TokenItem',{key:_vm.getAssetSlug(token),staticClass:\"token-item\",attrs:{\"token\":token,\"symbol\":token.symbol,\"name\":token.name},nativeOn:{\"click\":function($event){return _vm.selectToken(token)}}})}):_c('div',{staticClass:\"text-center py-4 text-xl\"},[_vm._v(_vm._s(_vm.notFoundStatus))])],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center\"},[_c('div',{staticClass:\"flex-1\"},[_c('div',{staticClass:\"flex items-center\"},[_c('img',{staticClass:\"w-8 h-8 mr-3 xs:w-10 xs:h-10\",attrs:{\"src\":_vm.tokenImgUrl},on:{\"error\":_vm.replaceByDefault}}),_c('div',{staticClass:\"flex-1\"},[_c('div',{staticClass:\"text-base font-normal xs:text-lg\"},[_vm._v(\" \"+_vm._s(_vm.formattedTokenSymbol)+\" \")]),_c('div',{staticClass:\"flex items-center\"},[_c('div',{staticClass:\"text-xs text-gray-600 xs:text-sm\"},[_vm._v(_vm._s(_vm.name))]),(_vm.token.type === 'token')?[_c('div',{staticClass:\"ml-2 opacity-50 text-xs text-yellow-600 rounded-sm border border-yellow-600 px-1\"},[_vm._v(\" \"+_vm._s(_vm.token.tokenType === \"FA2\" ? \"FA2\" : \"FA1.2\")+\" \")]),(_vm.token.fa2TokenId !== undefined)?_c('div',{staticClass:\"ml-1 opacity-50 text-xs text-yellow-600 rounded-sm border border-yellow-600 px-1\"},[_vm._v(\" id: \"+_vm._s(_vm.token.fa2TokenId)+\" \")]):_vm._e()]:_vm._e()],2)])])]),_c('div',[_vm._v(\"-\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport { isAddressValid, DEFAULT_TOKEN_LOGO_URL, sanitizeImgUrl } from \"@/core\";\n\n@Component\nexport default class TokenItem extends Vue {\n  @Prop({ default: \"0xBTC\" }) symbol!: string;\n  @Prop({ default: \"0xBitcoin Token\" }) name!: string;\n  @Prop() token!: any;\n\n  type!: string;\n\n  get tokenImgUrl() {\n    return sanitizeImgUrl(this.token.imgUrl);\n  }\n\n  get formattedTokenSymbol() {\n    if (!this.token) return \"\";\n    const term = this.token.symbol;\n    if (isAddressValid(term)) {\n      const ln = term.length;\n      return [term.slice(0, 7), \"...\", term.slice(ln - 4, ln)].join(\"\");\n    } else return term;\n  }\n\n  replaceByDefault(e: any) {\n    e.target.src = DEFAULT_TOKEN_LOGO_URL;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TokenItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TokenItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TokenItem.vue?vue&type=template&id=46044c8e&\"\nimport script from \"./TokenItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./TokenItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport TokenItem from \"@/components/Form/TokenItem.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport Tooltip from \"@/components/Tooltip.vue\";\n\nimport store, { loadCustomTokenIfExist } from \"@/store\";\nimport {\n  QSAsset,\n  isAddressValid,\n  getContract,\n  isFA2,\n  toAssetSlug,\n  sanitizeImgUrl,\n} from \"@/core\";\nimport { XTZ_TOKEN } from \"@/core/defaults\";\nimport BigNumber from \"bignumber.js\";\n\n@Component({\n  components: { TokenItem, Loader, Tooltip },\n})\nexport default class FormField extends Vue {\n  @Prop() label?: string;\n  @Prop() subLabelName?: string;\n  @Prop() subLabelValue?: string;\n  @Prop() tooltipContent?: string;\n  @Prop({ default: false }) isLoading?: boolean;\n  @Prop({ default: true }) withSelect?: boolean;\n  @Prop({ default: true }) showSearch?: boolean;\n  @Prop({ default: false }) extrabutton?: boolean;\n  @Prop({ default: true }) withTezos?: boolean;\n  @Prop({ default: true }) showSelect?: boolean;\n  @Prop({ default: false }) isReadonly?: boolean;\n  @Prop({ default: false }) onlyTezos?: boolean;\n  @Prop({ default: null }) selectedToken?: QSAsset | null;\n  @Ref(\"searchInput\") readonly searchInput!: HTMLInputElement;\n\n  value: string = \"0.0\";\n\n  searchValue: string = \"\";\n  tokenId: string = \"\";\n  tokenIdDisplayed: boolean = false;\n  isSearchOpened: boolean = false;\n  localToken: QSAsset | null = null;\n  processing = false;\n\n  get tokenImgUrl() {\n    return this.localToken ? sanitizeImgUrl(this.localToken.imgUrl) : \"\";\n  }\n\n  get notFoundStatus() {\n    switch (true) {\n      case this.processing:\n        return \"Finding...\";\n\n      case this.tokenIdDisplayed:\n        return \"Specify token ID\";\n\n      default:\n        return \"Not Found\";\n    }\n  }\n\n  get formattedLocalTokenSymbol() {\n    if (!this.localToken) return \"\";\n    const term = this.localToken.symbol;\n    if (isAddressValid(term)) {\n      const ln = term.length;\n      return [term.slice(0, 7), \"...\", term.slice(ln - 4, ln)].join(\"\");\n    }\n    return term;\n  }\n\n  @Watch(\"searchValue\")\n  onSearchValueChange() {\n    if (isAddressValid(this.searchValue)) {\n      this.checkFA2OrAddToken(this.searchValue);\n    } else {\n      this.tokenIdDisplayed = false;\n      this.tokenId = \"\";\n    }\n  }\n\n  @Watch(\"tokenId\")\n  onTokenIdChanged() {\n    if (isAddressValid(this.searchValue) && `${this.tokenId}`.length > 0) {\n      const tokenId = new BigNumber(this.tokenId).integerValue();\n      if (!tokenId.isNaN() && tokenId.isGreaterThanOrEqualTo(0)) {\n        this.addTokenToList(this.searchValue, tokenId);\n      }\n    }\n  }\n\n  handleSubLabelValueClick() {\n    if (typeof this.subLabelValue === \"string\") {\n      (this.$listeners.input as any)({ target: { value: this.subLabelValue } });\n    }\n  }\n\n  async checkFA2OrAddToken(contractAddress: string) {\n    this.processing = true;\n    try {\n      const contract = await getContract(contractAddress);\n      const fa2 = await isFA2(contract);\n      if (fa2) {\n        this.tokenIdDisplayed = true;\n      } else {\n        this.addTokenToList(contractAddress);\n      }\n    } catch {}\n    this.processing = false;\n  }\n\n  getAssetSlug(asset: QSAsset) {\n    return toAssetSlug(asset);\n  }\n\n  async addTokenToList(contractAddress: string, tokenId?: BigNumber) {\n    const fa2TokenId = tokenId ? tokenId.toNumber() : undefined;\n\n    if (\n      store.state.tokens.some(t =>\n        fa2TokenId === undefined\n          ? t.id === this.searchValue\n          : t.id === this.searchValue && t.fa2TokenId === fa2TokenId\n      )\n    ) {\n      return;\n    }\n\n    this.processing = true;\n    await loadCustomTokenIfExist(contractAddress, fa2TokenId);\n    this.processing = false;\n  }\n\n  get filteredTokens(): QSAsset[] {\n    return [\n      // ...(this.withTezos ? [XTZ_TOKEN] : []),\n      ...(this.withTezos ? [] : []),\n      ...store.state.tokens,\n    ].filter((t: QSAsset) => {\n      const base =\n        t.name.toLowerCase().includes(this.searchValue.toLowerCase()) ||\n        t.symbol.toLowerCase().includes(this.searchValue.toLowerCase()) ||\n        t.id.includes(this.searchValue);\n\n      return this.tokenId ? base && +this.tokenId === t.fa2TokenId : base;\n    });\n  }\n\n  created() {\n    if (this.onlyTezos) {\n      this.localToken = XTZ_TOKEN;\n    } else if (this.selectedToken) {\n      this.localToken = this.selectedToken;\n    }\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChanged() {\n    if (this.selectedToken !== undefined) {\n      this.localToken = this.selectedToken;\n    }\n  }\n\n  toggleSearch() {\n    this.isSearchOpened = !this.isSearchOpened;\n    this.$nextTick(\n      () => this.isSearchOpened && !this.onlyTezos && this.searchInput.focus()\n    );\n  }\n\n  selectToken(token: QSAsset) {\n    this.searchValue = \"\";\n    this.localToken = token;\n    this.isSearchOpened = false;\n    this.$emit(\"selectToken\", token);\n  }\n\n  copyToCB(text: string) {\n    const el = document.createElement(\"textarea\");\n    el.value = text;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormField.vue?vue&type=template&id=241b12c6&scoped=true&\"\nimport script from \"./FormField.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormField.vue?vue&type=style&index=0&id=241b12c6&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"241b12c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-2 px-6\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./FormInfo.vue?vue&type=template&id=c9395c80&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',_vm._g(_vm._b({staticClass:\"flex justify-center items-center bg-primary text-lightgray h-12 w-full max-w-xs rounded-3px text-lg focus:outline-none shadow-lg\"},'button',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\n\n@Component\nexport default class SubmitBtn extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SubmitBtn.vue?vue&type=template&id=89ad0b1e&scoped=true&\"\nimport script from \"./SubmitBtn.vue?vue&type=script&lang=ts&\"\nexport * from \"./SubmitBtn.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SubmitBtn.vue?vue&type=style&index=0&id=89ad0b1e&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89ad0b1e\",\n  null\n  \n)\n\nexport default component.exports","import { client, TEZOS_PLUGIN_JS, TEZOS_QUIPUSWAP_WRAPPER_URI } from \"./client\"\nimport add from \"date-fns/add\"\n\nexport const connectTempleWallet = (network) => {\n  return client.query({\n    uri: TEZOS_PLUGIN_JS,\n    query: `\n        mutation {\n          connectTempleWallet(\n              appName: \"polydomains\", \n              network: $network,\n              connection: $connection\n          )\n        },\n    `,\n    variables: {\n        network,\n        connection: {\n          network\n        }\n    }\n  })\n}\n\nexport const addOperator = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n        mutation {\n          addOperator (\n              network: hangzhounet,\n              params: $params\n          )\n        },\n    `,\n    variables: {\n      params: payload\n    }\n  })\n\n}\n\n\nexport const swapDirect = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n        mutation {\n          swapDirect(\n            network: hangzhounet,\n            params: $params,\n            sendParams: $sendParams\n          )\n        },\n    `,\n    variables: {\n      params: payload.params,\n      sendParams: payload.sendParams\n    }\n  })\n  \n}\n\n\nexport const removeOperator = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n        mutation {\n          removeOperator (\n              network: hangzhounet,\n              params: $params\n          )\n        },\n    `,\n    variables: {\n        network,\n        params: payload\n    }\n  })\n  \n}\n\n\nexport const transfer = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n      mutation {\n        transfer(\n          network: hangzhounet,\n          params: $params,\n          sendParams: $sendParams\n        )\n      }\n    `,\n    variables: {\n      params: payload.params,\n      sendParams: payload.sendParams\n    }\n  })\n  \n}\n\n\nexport const transferFrom = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n      mutation {\n        transferFrom(\n          network: hangzhounet,\n          from: $from,\n          params: $params,\n          sendParams: $sendParams\n        )\n      }\n    `,\n    variables: {\n      from: payload.from,\n      params: payload.params,\n      sendParams: payload.sendParams\n    }\n  })\n  \n}\n\nexport const invest = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n      mutation {\n        invest(\n          network: hangzhounet,\n          params: $params,\n          sendParams: $sendParams\n        )\n      }\n    `,\n    variables: {\n      params: payload.params,\n      sendParams: payload.sendParams    \n    }\n  })\n  \n}\n\nexport const divest = (network, payload) => {\n\n  return client.query({\n    uri: TEZOS_QUIPUSWAP_WRAPPER_URI,\n    query: `\n      mutation {\n        divest(\n          network: hangzhounet,\n          params: $params,\n          sendParams: $sendParams\n        )\n      }\n    `,\n    variables: {\n      params: payload.params,\n      sendParams: payload.sendParams\n    }\n  })\n  \n}\n\n\nexport const batchContractCalls = (payload) => {\n\n  return client.query({\n    uri: TEZOS_PLUGIN_JS,\n    query: `\n        mutation {\n          batchWalletContractCalls (\n            params: $params\n          )\n        },\n    `,\n    variables: {\n      params: payload\n    }\n  })\n  \n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from \"vue-property-decorator\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport Form, { FormIcon, FormField, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\nimport Loader from \"@/components/Loader.vue\";\n\nimport BigNumber from \"bignumber.js\";\nimport { OpKind, WalletOperation } from \"@taquito/taquito\";\nimport store, { getAccount, useWallet, getTokenPairsID, connectTempleWalletWrapper } from \"@/store\";\nimport {\n  FEE_RATE,\n  XTZ_TOKEN,\n  QSAsset,\n  isAddressValid,\n  toValidAmount,\n  getBalance,\n  estimateTezToToken,\n  estimateTezToTokenInverse,\n  estimateTokenToTez,\n  estimateTokenToTezInverse,\n  tzToMutez,\n  clearMem,\n  approveToken,\n  toNat,\n  deapproveFA2,\n  isUnsafeAllowanceChangeError,\n  toAssetSlug,\n  isTokenWhitelisted,\n  getDexStorage,\n  findTezDex,\n  confirmOperation,\n  getNetwork\n} from \"@/core\";\n\nimport { notifyConfirm, notifyError } from \"../toast\";\nimport add from \"date-fns/add\";\nimport { swapDirect, removeOperator, addOperator, transfer, transferFrom, batchContractCalls,} from \"../services/web3/mutation\";\n\nimport VueSimpleAlert from \"vue-simple-alert\";\nVue.use(VueSimpleAlert);\n\n@Component({\n  components: {\n    NavTabs,\n    Form,\n    FormIcon,\n    FormField,\n    FormInfo,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class SwapOrSend extends Vue {\n  @Prop({ default: false }) send?: boolean;\n\n  inputAmount = \"\";\n  inputBalance: string | null = null;\n  inputLoading = false;\n\n  outputAmount = \"\";\n  outputBalance: string | null = null;\n  outputLoading = false;\n\n  recipientAddress: string = \"\";\n\n  slippagePercentages = [0.5, 1, 3];\n  activeSlippagePercentage: number | undefined = 0.5;\n  lastValidCustomSlippagePercentage: string = \"\";\n  customSlippagePercentage: string = \"\";\n  fee: string | null = null;\n  inputDexAddress: string | null = null;\n  outputDexAddress: string | null = null;\n\n  inputTokenAddress: string | null = null;\n  outputTokenAddress: string | null = null;\n\n  swapping = false;\n  swapStatus = this.defaultSwapStatus;\n\n  get defaultSwapStatus() {\n    return this.send ? \"Send\" : \"Swap\";\n  }\n\n  get account() {\n    return getAccount();\n  }\n\n  get inputToken() {\n    const { from } = this.$route.query;\n    if (from === \"tez\") {\n      return XTZ_TOKEN;\n    }\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === from) ?? null\n    );\n  }\n\n  set inputToken(val: QSAsset | null) {\n    const usp = new URLSearchParams(this.$route.query as any);\n    if (val) {\n      usp.set(\"from\", toAssetSlug(val));\n    } else {\n      usp.delete(\"from\");\n    }\n    this.$router.replace(`${this.$route.path}?${usp}`);\n  }\n\n  get outputToken() {\n    const { to } = this.$route.query;\n    if (to === \"tez\") {\n      return XTZ_TOKEN;\n    }\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === to) ?? null\n    );\n  }\n\n  set outputToken(val: QSAsset | null) {\n    const usp = new URLSearchParams(this.$route.query as any);\n    if (val) {\n      usp.set(\"to\", toAssetSlug(val));\n    } else {\n      usp.delete(\"to\");\n    }\n    this.$router.replace(`${this.$route.path}?${usp}`);\n  }\n\n  get notWhitelistedPair() {\n    return [this.inputToken, this.outputToken].some((t) =>\n      t ? !isTokenWhitelisted(t) : false\n    );\n  }\n\n  get exchangeRate() {\n    console.log(\"exchangeRate\");\n    console.log(this.inputToken);\n    console.log(this.outputToken);\n    console.log(this.inputAmount);\n    console.log(this.outputAmount);\n\n    if (\n      !this.inputToken ||\n      !this.outputToken ||\n      !this.inputAmount ||\n      !this.outputAmount\n    ) {\n      console.log(\"returened\");\n      return null;\n    }\n\n    const price = new BigNumber(this.inputAmount)\n      .div(this.outputAmount)\n      .toFormat(this.inputToken.decimals, BigNumber.ROUND_DOWN);\n    return `1 ${this.outputToken.name} = ${price} ${this.inputToken.name}`;\n  }\n\n  get minimumReceived() {\n    if (!this.outputToken || !this.outputAmount) return null;\n    const base = new BigNumber(100)\n      .minus(this.activeSlippagePercentage || 0)\n      .div(100)\n      .times(this.outputAmount);\n\n    return base.toFixed(this.outputToken.decimals, BigNumber.ROUND_DOWN);\n  }\n\n  get canSwap() {\n    const inAndOutValid =\n      this.inputToken &&\n      this.outputToken &&\n      [\n        this.inputAmount,\n        this.outputAmount,\n        this.minimumReceived,\n      ].every(a => a && +a > 0) &&\n      this.activeSlippagePercentage! < 100;\n    return this.send\n      ? inAndOutValid && isAddressValid(this.recipientAddress)\n      : inAndOutValid;\n  }\n\n  get tokens() {\n    return store.state.tokens;\n  }\n\n  created() {\n    this.loadInputBalance();\n    this.loadFee();\n  }\n\n  @Watch(\"inputToken\")\n  onInputTokenChange() {\n    this.loadInputTezDex();\n    this.loadInputBalance();\n  }\n\n  @Watch(\"outputToken\")\n  onOutputTokenChange() {\n    this.loadOutputTezDex();\n    this.loadOutputBalance();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadInputBalance();\n    this.loadOutputBalance();\n  }\n\n  @Watch(\"tokens\")\n  onTokensChange() {\n    this.loadFee();\n  }\n\n  async loadInputTezDex() {\n    this.inputDexAddress = null;\n    this.inputTokenAddress = null;\n\n    if (this.inputToken && this.inputToken.type === \"token\") {\n      this.inputLoading = true;\n      const dex = await findTezDex(this.inputToken);\n      \n      this.inputTokenAddress = this.inputToken.id;\n      if (dex) this.inputDexAddress = dex.address;\n      this.inputLoading = false;\n    }\n\n    this.calcOutputAmount();\n  }\n\n  async loadOutputTezDex() {\n    this.outputDexAddress = null;\n    this.outputTokenAddress = null;\n\n    if (this.outputToken && this.outputToken.type === \"token\") {\n      this.outputLoading = true;\n      const dex = await findTezDex(this.outputToken);\n\n      this.outputTokenAddress = this.outputToken.id;\n      if (dex) this.outputDexAddress = dex.address;\n      this.outputLoading = false;\n    }\n\n    this.calcOutputAmount();\n  }\n\n  async loadInputBalance() {\n    this.inputBalance = null;\n    try {\n      if (this.inputToken && this.account.pkh) {\n        const balance = await getBalance(this.account.pkh, this.inputToken);\n        this.inputBalance = balance.toFixed();\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadOutputBalance() {\n    this.outputBalance = null;\n    try {\n      if (this.outputToken && this.account.pkh) {\n        const balance = await getBalance(this.account.pkh, this.outputToken);\n        this.outputBalance = balance.toFixed();\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadFee() {\n    this.fee = null;\n    try {\n      const token = store.state.tokens[0];\n      if (token) {\n        const feeBn = new BigNumber(1).div(FEE_RATE).times(100);\n        this.fee = `${+feeBn.toFixed(2)}%`;\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  handleInputSelect(token: QSAsset) {\n    this.inputToken = token;\n\n    if (this.outputToken && toAssetSlug(token) === toAssetSlug(this.outputToken)) {\n      this.outputToken = null;\n      this.outputAmount = \"\";\n    }\n  }\n\n  handleOutputSelect(token: QSAsset) {\n    this.outputToken = token;\n\n    if (this.inputToken) {\n      if (toAssetSlug(token) === toAssetSlug(this.inputToken)) {\n        this.inputToken = null;\n      } else if (!this.inputAmount) {\n        this.inputAmount = \"1\";\n      }\n    }\n  }\n\n  setActiveSlippagePercentage(percentage: number) {\n    this.activeSlippagePercentage = percentage;\n    this.customSlippagePercentage = \"\";\n    this.lastValidCustomSlippagePercentage = \"\";\n  }\n\n  handleInputAmountChange(amount: string) {\n    this.inputAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      this.calcOutputAmount();\n    } else {\n      this.outputAmount = \"\";\n    }\n  }\n\n  handleOutputAmountChange(amount: string) {\n    this.outputAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      this.calcInputAmount();\n    } else {\n      this.inputAmount = \"\";\n    }\n  }\n\n  handleCustomSlippageChange(amount: string) {\n    const numAmount = amount ? Number(amount) : undefined;\n    const shouldRevertChange =\n      numAmount !== undefined && (numAmount < 0 || numAmount > 30);\n\n    if (\n      numAmount !== undefined &&\n      !Number.isNaN(numAmount) &&\n      !shouldRevertChange\n    ) {\n      this.activeSlippagePercentage = numAmount;\n    }\n\n    if (shouldRevertChange) {\n      this.customSlippagePercentage = this.lastValidCustomSlippagePercentage;\n    } else {\n      this.lastValidCustomSlippagePercentage = amount;\n    }\n  }\n\n  async calcOutputAmount() {\n    if (!this.inputToken || !this.outputToken) return;\n\n    const inType = this.inputToken.type;\n    const outType = this.outputToken.type;\n\n    // console.log(asn);\n\n    let amount: BigNumber | undefined;\n    switch (true) {\n      case inType === \"xtz\" && outType === \"token\":\n        if (this.outputDexAddress) {\n          amount = estimateTezToToken(\n            this.inputAmount,\n            await getDexStorage(this.outputDexAddress),\n            this.outputToken\n          );\n        }\n        break;\n\n      case inType === \"token\" && outType === \"xtz\":\n        if (this.inputDexAddress) {\n          amount = estimateTokenToTez(\n            this.inputAmount,\n            await getDexStorage(this.inputDexAddress),\n            this.inputToken\n          );\n        }\n        break;\n\n      case inType === \"token\" && outType === \"token\":\n\n        if (this.inputDexAddress && this.outputDexAddress) {\n          amount = estimateTezToToken(\n            estimateTokenToTez(\n              this.inputAmount,\n              await getDexStorage(this.inputDexAddress),\n              this.inputToken\n            ),\n            await getDexStorage(this.outputDexAddress),\n            this.outputToken\n          );\n        }\n        break;\n      default:\n        break;\n    }\n\n    this.outputAmount = toValidAmount(amount);\n  }\n\n  async calcInputAmount() {\n    if (!this.inputToken || !this.outputToken) return;\n\n    const inType = this.inputToken.type;\n    const outType = this.outputToken.type;\n\n    let amount: BigNumber | undefined;\n    switch (true) {\n      case inType === \"xtz\" && outType === \"token\":\n        if (this.outputDexAddress) {\n          amount = estimateTezToTokenInverse(\n            this.outputAmount,\n            await getDexStorage(this.outputDexAddress),\n            this.outputToken\n          );\n        }\n        break;\n\n      case inType === \"token\" && outType === \"xtz\":\n        if (this.inputDexAddress) {\n          amount = estimateTokenToTezInverse(\n            this.outputAmount,\n            await getDexStorage(this.inputDexAddress),\n            this.inputToken\n          );\n        }\n        break;\n\n      case inType === \"token\" && outType === \"token\":\n        if (this.inputDexAddress && this.outputDexAddress) {\n          amount = estimateTokenToTezInverse(\n            estimateTezToTokenInverse(\n              this.outputAmount,\n              await getDexStorage(this.outputDexAddress),\n              this.outputToken\n            ),\n            await getDexStorage(this.inputDexAddress),\n            this.inputToken\n          );\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    this.inputAmount = toValidAmount(amount);\n  }\n\n  changeDirections() {\n    let newInputToken;\n    let newOutputToken;\n    let newInputAmount;\n\n    if (this.inputToken) {\n      newOutputToken = this.inputToken;\n    }\n    if (this.outputToken) {\n      newInputToken = this.outputToken;\n      if (this.outputAmount) {\n        newInputAmount = this.outputAmount;\n      }\n    }\n\n    this.inputAmount = \"\";\n    this.outputAmount = \"\";\n\n    this.inputToken = newInputToken ?? null;\n    this.outputToken = newOutputToken ?? null;\n\n    // const inputDexAddress = this.inputDexAddress;\n    // this.inputDexAddress = this.outputDexAddress;\n    // this.outputDexAddress = inputDexAddress;\n\n    if (newInputToken && newOutputToken && newInputAmount) {\n      this.inputAmount = newInputAmount;\n     // this.calcOutputAmount();\n    }\n  }\n\n  async swap() {\n\n    if (this.swapping) return;\n    this.swapping = true;\n\n\n    let payload_batch = null;\n\n    await connectTempleWalletWrapper();\n    \n    const me = getAccount().pkh\n    const recipient = this.send ? this.recipientAddress : me;\n\n    const inTk = this.inputToken!;\n    const outTk = this.outputToken!;\n    const inTkAddress = this.inputTokenAddress != undefined ? this.inputTokenAddress : 'KT1SaouedthKUtAujiBD232mZYGtKwpZ6mFD';\n    const outTkAddress = this.outputTokenAddress != undefined ? this.outputTokenAddress : 'KT1SaouedthKUtAujiBD232mZYGtKwpZ6mFD';\n    const inpAmn = this.inputAmount!;\n    const minOut = this.minimumReceived!;\n    const corminOut = new BigNumber(this.minimumReceived!);\n\n    // @ts-ignore: Object is possibly 'null'.\n    const minOutNat = tzToMutez(corminOut).c[0];\n\n    let firemessage: any = {};\n\n    let pairId = await getTokenPairsID(inTkAddress,outTkAddress);\n\n    if(pairId == undefined){\n      firemessage = {\n        title: 'Unavailable Pair',\n        html:\n          'We only support FA12 and FA1218 Pair Transaction now.',\n        showCancelButton: false,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Done!'\n      }\n\n      this.$fire(firemessage);\n\n      this.swapping = false;\n      this.swapStatus = this.defaultSwapStatus;\n      \n      return\n    }\n\n    const net = getNetwork();\n    let response: any;\n\n    if(this.send){\n\n      let payload_swap = {\n        params: {\n          pairId: parseInt(pairId, 10),\n          direction: `b_to_a`,\n          swapParams: {\n            amountIn: inpAmn,\n            minAmountOut: minOutNat.toString(),\n            deadline: add(new Date(), { minutes: 10 }).toISOString(),\n            receiver: recipient\n          }\n        },\n        sendParams: {\n          to: \"\",\n          amount: 0,\n          mutez: true\n        }\n      }\n\n\n      response = await swapDirect(net.id, payload_swap);\n      console.log(\"## Send Transfer ##\");\n      console.log(response);\n\n      // @ts-ignore: Object is possibly 'null'.\n      payload_batch = response.data?.swapDirect;\n\n    }else{\n\n\n      let payload_swap = {\n        params: {\n          pairId: parseInt(pairId, 10),\n          direction: `b_to_a`,\n          swapParams: {\n            amountIn: inpAmn,\n            minAmountOut: minOutNat.toString(),\n            deadline: add(new Date(), { minutes: 10 }).toISOString(),\n            receiver:  me\n          }\n        },\n        sendParams: {\n          to: \"\",\n          amount: 0,\n          mutez: true\n        }\n      };\n\n\n\n      response = await swapDirect(net.id, payload_swap);\n      console.log(\"## swapDirect ##\");\n      console.log(response);\n      payload_batch = response.data?.swapDirect;\n    }\n\n    const response_batchcalls = await batchContractCalls(payload_batch);\n    console.log(\"## Batch Calls ##\");\n    const response_batch:any = response_batchcalls.data?.batchWalletContractCalls;\n    console.log(response_batchcalls);\n    console.log(response_batch);\n    \n\n    if(response_batch != undefined){\n      firemessage = {\n        title: 'Successful',\n        html:\n          'Transaction ' +\n          '<a href=\"https://hangzhou.tzstats.com/'+response_batch+'\" target=\"_blank\"><b style=\"color: green;\">...'+response_batch?.substring(response_batch?.length - 10)+'</b></a> ' +\n          ' was completed.',\n        showCancelButton: false,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Done!',\n        onClose: this.reloadpage\n      }\n    }else{\n      firemessage = {\n        title: 'Unsuccessful',\n        html:\n          'Operation was unsuccessful',\n        showCancelButton: false,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Done!',\n        onClose: this.reloadpage\n      }\n    }\n\n    this.$fire(firemessage);\n\n\n    this.swapping = false;\n    this.swapStatus = this.defaultSwapStatus;\n    \n    \n\n  }\n\n  reloadpage(){\n    this.refresh();\n    window.location.reload();\n  }\n\n\n  // async swap() {\n  //   if (this.swapping) return;\n  //   this.swapping = true;\n\n  //   try {\n  //     const tezos = await useWallet();\n  //     const me = await tezos.wallet.pkh();\n\n  //     const recipient = this.send ? this.recipientAddress : me;\n\n  //     const inTk = this.inputToken!;\n  //     const outTk = this.outputToken!;\n  //     const inpAmn = new BigNumber(this.inputAmount!);\n  //     const minOut = new BigNumber(this.minimumReceived!);\n\n  //     let bal: BigNumber | undefined;\n  //     try {\n  //       bal = await getBalance(me, inTk);\n  //     } catch (_err) {}\n  //     if (bal && bal.isLessThan(inpAmn)) {\n  //       throw new Error(\"Not Enough Funds\");\n  //     }\n\n  //     let operation: WalletOperation;\n  //     if (inTk.type === \"xtz\" && outTk.type === \"token\" && this.outputDexAddress) {\n  //       const contract = await tezos.wallet.at(this.outputDexAddress);\n\n  //       operation = await contract.methods\n  //         .use(\"tezToTokenPayment\", toNat(minOut, outTk).toFixed(), recipient)\n  //         .send({ amount: inpAmn as any });\n  //     } else if (inTk.type === \"token\" && outTk.type === \"xtz\" && this.inputDexAddress) {\n  //       const [tokenContract, dexContract] = await Promise.all([\n  //         tezos.wallet.at(inTk.id),\n  //         tezos.wallet.at(this.inputDexAddress),\n  //       ]);\n\n  //       const tokenAmountNat = toNat(inpAmn, inTk).toFixed();\n\n  //       let withAllowanceReset = false;\n  //       try {\n  //         await tezos.estimate.batch([\n  //           {\n  //             kind: OpKind.TRANSACTION,\n  //             ...approveToken(\n  //               inTk,\n  //               tokenContract,\n  //               me,\n  //               this.inputDexAddress,\n  //               tokenAmountNat\n  //             ).toTransferParams(),\n  //           },\n  //           {\n  //             kind: OpKind.TRANSACTION,\n  //             ...dexContract.methods\n  //               .use(\n  //                 \"tokenToTezPayment\",\n  //                 tokenAmountNat,\n  //                 tzToMutez(minOut),\n  //                 recipient\n  //               )\n  //               .toTransferParams(),\n  //           },\n  //         ]);\n  //       } catch (err) {\n  //         if (isUnsafeAllowanceChangeError(err)) {\n  //           withAllowanceReset = true;\n  //         } else {\n  //           console.error(err);\n  //         }\n  //       }\n\n  //       let batch = tezos.wallet.batch([]);\n\n  //       if (withAllowanceReset) {\n  //         batch = batch.withTransfer(\n  //           approveToken(\n  //             inTk,\n  //             tokenContract,\n  //             me,\n  //             this.inputDexAddress,\n  //             0\n  //           ).toTransferParams()\n  //         );\n  //       }\n\n  //       batch = batch\n  //         .withTransfer(\n  //           approveToken(\n  //             inTk,\n  //             tokenContract,\n  //             me,\n  //             this.inputDexAddress,\n  //             tokenAmountNat\n  //           ).toTransferParams()\n  //         )\n  //         .withTransfer(\n  //           dexContract.methods\n  //             .use(\n  //               \"tokenToTezPayment\",\n  //               tokenAmountNat,\n  //               tzToMutez(minOut),\n  //               recipient\n  //             )\n  //             .toTransferParams()\n  //         );\n\n  //       deapproveFA2(\n  //         batch,\n  //         inTk,\n  //         tokenContract,\n  //         me,\n  //         this.inputDexAddress,\n  //       );\n\n  //       operation = await batch.send();\n  //     } else if (inTk.type === \"token\" && outTk.type === \"token\" && this.inputDexAddress && this.outputDexAddress) {\n  //       const [\n  //         inTokenContract,\n  //         inDexContract,\n  //         outDexContract,\n  //       ] = await Promise.all([\n  //         tezos.wallet.at(inTk.id),\n  //         tezos.wallet.at(this.inputDexAddress),\n  //         tezos.wallet.at(this.outputDexAddress),\n  //       ]);\n\n  //       const tezAmount = estimateTokenToTez(\n  //         this.inputAmount,\n  //         await getDexStorage(this.inputDexAddress),\n  //         inTk\n  //       );\n\n  //       const inpAmnNat = toNat(inpAmn, inTk).toFixed();\n\n  //       let withAllowanceReset = false;\n  //       try {\n  //         await tezos.estimate.batch([\n  //           {\n  //             kind: OpKind.TRANSACTION,\n  //             ...approveToken(\n  //               inTk,\n  //               inTokenContract,\n  //               me,\n  //               this.inputDexAddress,\n  //               inpAmnNat\n  //             ).toTransferParams(),\n  //           },\n  //           {\n  //             kind: OpKind.TRANSACTION,\n  //             ...inDexContract.methods\n  //               .use(\n  //                 \"tokenToTezPayment\",\n  //                 inpAmnNat,\n  //                 tzToMutez(tezAmount)\n  //                   .integerValue(BigNumber.ROUND_DOWN)\n  //                   .toFixed(),\n  //                 me\n  //               )\n  //               .toTransferParams(),\n  //           },\n  //           {\n  //             kind: OpKind.TRANSACTION,\n  //             ...outDexContract.methods\n  //               .use(\"tezToTokenPayment\", toNat(minOut, outTk), recipient)\n  //               .toTransferParams({ amount: tezAmount.toFixed() as any }),\n  //           },\n  //         ]);\n  //       } catch (err) {\n  //         if (isUnsafeAllowanceChangeError(err)) {\n  //           withAllowanceReset = true;\n  //         } else {\n  //           console.error(err);\n  //         }\n  //       }\n\n  //       let batch = tezos.wallet.batch([]);\n\n  //       if (withAllowanceReset) {\n  //         batch = batch.withTransfer(\n  //           approveToken(\n  //             inTk,\n  //             inTokenContract,\n  //             me,\n  //             this.inputDexAddress,\n  //             0\n  //           ).toTransferParams()\n  //         );\n  //       }\n\n  //       batch = batch\n  //         .withTransfer(\n  //           approveToken(\n  //             inTk,\n  //             inTokenContract,\n  //             me,\n  //             this.inputDexAddress,\n  //             inpAmnNat\n  //           ).toTransferParams()\n  //         )\n  //         .withTransfer(\n  //           inDexContract.methods\n  //             .use(\n  //               \"tokenToTezPayment\",\n  //               inpAmnNat,\n  //               tzToMutez(tezAmount)\n  //                 .integerValue(BigNumber.ROUND_DOWN)\n  //                 .toFixed(),\n  //               me\n  //             )\n  //             .toTransferParams()\n  //         )\n  //         .withTransfer(\n  //           outDexContract.methods\n  //             .use(\"tezToTokenPayment\", toNat(minOut, outTk), recipient)\n  //             .toTransferParams({ amount: tezAmount.toFixed() as any })\n  //         );\n\n  //       deapproveFA2(\n  //         batch,\n  //         inTk,\n  //         inTokenContract,\n  //         me,\n  //         this.inputDexAddress,\n  //       );\n\n  //       operation = await batch.send();\n  //     }\n\n  //     notifyConfirm(\n  //        confirmOperation(tezos, operation!.opHash)\n  //         .finally(() => this.refresh())\n  //     );\n  //   } catch (err) {\n  //     console.error(err);\n  //     notifyError(err);\n\n  //     const msg = err.message;\n  //     this.swapStatus =\n  //       msg && msg.length < 30\n  //         ? msg.startsWith(\"Dex/\")\n  //           ? msg.replace(\"Dex/\", \"\")\n  //           : msg\n  //         : \"Something went wrong\";\n  //   }\n  //   this.swapping = false;\n\n  //   await new Promise((res) => setTimeout(res, 5000));\n  //   this.swapStatus = this.defaultSwapStatus;\n  // }\n\n  refresh() {\n    console.log(\"refresh was called\");\n    clearMem();\n    this.loadInputBalance();\n    this.calcOutputAmount();\n  }\n  \n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwapOrSend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwapOrSend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SwapOrSend.vue?vue&type=template&id=31801f5c&\"\nimport script from \"./SwapOrSend.vue?vue&type=script&lang=ts&\"\nexport * from \"./SwapOrSend.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport SwapOrSend from \"@/components/SwapOrSend.vue\";\n\n@Component({\n  components: { SwapOrSend },\n})\nexport default class Swap extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Swap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Swap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Swap.vue?vue&type=template&id=68fd0db2&\"\nimport script from \"./Swap.vue?vue&type=script&lang=ts&\"\nexport * from \"./Swap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SwapOrSend',{attrs:{\"send\":\"\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport SwapOrSend from \"@/components/SwapOrSend.vue\";\n\n@Component({\n  components: { SwapOrSend },\n})\nexport default class Send extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Send.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Send.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Send.vue?vue&type=template&id=5fe20d98&\"\nimport script from \"./Send.vue?vue&type=script&lang=ts&\"\nexport * from \"./Send.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('Form',{style:(_vm.processing && 'pointer-events:none')},[_c('NavInvest'),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Token Deposit\",\"withTezos\":false,\"onlyTezos\":false,\"subLabelName\":_vm.tezBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tezBalance || undefined,\"isLoading\":_vm.tezLoading,\"selectedToken\":_vm.tezToken},on:{\"input\":function (e) { return _vm.handleTezAmountChange(e.target.value); },\"selectToken\":_vm.handleInputSelect},model:{value:(_vm.tezAmount),callback:function ($$v) {_vm.tezAmount=$$v},expression:\"tezAmount\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/plus.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Token Deposit\",\"withTezos\":false,\"subLabelName\":_vm.tokenBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tokenBalance || undefined,\"isLoading\":_vm.tokenLoading,\"selectedToken\":_vm.selectedToken},on:{\"input\":function (e) { return _vm.handleTokenAmountChange(e.target.value); },\"selectToken\":_vm.handleTokenSelect},model:{value:(_vm.tokenAmount),callback:function ($$v) {_vm.tokenAmount=$$v},expression:\"tokenAmount\"}}),_c('FormInfo',{staticClass:\"overflow-x-auto whitespace-no-wrap\"},[(_vm.notWhitelistedPair)?[_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"p-4 bg-redalpha rounded text-white whitespace-normal font-medium\"},[_vm._v(\" Attention! Token pair youre trying to add liquidity to is not whitelisted. \"),_c('br'),_vm._v(\" You can interact with it at your own risk. \")])])]:_vm._e(),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.dexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Exchange rate\")]),_c('span',[_vm._v(_vm._s(_vm.exchangeRate || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Pooled Tokens\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.tokenFull : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Pooled XTZ\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.tezFull : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Your pool tokens\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.myTokens : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Your pool share\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.myShare : \"-\"))])])],2)],1),_c('div',{staticClass:\"mx-auto mt-8 mb-8 text-sm font-normal text-center text-lightgray\"}),(_vm.noDecimalsToken)?[_vm._m(0)]:_vm._e(),_c('div',{staticClass:\"flex justify-center text-center\"},[_c('SubmitBtn',{on:{\"click\":_vm.addLiquidity}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.addLiqStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"-mt-4 mb-8 px-4\"},[_c('div',{staticClass:\"p-4 bg-redalpha rounded text-white whitespace-normal font-medium\"},[_vm._v(\" This pool is disabled for use on the UI due to possible manipulations. Please, stay tuned, the newer contract version fixing this issue is coming soon. \"),_c('a',{staticClass:\"underline\",attrs:{\"href\":\"https://www.madfish.solutions/blog/quipuswap-important-announcement-the-issue-affecting-token-pools-without-decimals/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Read more\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-1/2 text-center\"},[_c('router-link',{staticClass:\"nav flex flex-col leading-tight\",attrs:{\"to\":\"/invest/add-liquidity\",\"active-class\":\"active\"}},[_c('span',{staticClass:\"text-base xs:text-xl\"},[_vm._v(\"Add\")]),_c('span',{staticClass:\"text-xs\"},[_vm._v(\"Liquidity\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"Add your tokens to the existing liquidity pool and earn trading fees and baking rewards. The complete instruction on how to do this you may find <a href='https://madfish.crunch.help/quipu-swap/how-to-add-liquidity-to-the-existing-liquidity-pool-on-quipu-swap' target='_blank' rel='nofollow noopener'>here</a>. Instead of your tokens, you will receive shares that you may use for voting purposes or farming projects.\"}})],1)],1),_c('div',{staticClass:\"w-1/3 text-center\"},[_c('router-link',{staticClass:\"nav flex flex-col leading-tight\",attrs:{\"to\":\"/invest/remove-liquidity\",\"active-class\":\"active\"}},[_c('span',{staticClass:\"text-base xs:text-xl\"},[_vm._v(\"Remove\")]),_c('span',{staticClass:\"text-xs\"},[_vm._v(\"Liquidity\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"Burn your Quipu liquidity shares and receive your tokens from the pool to wallet.\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\nimport Tooltip from \"@/components/Tooltip.vue\";\n\n@Component({\n  components: { Tooltip },\n})\nexport default class NavInvest extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavInvest.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavInvest.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NavInvest.vue?vue&type=template&id=6e7679fc&scoped=true&\"\nimport script from \"./NavInvest.vue?vue&type=script&lang=ts&\"\nexport * from \"./NavInvest.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NavInvest.vue?vue&type=style&index=0&id=6e7679fc&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e7679fc\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavInvest from \"@/components/NavInvest.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\n\nimport BigNumber from \"bignumber.js\";\nimport store, { getAccount, useWallet, connectTempleWalletWrapper, getTokenPairsID } from \"@/store\";\nimport {\n  QSAsset,\n  isAddressValid,\n  toValidAmount,\n  getBalance,\n  getDexStorage,\n  getDexShares,\n  getContract,\n  estimateShares,\n  estimateSharesInverse,\n  estimateInTokens,\n  estimateInTezos,\n  estimateToTezos,\n  tzToMutez,\n  mutezToTz,\n  clearMem,\n  approveToken,\n  toNat,\n  fromNat,\n  deapproveFA2,\n  isUnsafeAllowanceChangeError,\n  isTokenWhitelisted,\n  toAssetSlug,\n  findTezDex,\n  confirmOperation,\n  getNetwork,\n  getStorage,\n  sharesTokenAinTokenBin,\n  lpDetails,\n  maxTokenIn\n} from \"@/core\";\nimport { XTZ_TOKEN } from \"@/core/defaults\";\nimport { OpKind } from \"@taquito/taquito\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\n\nimport add from \"date-fns/add\";\nimport { invest, batchContractCalls } from \"../services/web3/mutation\";\n\n\ntype PoolMeta = {\n  tezFull: string;\n  tokenFull: string;\n  myShare: string;\n  myTokens: string;\n};\n\n@Component({\n  components: {\n    NavTabs,\n    NavInvest,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class AddLiquidity extends Vue {\n  tezToken: QSAsset | null = null;\n  inputToken: any | null = null;\n\n  tezAmount = \"\";\n  tezBalance: string | null = null;\n  tezLoading = false;\n\n  tokenAmount = \"\";\n  tokenBalance: string | null = null;\n  tokenLoading = false;\n\n  poolMeta: PoolMeta | null = null;\n  dexAddress: string | null = null;\n\n  processing = false;\n  addLiqStatus = this.defaultAddLiqStatus;\n\n  get selectedToken(): QSAsset | null {\n    const tokenSlug = this.$route.params.token;\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === tokenSlug) || null\n    );\n  }\n\n  get noDecimalsToken() {\n    // return this.selectedToken ? this.selectedToken.decimals === 0 : false;\n    return false;\n  }\n\n  get defaultAddLiqStatus() {\n    return \"Add Liquidity\";\n  }\n\n  get account() {\n    return getAccount();\n  }\n\n  get valid() {\n    return (\n      this.tezToken &&\n      this.selectedToken &&\n      !this.noDecimalsToken &&\n      this.dexAddress &&\n      [this.tezAmount, this.tokenAmount].every((a) => a && +a > 0)\n    );\n  }\n\n  get notWhitelistedPair() {\n    return this.selectedToken ? !isTokenWhitelisted(this.selectedToken) : false;\n  }\n\n  get exchangeRate() {\n    if (\n      !this.tezToken ||\n      !this.selectedToken ||\n      !this.tezAmount ||\n      !this.tokenAmount\n    ) {\n      return null;\n    }\n\n    const price = new BigNumber(this.tezAmount)\n      .div(this.tokenAmount)\n      .toFormat(6);\n\n    return `1 ${this.selectedToken.name} = ${price} XTZ`;\n  }\n\n  created() {\n    this.loadTezBalance();\n  }\n\n  @Watch(\"tezToken\")\n  onTezTokenChange() {\n    this.loadTezBalance();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadTokenBalance();\n    this.loadDex();\n  }\n\n  @Watch(\"dexAddress\")\n  onDexAddressChange() {\n    this.loadPoolMetadata();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadTezBalance();\n    this.loadTokenBalance();\n    this.loadPoolMetadata();\n  }\n\n  async loadTezBalance() {\n    this.tezBalance = null;\n    try {\n      if (this.tezToken && this.account.pkh) {\n        const balance = await getBalance(this.account.pkh, this.tezToken);\n        this.tezBalance = balance.toFixed();\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadTokenBalance() {\n    this.tokenBalance = null;\n    try {\n      if (this.selectedToken && this.account.pkh) {\n        const balance = await getBalance(this.account.pkh, this.selectedToken);\n        this.tokenBalance = balance.toFixed();\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadDex() {\n    this.dexAddress = null;\n\n    if (this.selectedToken) {\n      this.tokenLoading = true;\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n      }\n      this.tokenLoading = false;\n\n      this.calcTokenAmount();\n    }\n  }\n\n  async loadPoolMetadata() {\n    this.poolMeta = null;\n\n    if (this.selectedToken && this.dexAddress && this.account.pkh) {\n      const myShares = await getDexShares(\n        this.account.pkh,\n        this.dexAddress\n      );\n      const dexStorage = await getDexStorage(this.dexAddress);\n\n      const myShare =\n        myShares && new BigNumber(myShares.total).div(dexStorage.totalSupply);\n      const myTokens =\n        myShare &&\n        fromNat(\n          new BigNumber(dexStorage.tokenPool)\n            .times(myShare)\n            .integerValue(BigNumber.ROUND_DOWN),\n          this.selectedToken\n        );\n\n      this.poolMeta = {\n        tezFull: `${mutezToTz(dexStorage.tezPool)} XTZ`,\n        tokenFull: `${fromNat(dexStorage.tokenPool, this.selectedToken)} ${\n          this.selectedToken.name\n        }`,\n        myShare: myShare && !myShare.isNaN() ? `${myShare.times(100).toFormat(2)}%` : \"-\",\n        myTokens: myTokens && !myTokens.isNaN() ? `${myTokens} ${this.selectedToken.name}` : \"-\",\n      };\n    }\n  }\n\n  async handleTokenSelect(token: QSAsset) {\n    this.$router.replace(`/invest/add-liquidity/${toAssetSlug(token)}`);\n\n    if (!this.tezAmount) {\n      this.tezAmount = \"1\";\n    }\n  }\n\n  async handleInputSelect(token: QSAsset) {\n    this.inputToken = token;\n\n    if (this.tezToken && toAssetSlug(token) === toAssetSlug(this.tezToken)) {\n      this.tezToken = null;\n      this.tezAmount = \"\";\n    }\n  }\n\n  handleTezAmountChange(amount: string) {\n    this.tezAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      this.calcTokenAmount();\n    } else {\n      this.tokenAmount = \"\";\n    }\n  }\n\n  handleTokenAmountChange(amount: string) {\n    this.tokenAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      setTimeout(() => this.calcTezAmount(), 0);\n    } else {\n      this.tezAmount = \"\";\n    }\n  }\n\n  async calcTokenAmount() {\n    // @ts-ignore: Object is possibly 'null'.\n    if (!this.inputToken.id || !this.selectedToken.id) return;\n\n    const pairId = await this.getPairID();\n    const lpdetails = await lpDetails(pairId);\n\n    const amount = ((parseFloat(this.tezAmount)* Math.pow(10, (-6+8)))/lpdetails.token_a_pool) * lpdetails.token_b_pool;\n    this.tokenAmount = (amount.toFixed(7)).toString();\n  }\n\n  async calcTezAmount() {\n    // @ts-ignore: Object is possibly 'null'.\n    if (!this.inputToken.id || !this.selectedToken.id) return;\n\n    const pairId = await this.getPairID();\n    const lpdetails = await lpDetails(pairId);\n\n    const amount = ((parseFloat(this.tokenAmount)* Math.pow(10, (-8+6)))/lpdetails.token_b_pool) * lpdetails.token_a_pool;\n\n    this.tezAmount = (amount.toFixed(7)).toString();\n  }\n  \n  async getPairID(){\n    const inTkAddress = this.inputToken.id != undefined ? this.inputToken.id : '';\n\n    // @ts-ignore: Object is possibly 'null'.\n    const outTkAddress = this.selectedToken.id != undefined ? this.selectedToken.id : '';\n\n    let pairId = await getTokenPairsID(inTkAddress,outTkAddress);\n\n    return pairId;\n  }\n\n  // async calcTokenAmount() {\n  //   if (!this.selectedToken || !this.dexAddress) return;\n\n  //   const dexStorage = await getDexStorage(this.dexAddress);\n  //   const shares = estimateShares(this.tezAmount, dexStorage);\n  //   const amount = estimateInTokens(shares, dexStorage, this.selectedToken);\n\n  //   this.tokenAmount = toValidAmount(amount);\n  // }\n\n  // async calcTezAmount() {\n  //   if (!this.selectedToken || !this.dexAddress) return;\n\n  //   const dexStorage = await getDexStorage(this.dexAddress);\n  //   const shares = estimateSharesInverse(\n  //     this.tokenAmount,\n  //     dexStorage,\n  //     this.selectedToken\n  //   );\n  //   const amount = estimateInTezos(shares, dexStorage);\n\n  //   this.tezAmount = toValidAmount(amount);\n  // }\n\n  async addLiquidity() {\n\n\n    if (this.processing) return;\n    this.processing = true;\n    try {\n        \n      const net = getNetwork();\n      \n      await connectTempleWalletWrapper();\n      const me = getAccount().pkh;\n\n      let firemessage = {};\n\n      const inTkAddress = this.inputToken.id != undefined ? this.inputToken.id : '';\n\n      // @ts-ignore: Object is possibly 'null'.\n      const outTkAddress = this.selectedToken.id != undefined ? this.selectedToken.id : '';\n    \n      let pairId = await getTokenPairsID(inTkAddress,outTkAddress);\n      \n\n      if(pairId == undefined){\n        firemessage = {\n          title: 'Unavailable Pair',\n          html:\n            'We only support FA12 and FA1218 Pair Transaction now.',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!'\n        }\n\n        this.$fire(firemessage);\n        this.processing = false;\n        \n        return\n      }\n\n      const selTk_A: any = this.inputToken;\n      const selTk_B: any = this.selectedToken!;\n\n\n\n      var shares_payload: any = await sharesTokenAinTokenBin(\n        pairId,\n        this.tezAmount,\n        selTk_A\n      );\n\n      var maxAmount_A: any = await maxTokenIn(\n        this.tezAmount,\n        selTk_A,\n        0.5\n      );\n\n      var maxAmount_B: any = await maxTokenIn(\n        this.tokenAmount,\n        selTk_B,\n        0.5\n      );\n\n      const payload_invest = {\n          params: {\n            pairId: parseInt(pairId, 10),\n            shares: shares_payload.lpShares.toString(),\n            tokenAIn: maxAmount_A.toString(),\n            tokenBIn: maxAmount_B.toString(),\n            deadline: add(new Date(), { minutes: 10 }).toISOString(),\n          },\n          sendParams: {\n            to: \"\",\n            amount: 0,\n            mutez: true\n          }\n        }\n\n\n      const response_invest = await invest(net.id, payload_invest);\n      console.log(\"## invest ##\");\n      console.log(response_invest);\n\n      const payload_batch = response_invest.data?.invest;\n      \n      console.log(\"## Batch Calls ##\");\n      console.log(payload_batch);\n\n\n      const response_batchcalls = await batchContractCalls(payload_batch);\n      console.log(\"## Batch Calls ##\");\n      const response_batch:any = response_batchcalls.data?.batchWalletContractCalls;\n      console.log(response_batchcalls);\n      console.log(response_batch);\n      \n      \n      if(response_batch != undefined){\n        firemessage = {\n          title: 'Successful',\n          html:\n            'Transaction ' +\n            '<a href=\"https://hangzhou.tzstats.com/'+response_batch+'\" target=\"_blank\"><b style=\"color: green;\">...'+response_batch?.substring(response_batch?.length - 10)+'</b></a> ' +\n            ' was completed.',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!',\n          onClose: this.reloadpage\n        }\n      }else{\n        firemessage = {\n          title: 'Unsuccessful',\n          html:\n            'Operation was unsuccessful',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!',\n          onClose: this.reloadpage\n        }\n      }\n\n      this.$fire(firemessage);\n\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n    }\n    this.processing = false;\n\n\n    // if (this.processing) return;\n    // this.processing = true;\n    // try {\n\n      // const tezos = await useWallet();\n      // const me = await tezos.wallet.pkh();\n\n      // const tezTk = this.tezToken!;\n      // const selTk = this.selectedToken!;\n      // const dexAddress = this.dexAddress!;\n\n      // const initialTezAmount = new BigNumber(this.tezAmount);\n      // const initialTokenAmount = new BigNumber(this.tokenAmount);\n\n      // const dexStorage = await getDexStorage(dexAddress);\n\n      // const tezShares = estimateShares(initialTezAmount, dexStorage);\n      // const tokensShares = estimateSharesInverse(\n      //   initialTokenAmount,\n      //   dexStorage,\n      //   selTk\n      // );\n\n      // const shares = BigNumber.max(\n      //   BigNumber.min(tezShares, tokensShares),\n      //   1\n      // );\n\n      // const tokenAmount = estimateInTokens(shares, dexStorage, selTk);\n      // const tezAmount = estimateInTezos(shares, dexStorage);\n\n      // const toCheck = [\n      //   {\n      //     token: selTk,\n      //     amount: tokenAmount,\n      //   },\n      //   {\n      //     token: tezTk,\n      //     amount: tezAmount,\n      //   },\n      // ];\n      // for (const { token, amount } of toCheck) {\n      //   let bal: BigNumber | undefined;\n      //   try {\n      //     bal = await getBalance(me, token);\n      //   } catch (_err) {}\n      //   if (bal && bal.isLessThan(amount)) {\n      //     throw new Error(\"Not Enough Funds\");\n      //   }\n      // }\n\n      // const [tokenContract, dexContract] = await Promise.all([\n      //   tezos.wallet.at(selTk.id),\n      //   tezos.wallet.at(dexAddress),\n      // ]);\n\n      // const tokenAmountNat = toNat(tokenAmount, selTk).toFixed();\n\n      // let withAllowanceReset = false;\n      // try {\n      //   await tezos.estimate.batch([\n      //     {\n      //       kind: OpKind.TRANSACTION,\n      //       ...approveToken(\n      //         selTk,\n      //         tokenContract,\n      //         me,\n      //         dexAddress,\n      //         tokenAmountNat\n      //       ).toTransferParams(),\n      //     },\n      //     {\n      //       kind: OpKind.TRANSACTION,\n      //       ...dexContract.methods\n      //         .use(\"investLiquidity\", tokenAmountNat)\n      //         .toTransferParams({ amount: tezAmount.toFixed() as any }),\n      //     },\n      //   ]);\n      // } catch (err) {\n      //   if (isUnsafeAllowanceChangeError(err)) {\n      //     withAllowanceReset = true;\n      //   } else {\n      //     console.error(err);\n      //   }\n      // }\n\n      // let batch = tezos.wallet.batch([]);\n\n      // if (withAllowanceReset) {\n      //   batch = batch.withTransfer(\n      //     approveToken(\n      //       selTk,\n      //       tokenContract,\n      //       me,\n      //       dexAddress,\n      //       0\n      //     ).toTransferParams()\n      //   );\n      // }\n\n      // batch = batch\n      //   .withTransfer(\n      //     approveToken(\n      //       selTk,\n      //       tokenContract,\n      //       me,\n      //       dexAddress,\n      //       tokenAmountNat\n      //     ).toTransferParams()\n      //   )\n      //   .withTransfer(\n      //     dexContract.methods\n      //       .use(\"investLiquidity\", tokenAmountNat)\n      //       .toTransferParams({ amount: tezAmount.toFixed() as any })\n      //   )\n      //   // .withTransfer(\n      //   //   dexContract.methods\n      //   //     .use(\"withdrawProfit\", me).toTransferParams()\n      //   // );\n\n      // deapproveFA2(\n      //   batch,\n      //   selTk,\n      //   tokenContract,\n      //   me,\n      //   dexAddress,\n      // );\n\n      // const operation = await batch.send();\n\n      // notifyConfirm(\n      //   confirmOperation(tezos, operation.opHash)\n      //     .finally(() => this.refresh())\n      // );\n    // } catch (err) {\n    //   console.error(err);\n    //   notifyError(err);\n    //   const msg = err.message;\n    //   this.addLiqStatus =\n    //     msg && msg.length < 30\n    //       ? msg.startsWith(\"Dex/\")\n    //         ? msg.replace(\"Dex/\", \"\")\n    //         : msg\n    //       : \"Something went wrong\";\n    // }\n    // this.processing = false;\n\n    // await new Promise((res) => setTimeout(res, 5000));\n    // this.addLiqStatus = this.defaultAddLiqStatus;\n  }\n\n\n  reloadpage(){\n    this.refresh();\n    window.location.reload();\n  }\n\n  refresh() {\n    clearMem();\n    this.loadTezBalance();\n    this.loadTokenBalance();\n    this.loadPoolMetadata();\n    this.calcTokenAmount();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLiquidity.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLiquidity.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddLiquidity.vue?vue&type=template&id=8f42a07c&\"\nimport script from \"./AddLiquidity.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddLiquidity.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('Form',{style:(_vm.processing && 'pointer-events:none')},[_c('NavInvest'),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Shares to remove\",\"showSelect\":false,\"withTezos\":false,\"subLabelName\":_vm.myShares ? 'Your shares: ' : undefined,\"subLabelValue\":_vm.myShares || undefined,\"isLoading\":_vm.tokenLoading,\"selectedToken\":_vm.selectedToken},on:{\"input\":function (e) { return _vm.handleSharesToRemoveChange(e.target.value); },\"selectToken\":_vm.handleTokenSelect},model:{value:(_vm.sharesToRemove),callback:function ($$v) {_vm.sharesToRemove=$$v},expression:\"sharesToRemove\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/arrow-down.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Token Deposit\",\"isReadonly\":true,\"withTezos\":false,\"onlyTezos\":false,\"subLabelName\":_vm.tezBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tezBalance || undefined,\"isLoading\":_vm.tezLoading,\"selectedToken\":_vm.tezToken},on:{\"input\":function (e) { return _vm.handleTezAmountChange(e.target.value); },\"selectToken\":_vm.handleInputSelect},model:{value:(_vm.tezAmount),callback:function ($$v) {_vm.tezAmount=$$v},expression:\"tezAmount\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/plus.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Token Deposit\",\"isReadonly\":true,\"withTezos\":false,\"subLabelName\":_vm.tokenBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tokenBalance || undefined,\"isLoading\":_vm.tokenLoading,\"selectedToken\":_vm.selectedToken},on:{\"input\":function (e) { return _vm.handleTokenAmountChange(e.target.value); },\"selectToken\":_vm.handleTokenSelect},model:{value:(_vm.tokenAmount),callback:function ($$v) {_vm.tokenAmount=$$v},expression:\"tokenAmount\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/arrow-down.png')}})]),_c('FormInfo',{staticClass:\"overflow-x-auto whitespace-no-wrap\"},[_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.dexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Exchange rate\")]),_c('span',[_vm._v(_vm._s(_vm.exchangeRate || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Pooled Tokens\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.tokenFull : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Pooled XTZ\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.tezFull : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Your pool tokens\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.myTokens : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Your pool share\")]),_c('span',[_vm._v(_vm._s(_vm.poolMeta ? _vm.poolMeta.myShare : \"-\"))])]),_c('div',{staticClass:\"flex mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Slippage tolerance\")]),_c('span',{staticClass:\"flex-1\"}),_vm._l((_vm.slippagePercentages),function(percentage){return _c('button',{key:percentage,staticClass:\"px-2 py-px ml-2 text-xs rounded-md shadow-xs focus:outline-none\",class:_vm.activeSlippagePercentage === percentage ? 'bg-alphawhite' : '',on:{\"click\":function($event){return _vm.setActiveSlippagePercentage(percentage)}}},[_vm._v(\" \"+_vm._s(percentage)+\" \"),_c('span',{staticClass:\"opacity-75\"},[_vm._v(\"%\")])])}),_c('div',{staticClass:\"px-2 py-2 ml-2 text-xs font-light leading-tight rounded-md shadow-xs focus:outline-none\",class:_vm.slippagePercentages.includes(_vm.activeSlippagePercentage)\n              ? ''\n              : 'bg-alphawhite'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customSlippagePercentage),expression:\"customSlippagePercentage\"}],staticClass:\"w-12 text-right bg-transparent outline-none\",attrs:{\"placeholder\":_vm.activeSlippagePercentage},domProps:{\"value\":(_vm.customSlippagePercentage)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.customSlippagePercentage=$event.target.value},function (e) { return _vm.handleCustomSlippageChange(e.target.value); }]}}),_vm._v(\" % \")])],2)])],1),_c('div',{staticClass:\"mx-auto mt-8 mb-8 text-sm font-normal text-center text-lightgray\"}),_c('div',{staticClass:\"flex justify-center text-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.removeLiquidity}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.remLiqStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavInvest from \"@/components/NavInvest.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\n\nimport BigNumber from \"bignumber.js\";\nimport store, { getAccount, useWallet, connectTempleWalletWrapper, getTokenPairsID } from \"@/store\";\nimport {\n  QSAsset,\n  isAddressValid,\n  toValidAmount,\n  getBalance,\n  getDexStorage,\n  getDexShares,\n  getContract,\n  estimateInTokens,\n  estimateInTezos,\n  tzToMutez,\n  mutezToTz,\n  clearMem,\n  toNat,\n  fromNat,\n  sharesFromNat,\n  sharesToNat,\n  toAssetSlug,\n  findTezDex,\n  confirmOperation,\n  getNetwork,\n  minTokenOut,\n  estimateShares,\n  estimateSharesInverse,\n  lpDetails\n} from \"@/core\";\nimport { XTZ_TOKEN } from \"@/core/defaults\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\n\n\nimport add from \"date-fns/add\";\nimport { divest, batchContractCalls } from \"../services/web3/mutation\";\n\n\ntype InTokens = {\n  tezos: string;\n  token: string;\n};\n\ntype PoolMeta = {\n  tezFull: string;\n  tokenFull: string;\n  myShare: string;\n  myTokens: string;\n};\n\n@Component({\n  components: {\n    NavTabs,\n    NavInvest,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class RemoveLiquidity extends Vue {\n  sharesToRemove = \"\";\n\n  tezToken: QSAsset | null = null;\n  myShares: string | null = null;\n\n  tezAmount = \"\";\n  inputToken: any | null = null;\n\n  tokenAmount = \"\";\n  tokenLoading = false;\n\n  tezBalance: string | null = null;\n  tezLoading = false;\n\n  tokenBalance: string | null = null;\n\n\n  inTokens: InTokens | null = null;\n  poolMeta: PoolMeta | null = null;\n  dexAddress: string | null = null;\n\n  processing = false;\n  remLiqStatus = this.defaultRemLiqStatus;\n\n  slippagePercentages = [0.5, 1, 3];\n  activeSlippagePercentage: number | undefined = 0.5;\n  lastValidCustomSlippagePercentage: string = \"\";\n  customSlippagePercentage: string = \"\";\n\n  get selectedToken(): QSAsset | null {\n    const tokenSlug = this.$route.params.token;\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === tokenSlug) || null\n    );\n  }\n\n  get defaultRemLiqStatus() {\n    return \"Remove Liquidity\";\n  }\n\n  get account() {\n    return getAccount();\n  }\n\n  get valid() {\n    return (\n      this.selectedToken &&\n      this.dexAddress &&\n      this.sharesToRemove &&\n      +this.sharesToRemove > 0 &&\n      this.inTokens\n    );\n  }\n\n  get exchangeRate() {\n    if (!this.selectedToken || !this.inTokens) {\n      return null;\n    }\n\n    const price = new BigNumber(this.inTokens.tezos)\n      .div(this.inTokens.token)\n      .toFormat(6);\n\n    return `1 ${this.selectedToken.name} = ${price} XTZ`;\n  }\n\n  formatNum(val: string, dec: number) {\n    return new BigNumber(val).toFormat(dec);\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadDex();\n  }\n\n  @Watch(\"dexAddress\")\n  onDexAddressChange() {\n    this.loadPoolMetadata();\n    this.loadMyShares();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadPoolMetadata();\n    this.loadMyShares();\n  }\n\n  setActiveSlippagePercentage(percentage: number) {\n    this.activeSlippagePercentage = percentage;\n    this.customSlippagePercentage = \"\";\n    this.lastValidCustomSlippagePercentage = \"\";\n  }\n\n  handleCustomSlippageChange(amount: string) {\n    const numAmount = amount ? Number(amount) : undefined;\n    const shouldRevertChange =\n      numAmount !== undefined && (numAmount < 0 || numAmount > 30);\n\n    if (\n      numAmount !== undefined &&\n      !Number.isNaN(numAmount) &&\n      !shouldRevertChange\n    ) {\n      this.activeSlippagePercentage = numAmount;\n    }\n\n    if (shouldRevertChange) {\n      this.customSlippagePercentage = this.lastValidCustomSlippagePercentage;\n    } else {\n      this.lastValidCustomSlippagePercentage = amount;\n    }\n  }\n\n  async loadMyShares() {\n    this.myShares = null;\n\n    try {\n      if (this.selectedToken && this.dexAddress && this.account.pkh) {\n        const shares = await getDexShares(\n          this.account.pkh,\n          this.dexAddress\n        );\n        if (!shares) {\n          this.myShares = \"0\";\n        } else {\n          this.myShares = sharesFromNat(shares.unfrozen).toFixed();\n        }\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadDex() {\n    this.dexAddress = null;\n\n    if (this.selectedToken) {\n      this.tokenLoading = true;\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n      }\n      this.tokenLoading = false;\n\n      this.calcInTokens();\n    }\n  }\n\n  async loadPoolMetadata() {\n    this.poolMeta = null;\n\n    if (this.selectedToken && this.dexAddress && this.account.pkh) {\n      const myShares = await getDexShares(\n        this.account.pkh,\n        this.dexAddress\n      );\n      const dexStorage = await getDexStorage(this.dexAddress);\n\n      const myShare =\n        myShares &&\n        new BigNumber(myShares.unfrozen).div(dexStorage.totalSupply);\n      const myTokens =\n        myShare &&\n        fromNat(\n          new BigNumber(dexStorage.tokenPool)\n            .times(myShare)\n            .integerValue(BigNumber.ROUND_DOWN),\n          this.selectedToken\n        );\n\n      this.poolMeta = {\n        tezFull: `${mutezToTz(dexStorage.tezPool)} XTZ`,\n        tokenFull: `${fromNat(dexStorage.tokenPool, this.selectedToken)} ${\n          this.selectedToken.name\n        }`,\n        myShare: myShare && !myShare.isNaN() ? `${myShare.times(100).toFormat(2)}%` : \"-\",\n        myTokens: myTokens && !myTokens.isNaN() ? `${myTokens} ${this.selectedToken.name}` : \"-\",\n      };\n    }\n  }\n\n  async handleTokenSelect(token: QSAsset) {\n    this.$router.replace(`/invest/remove-liquidity/${toAssetSlug(token)}`);\n\n    if (!this.sharesToRemove) {\n      this.sharesToRemove = \"1\";\n    }\n    this.calcTokenNTokenAmountByLP();\n  }\n\n\n  async handleInputSelect(token: QSAsset) {\n    this.inputToken = token;\n\n    if (this.tezToken && toAssetSlug(token) === toAssetSlug(this.tezToken)) {\n      this.tezToken = null;\n      this.tezAmount = \"\";\n    }\n    this.calcTokenNTokenAmountByLP();\n  }\n\n  handleSharesToRemoveChange(amount: string) {\n    this.sharesToRemove = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      // this.calcInTokens();\n      this.calcTokenNTokenAmountByLP();\n    } else {\n      this.inTokens = null;\n    }\n  }\n\n  handleTezAmountChange(amount: string) {\n    this.tezAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      // this.calcTokenAmount();\n      this.calcTokenNTokenAmountByLP();\n    } else {\n      this.tokenAmount = \"\";\n    }\n  }\n\n  handleTokenAmountChange(amount: string) {\n    this.tokenAmount = amount;\n    const isNum = /^[0-9.]*$/g.test(amount);\n    if (isNum) {\n      // setTimeout(() => this.calcTezAmount(), 0);\n      this.calcTokenNTokenAmountByLP();\n    } else {\n      this.tezAmount = \"\";\n    }\n  }\n\n  async getPairID(){\n    const inTkAddress = this.inputToken.id != undefined ? this.inputToken.id : '';\n\n    // @ts-ignore: Object is possibly 'null'.\n    const outTkAddress = this.selectedToken.id != undefined ? this.selectedToken.id : '';\n\n    let pairId = await getTokenPairsID(inTkAddress,outTkAddress);\n\n    return pairId;\n  }\n\n  async calcTokenNTokenAmountByLP() {\n\n    // @ts-ignore: Object is possibly 'null'.\n    if (!this.inputToken.id || !this.selectedToken.id) return;\n\n    const pairId = await this.getPairID();\n    const lpdetails = await lpDetails(pairId);\n    \n    const sharesRatio = parseFloat(this.sharesToRemove)/lpdetails.total_supply;\n\n    const tezAmount = (lpdetails.token_a_pool * Math.pow(10, (-8+6))) * sharesRatio;\n    const tokenAmount = lpdetails.token_b_pool * sharesRatio;\n\n    this.tezAmount = (tezAmount.toFixed(7)).toString();\n    this.tokenAmount = (tokenAmount.toFixed(7)).toString();\n\n  }\n\n  async calcTokenAmount() {\n    // @ts-ignore: Object is possibly 'null'.\n    if (!this.inputToken.id || !this.selectedToken.id) return;\n\n    const pairId = await this.getPairID();\n    const lpdetails = await lpDetails(pairId);\n\n    const amount = ((parseFloat(this.tezAmount)* Math.pow(10, (-6+8)))/lpdetails.token_a_pool) * lpdetails.token_b_pool;\n    this.tokenAmount = (amount.toFixed(7)).toString();\n  }\n\n  async calcTezAmount() {\n    // @ts-ignore: Object is possibly 'null'.\n    if (!this.inputToken.id || !this.selectedToken.id) return;\n\n    const pairId = await this.getPairID();\n    const lpdetails = await lpDetails(pairId);\n\n    const amount = ((parseFloat(this.tokenAmount)* Math.pow(10, (-8+6)))/lpdetails.token_b_pool) * lpdetails.token_a_pool;\n\n    this.tezAmount = (amount.toFixed(7)).toString();\n  }\n  \n\n  async calcInTokens() {\n    this.inTokens = null;\n    if (!this.selectedToken || !this.dexAddress || !this.sharesToRemove) return;\n\n    const dexStorage = await getDexStorage(this.dexAddress);\n\n    const tezAmount = estimateInTezos(sharesToNat(this.sharesToRemove), dexStorage);\n    const tokenAmount = estimateInTokens(\n      sharesToNat(this.sharesToRemove),\n      dexStorage,\n      this.selectedToken\n    );\n\n    const tezos = toValidAmount(tezAmount);\n    const token = toValidAmount(tokenAmount);\n    this.inTokens = tezos && token ? { tezos, token } : null;\n  }\n\n  async removeLiquidity() {\n   \n   \n   if (this.processing) return;\n    this.processing = true;\n    try {\n        \n      const net = getNetwork();\n      \n      await connectTempleWalletWrapper();\n      const me = getAccount().pkh;\n\n      let firemessage = {};\n\n      const inTkAddress = this.inputToken.id != undefined ? this.inputToken.id : '';\n\n      // @ts-ignore: Object is possibly 'null'.\n      const outTkAddress = this.selectedToken.id != undefined ? this.selectedToken.id : '';\n    \n      let pairId = await getTokenPairsID(inTkAddress,outTkAddress);\n      \n\n      if(pairId == undefined){\n        firemessage = {\n          title: 'Unavailable Pair',\n          html:\n            'We only support FA12 and FA1218 Pair Transaction now.',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!'\n        }\n\n        this.$fire(firemessage);\n        this.processing = false;\n        \n        return\n      }\n\n\n      const dex_tokenA = await findTezDex(this.inputToken);\n      var dexAddress_tokenA:any = null;\n\n      if (dex_tokenA) {\n        dexAddress_tokenA = dex_tokenA.address;\n      }\n      const dexAddress_tokenB = this.dexAddress!;\n\n      const selTk_A: any = this.inputToken;\n      const selTk_B: any = this.selectedToken!;\n\n      \n\n      const slippage = new BigNumber(this.activeSlippagePercentage || 0).div(100);\n\n      var minAmount_A: any = await minTokenOut(\n        this.tezAmount,\n        selTk_A,\n        slippage\n      );\n\n      var minAmount_B: any = await minTokenOut(\n        this.tokenAmount,\n        selTk_B,\n        slippage\n      );\n\n      const shares = sharesToNat(this.sharesToRemove!);\n      \n\n      const payload_divest = {\n          params: {\n            pairId: parseInt(pairId, 10),\n            shares: shares.toFixed(),\n            minTokenAOut: Math.ceil(minAmount_A).toString(),\n            minTokenBOut: Math.ceil(minAmount_B).toString(),\n            deadline: add(new Date(), { minutes: 10 }).toISOString(),\n          },\n          sendParams: {\n            to: \"\",\n            amount: 0,\n            mutez: true\n          }\n        }\n\n      const response_divest = await divest(net.id, payload_divest);\n      console.log(\"## divest ##\");\n      console.log(response_divest);\n\n\n      const payload_batch = [response_divest.data?.divest];\n      \n          \n      console.log(\"## Batch Calls ##\");\n      console.log(payload_batch);\n\n\n      const response_batchcalls = await batchContractCalls(payload_batch);\n      console.log(\"## Batch Calls ##\");\n      const response_batch:any = response_batchcalls.data?.batchWalletContractCalls;\n      console.log(response_batchcalls);\n      console.log(response_batch);\n      \n\n      if(response_batch != undefined){\n        firemessage = {\n          title: 'Successful',\n          html:\n            'Transaction ' +\n            '<a href=\"https://hangzhou.tzstats.com/'+response_batch+'\" target=\"_blank\"><b style=\"color: green;\">...'+response_batch?.substring(response_batch?.length - 10)+'</b></a> ' +\n            ' was completed.',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!',\n          onClose: this.reloadpage\n        }\n      }else{\n        firemessage = {\n          title: 'Unsuccessful',\n          html:\n            'Operation was unsuccessful',\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Done!',\n          onClose: this.reloadpage\n        }\n      }\n\n      this.$fire(firemessage);\n\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n    }\n    \n    this.processing = false;\n\n\n    // if (this.processing) return;\n    // this.processing = true;\n    // try {\n    //   const tezos = await useWallet();\n\n    //   const shares = sharesToNat(this.sharesToRemove!);\n    //   const selTk = this.selectedToken!;\n    //   const dexAddress = this.dexAddress!;\n\n    //   const mySharesPure = await getDexShares(this.account.pkh, dexAddress);\n    //   let myShares: string | undefined;\n    //   if (mySharesPure) {\n    //     myShares = mySharesPure.unfrozen.toFixed();\n    //   }\n\n    //   if (!myShares || shares.isGreaterThan(myShares)) {\n    //     throw new Error(\"Not Enough Shares\");\n    //   }\n\n    //   const slippage = new BigNumber(this.activeSlippagePercentage || 0).div(100);\n\n    //   const minTezos = withSlippage(tzToMutez(this.inTokens!.tezos), slippage);\n    //   const minToken = withSlippage(toNat(this.inTokens!.token, selTk), slippage);\n\n    //   const dexContract = await tezos.wallet.at(dexAddress);\n    //   const operation = await dexContract.methods\n    //     .use(\n    //       \"divestLiquidity\",\n    //       minTezos.toFixed(),\n    //       minToken.toFixed(),\n    //       shares.toFixed()\n    //     )\n    //     .send();\n\n    //   notifyConfirm(\n    //     confirmOperation(tezos, operation.opHash)\n    //       .finally(() => this.refresh())\n    //   );\n    // } catch (err) {\n    //   console.error(err);\n    //   notifyError(err);\n    //   const msg = err.message;\n    //   this.remLiqStatus =\n    //     msg && msg.length < 30\n    //       ? msg.startsWith(\"Dex/\")\n    //         ? msg.replace(\"Dex/\", \"\")\n    //         : msg\n    //       : \"Something went wrong\";\n    // }\n    // this.processing = false;\n\n    // await new Promise((res) => setTimeout(res, 5000));\n    // this.remLiqStatus = this.defaultRemLiqStatus;\n  }\n\n\n  reloadpage(){\n    this.refresh();\n    window.location.reload();\n  }\n\n  refresh() {\n    clearMem();\n    this.loadMyShares();\n    this.loadPoolMetadata();\n    this.calcInTokens();\n  }\n}\n\nfunction withSlippage(val: BigNumber.Value, tolerance: BigNumber.Value) {\n  return new BigNumber(val)\n    .times(new BigNumber(1).minus(tolerance))\n    .integerValue(BigNumber.ROUND_DOWN);\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveLiquidity.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveLiquidity.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RemoveLiquidity.vue?vue&type=template&id=21f1811c&scoped=true&\"\nimport script from \"./RemoveLiquidity.vue?vue&type=script&lang=ts&\"\nexport * from \"./RemoveLiquidity.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RemoveLiquidity.vue?vue&type=style&index=0&id=21f1811c&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21f1811c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('Form',{style:(_vm.processing && 'pointer-events:none')},[_c('NavInvest'),_c('div',{staticClass:\"relative\"},[_c('FormField',{attrs:{\"placeholder\":\"KT1v7h3s...\",\"label\":\"Token address\",\"withSelect\":false,\"spellcheck\":false,\"extrabutton\":true},on:{\"input\":function($event){_vm.tokenAddress = $event.target.value}},model:{value:(_vm.tokenAddress),callback:function ($$v) {_vm.tokenAddress=$$v},expression:\"tokenAddress\"}}),_c('div',{staticClass:\"absolute right-0 top-0 bottom-0 flex items-center pr-3\"},[_c('div',{staticClass:\"flex flex-col items-stretch text-white border-accent border-2 rounded-3px text-sm sm:text-base whitespace-no-wrap\"},[_c('button',{staticClass:\"text-left font-medium tracking-wider px-3 py-1 focus:outline-none\",class:_vm.tokenType === 'FA1.2'\n                ? 'bg-accent text-black'\n                : 'hover:text-accent',on:{\"click\":function () { return _vm.setTokenType('FA1.2'); }}},[_vm._v(\" FA 1.2 \")]),_c('button',{staticClass:\"text-left font-medium tracking-wider px-3 py-1 focus:outline-none\",class:_vm.tokenType === 'FA2'\n                ? 'bg-accent text-black'\n                : 'hover:text-accent',on:{\"click\":function () { return _vm.setTokenType('FA2'); }}},[_vm._v(\" FA 2 \")])])])],1),(_vm.tokenType === 'FA2')?[_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/plus.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0\",\"label\":\"Token ID\",\"withSelect\":false,\"spellcheck\":false},on:{\"input\":function($event){_vm.tokenId = !isNaN(parseInt($event.target.value))\n            ? parseInt($event.target.value)\n            : ''}},model:{value:(_vm.tokenId),callback:function ($$v) {_vm.tokenId=$$v},expression:\"tokenId\"}})]:_vm._e(),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/arrow-down.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Tezos Deposit\",\"withTezos\":false,\"onlyTezos\":true,\"subLabelName\":_vm.tezBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tezBalance || undefined,\"isLoading\":_vm.tezLoading,\"selectedToken\":_vm.tezToken},on:{\"input\":function (e) { return _vm.handleTezAmountChange(e.target.value); }},model:{value:(_vm.tezAmount),callback:function ($$v) {_vm.tezAmount=$$v},expression:\"tezAmount\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/plus.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0.0\",\"label\":\"Token Deposit\",\"withTezos\":false,\"withSelect\":false,\"subLabelName\":_vm.tokenBalance ? 'Balance: ' : undefined,\"subLabelValue\":_vm.tokenBalance || undefined,\"isLoading\":_vm.tokenLoading},on:{\"input\":function (e) { return _vm.handleTokenAmountChange(e.target.value); }},model:{value:(_vm.tokenAmount),callback:function ($$v) {_vm.tokenAmount=$$v},expression:\"tokenAmount\"}}),_c('FormInfo',[_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',[_vm._v(\"Exchange rate\")]),_c('span',[_vm._v(_vm._s(_vm.exchangeRate || \"-\"))])])])],2),_c('div',{staticClass:\"mx-auto mt-8 mb-8 text-sm font-normal text-center text-lightgray\"}),(_vm.noDecimalsToken)?[_vm._m(0)]:_vm._e(),_c('div',{staticClass:\"flex justify-center text-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.addToken}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.addTokenStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"-mt-4 mb-8 px-4\"},[_c('div',{staticClass:\"p-4 bg-redalpha rounded text-white whitespace-normal font-medium\"},[_vm._v(\" Creation of this pool is disabled on the UI due to possible manipulations. Please, stay tuned, the newer contract version fixing this issue is coming soon. \"),_c('a',{staticClass:\"underline\",attrs:{\"href\":\"https://www.madfish.solutions/blog/quipuswap-important-announcement-the-issue-affecting-token-pools-without-decimals/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Read more\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavInvest from \"@/components/NavInvest.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\n\nimport { OpKind } from \"@taquito/taquito\";\nimport BigNumber from \"bignumber.js\";\nimport { loadTokens, getAccount, useWallet } from \"@/store\";\nimport {\n  QSAsset,\n  isAddressValid,\n  isKTAddress,\n  toValidAmount,\n  getBalance,\n  getNewTokenData,\n  getDexStorage,\n  getStoragePure,\n  getContract,\n  getNetwork,\n  estimateInTokens,\n  estimateInTezos,\n  tzToMutez,\n  mutezToTz,\n  clearMem,\n  approveToken,\n  QSTokenType,\n  deapproveFA2,\n  isUnsafeAllowanceChangeError,\n  confirmOperation,\n} from \"@/core\";\nimport { XTZ_TOKEN } from \"@/core/defaults\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\ntype PoolMeta = {\n  tezFull: string;\n  tokenFull: string;\n  myShare: string;\n  myTokens: string;\n};\n\n@Component({\n  components: {\n    NavTabs,\n    NavInvest,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class AddToken extends Vue {\n  tokenAddress = \"\";\n\n  tezToken: QSAsset | null = XTZ_TOKEN;\n  tezAmount = \"\";\n  tezBalance: string | null = null;\n  tezLoading = false;\n\n  tokenAmount = \"\";\n  tokenBalance: string | null = null;\n  tokenDecimals = 0;\n  tokenLoading = false;\n\n  processing = false;\n  addTokenStatus = this.defaultAddTokenStatus;\n  tokenDataLoaded = false;\n\n  tokenType = QSTokenType.FA1_2;\n  tokenId = 0;\n\n  get defaultAddTokenStatus() {\n    return \"Add new token\";\n  }\n\n  get account() {\n    return getAccount();\n  }\n\n  get noDecimalsToken() {\n    // return this.tokenDataLoaded\n    //   ? this.tokenDecimals === 0 ||\n    //     new BigNumber(this.tezAmount)\n    //       .times(10 ** 6)\n    //       .div(\n    //         new BigNumber(this.tokenAmount).times(10 ** this.tokenDecimals)\n    //       ).isGreaterThan(15000)\n    //   : false;\n    return false;\n  }\n\n  get valid() {\n    return (\n      this.tezToken &&\n      isKTAddress(this.tokenAddress) &&\n      this.tokenDataLoaded &&\n      !this.noDecimalsToken &&\n      [this.tezAmount, this.tokenAmount].every((a) => a && +a > 0)\n      // new BigNumber(this.tokenAmount).toFormat(this.tokenDecimals, {\n      //   decimalSeparator: \".\",\n      // }) === this.tokenAmount\n    );\n  }\n\n  get exchangeRate() {\n    if (!this.valid) {\n      return null;\n    }\n\n    const price = new BigNumber(this.tezAmount)\n      .div(this.tokenAmount)\n      .toFormat(6);\n\n    return `1 Token = ${price} XTZ`;\n  }\n\n  setTokenType(tokenType: QSTokenType) {\n    this.tokenType = tokenType;\n  }\n\n  created() {\n    this.loadTezBalance();\n  }\n\n  @Watch(\"tezToken\")\n  onTezTokenChange() {\n    this.loadTezBalance();\n  }\n\n  @Watch(\"tokenType\")\n  onTokenTypeChange() {\n    this.loadTokenData();\n  }\n\n  @Watch(\"tokenAddress\")\n  onTokenAddressChange() {\n    this.loadTokenData();\n  }\n\n  @Watch(\"tokenId\")\n  onTokenIdChange() {\n    this.loadTokenData();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadTezBalance();\n    this.loadTokenData();\n  }\n\n  async loadTezBalance() {\n    this.tezBalance = null;\n    try {\n      if (this.tezToken && this.account.pkh) {\n        const balance = await getBalance(this.account.pkh, this.tezToken);\n        this.tezBalance = balance.toFixed();\n      }\n    } catch (err) {\n      if (process.env.NODE_ENV === \"development\") {\n        console.error(err);\n      }\n    }\n  }\n\n  async loadTokenData() {\n    this.tokenBalance = null;\n    this.tokenDataLoaded = false;\n    if (isKTAddress(this.tokenAddress) && this.account.pkh) {\n      try {\n        const { bal, decimals } = await getNewTokenData(\n          this.account.pkh,\n          this.tokenType,\n          this.tokenAddress,\n          this.tokenId ? +this.tokenId : 0\n        );\n        this.tokenBalance = bal.div(new BigNumber(10).pow(decimals)).toFixed();\n        this.tokenDecimals = decimals;\n      } catch (err) {\n        if (process.env.NODE_ENV === \"development\") {\n          console.error(err);\n        }\n        this.tokenBalance = \"?\";\n        this.tokenDecimals = 0;\n      }\n\n      this.tokenDataLoaded = true;\n    }\n  }\n\n  handleTezAmountChange(amount: string) {\n    this.tezAmount = amount;\n  }\n\n  handleTokenAmountChange(amount: string) {\n    this.tokenAmount = amount;\n  }\n\n  async addToken() {\n    if (this.processing) return;\n    this.processing = true;\n    try {\n      const tezos = await useWallet();\n      const me = await tezos.wallet.pkh();\n\n      const tezTk = this.tezToken!;\n      const tezAmount = new BigNumber(this.tezAmount);\n      const tokenAmount = new BigNumber(this.tokenAmount)\n        .multipliedBy(new BigNumber(10).pow(this.tokenDecimals))\n        .integerValue();\n      const tokenId = this.tokenId ? +this.tokenId : 0;\n\n      const tokenData = await getNewTokenData(\n        me,\n        this.tokenType,\n        this.tokenAddress,\n        tokenId\n      );\n\n      const toCheck = [\n        {\n          promise: getBalance(me, tezTk),\n          amount: tezAmount,\n        },\n        {\n          promise: Promise.resolve(tokenData).then(({ bal }) => bal),\n          amount: tokenAmount,\n        },\n      ];\n      for (const { promise, amount } of toCheck) {\n        let bal: BigNumber | undefined;\n        try {\n          bal = await promise;\n        } catch (_err) {}\n        if (bal && bal.isLessThan(amount)) {\n          throw new Error(\"Not Enough Funds\");\n        }\n      }\n\n      const { fa1_2FactoryContract, fa2FactoryContract } = getNetwork();\n      if (\n        (this.tokenType === \"FA1.2\" && !fa1_2FactoryContract) ||\n        (this.tokenType === \"FA2\" && !fa2FactoryContract)\n      ) {\n        throw new Error(\"Factory contract for network not found\");\n      }\n\n      const factoryContractAddres =\n        this.tokenType === \"FA1.2\"\n          ? fa1_2FactoryContract!\n          : fa2FactoryContract!;\n\n      const [facContract, tokenContract] = await Promise.all([\n        tezos.wallet.at(factoryContractAddres),\n        tezos.wallet.at(this.tokenAddress),\n      ]);\n\n      const tokenAmountNat = tokenAmount\n        .integerValue(BigNumber.ROUND_DOWN)\n        .toFixed();\n\n      const facStorage: any = await facContract.storage();\n      const dexAddress = await facStorage.token_to_exchange.get(\n        this.tokenType === \"FA1.2\" ? this.tokenAddress : [this.tokenAddress, tokenId]\n      );\n\n      let withAllowanceReset = false;\n      try {\n        await tezos.estimate.batch([\n          {\n            kind: OpKind.TRANSACTION,\n            ...approveToken(\n              {\n                tokenType: this.tokenType,\n                fa2TokenId: tokenId\n              },\n              tokenContract,\n              me,\n              dexAddress || factoryContractAddres,\n              tokenAmountNat\n            ).toTransferParams()\n          },\n        ]);\n      } catch (err) {\n        if (isUnsafeAllowanceChangeError(err)) {\n          withAllowanceReset = true;\n        } else {\n          console.error(err);\n        }\n      }\n\n      let batch = tezos.wallet.batch([]);\n\n      if (withAllowanceReset) {\n        batch = batch.withTransfer(\n          approveToken(\n            {\n              tokenType: this.tokenType,\n              fa2TokenId: tokenId\n            },\n            tokenContract,\n            me,\n            dexAddress || factoryContractAddres,\n            0\n          ).toTransferParams()\n        );\n      }\n\n      batch = batch\n        .withTransfer(\n          approveToken(\n            {\n              tokenType: this.tokenType,\n              fa2TokenId: tokenId\n            },\n            tokenContract,\n            me,\n            dexAddress || factoryContractAddres,\n            tokenAmountNat\n          ).toTransferParams()\n        );\n\n      batch = dexAddress\n        ? batch\n        .withTransfer(\n          (await tezos.wallet.at(dexAddress)).methods\n            .initializeExchange(\n              tokenAmountNat\n            )\n            .toTransferParams({ amount: tezAmount.toFixed() as any })\n        )\n        : batch\n          .withTransfer(\n          facContract.methods\n            .launchExchange(\n              ...(this.tokenType === \"FA1.2\"\n                ? [this.tokenAddress]\n                : [this.tokenAddress, tokenId]),\n              tokenAmountNat\n            )\n            .toTransferParams({ amount: tezAmount.toFixed() as any })\n        );\n\n      deapproveFA2(\n        batch,\n        {\n          tokenType: this.tokenType,\n          fa2TokenId: tokenId\n        },\n        tokenContract,\n        me,\n        dexAddress || factoryContractAddres,\n      );\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      this.addTokenStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    }\n    this.processing = false;\n\n    await new Promise((res) => setTimeout(res, 5000));\n    this.addTokenStatus = this.defaultAddTokenStatus;\n  }\n\n  refresh() {\n    clearMem();\n    this.loadTezBalance();\n    this.loadTokenData();\n    loadTokens();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddToken.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddToken.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddToken.vue?vue&type=template&id=6636778c&\"\nimport script from \"./AddToken.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddToken.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('GovernancePairSelect',{attrs:{\"selectedToken\":_vm.selectedToken},on:{\"token-selected\":_vm.selectToken}}),(_vm.selectedToken)?[_c('Form',[_c('NavGovernance'),_c('FormField',{attrs:{\"placeholder\":\"tz..\",\"label\":\"Delegated to\",\"tooltip-content\":\"The current delegator in the pool, who earns baking rewards and distributes them among liquidity providers.\",\"withSelect\":false,\"isLoading\":_vm.isLoading,\"readonly\":\"\"},model:{value:(_vm.nextCandidate),callback:function ($$v) {_vm.nextCandidate=$$v},expression:\"nextCandidate\"}}),_c('FormIcon',[_c('img',{staticClass:\"transform rotate-180\",attrs:{\"src\":require(\"@/assets/arrow-down.png\")}})]),_c('FormField',{attrs:{\"placeholder\":\"tz..\",\"label\":\"Second candidate\",\"tooltip-content\":\"Baker, who got the most votes after the current delegate.\",\"withSelect\":false,\"isLoading\":_vm.isLoading,\"readonly\":\"\"},model:{value:(_vm.currentCandidate),callback:function ($$v) {_vm.currentCandidate=$$v},expression:\"currentCandidate\"}}),_c('FormInfo',[_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.dexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Total votes\")]),_c('span',[_vm._v(_vm._s(_vm.totalVotes !== null ? _vm.totalVotes : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Total shares\")]),_c('span',[_vm._v(_vm._s(_vm.totalShares !== null ? _vm.totalShares : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Your shares\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.yourTotalShares !== null ? (_vm.yourTotalShares + \" (\" + (_vm.toPercentage( _vm.yourTotalShares / _vm.totalShares )) + \"%)\") : \"-\")+\" \")])]),_c('div',{staticClass:\"flex justify-between\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Your candidate\")]),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.yourCandidate))])])])],1),_c('Form',{staticClass:\"mt-8\",style:(_vm.processing && 'pointer-events:none')},[_c('FormInfo',[_c('div',{staticClass:\"flex items-center justify-center text-base font-semibold\"},[_vm._v(\" Vote for baker \")])]),_c('FormField',{attrs:{\"placeholder\":\"tz1v7h3s...\",\"label\":\"Voter\",\"tooltip-content\":\"Your XTZ wallet address\",\"withSelect\":false,\"isLoading\":_vm.isLoading,\"spellcheck\":false},on:{\"input\":function($event){_vm.voter = $event.target.value}},model:{value:(_vm.voter),callback:function ($$v) {_vm.voter=$$v},expression:\"voter\"}}),_c('FormIcon',[_c('img',{staticClass:\"inline\",attrs:{\"src\":require(\"@/assets/arrow-down.png\")}})]),_c('BakerFormField',{attrs:{\"label\":\"Baker\",\"tooltip-content\":\"Add a bakers address or choose a baker from the list\",\"placeholder\":\"tz1v7h3s...\",\"with-select\":_vm.withBakersSelect,\"selectedBaker\":_vm.selectedBaker,\"spellcheck\":false},on:{\"input\":function($event){_vm.bakerAddress = $event.target.value},\"baker-selected\":_vm.selectBaker},model:{value:(_vm.bakerAddress),callback:function ($$v) {_vm.bakerAddress=$$v},expression:\"bakerAddress\"}}),_c('FormIcon',[_c('img',{attrs:{\"src\":require('@/assets/plus.png')}})]),_c('FormField',{attrs:{\"placeholder\":\"0\",\"label\":\"Shares to vote\",\"tooltip-content\":\"The number of your Quipu shares (Liquidity Shear Pool Tokens) that you can use in voting. Attention! After voting your shares will be locked in the smart-contract, to unlock them you need to exit from voting.\",\"withSelect\":false,\"withTezos\":false,\"subLabelName\":_vm.availableSharesToVote ? 'Your shares: ' : undefined,\"subLabelValue\":_vm.availableSharesToVote || undefined,\"isLoading\":_vm.isLoading},on:{\"input\":function (e) { return _vm.handleSharesToVoteChange(e.target.value); }},model:{value:(_vm.sharesToVote),callback:function ($$v) {_vm.sharesToVote=$$v},expression:\"sharesToVote\"}})],1),_c('div',{staticClass:\"flex justify-center mt-8 text-center align-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.handleVote}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.voteStatus === \"Vote\" && _vm.availableSharesToExit ? \"Revote\" : _vm.voteStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2),(_vm.availableSharesToExit)?[_c('div',{staticClass:\"w-8\"}),_c('SubmitBtn',{staticClass:\"truncate whitespace-no-wrap bg-accent border-2 border-gray-800 text-gray-800\",on:{\"click\":_vm.handleExit}},[(!_vm.exiting)?[_vm._v(_vm._s(_vm.exitStatus)),(_vm.exitStatus === 'Exit')?_c('span',{staticClass:\"ml-1\"},[_vm._v(\"(\"+_vm._s(_vm.availableSharesToExit)+\" shares)\")]):_vm._e()]:_vm._e(),(_vm.exiting)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)]:_vm._e()],2)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-stretch\"},[_c('router-link',{staticClass:\"nav flex flex-col justify-around w-1/3 leading-tight text-center\",attrs:{\"to\":_vm.$route.params.token\n        ? (\"/governance/vote-baker/\" + (_vm.$route.params.token))\n        : '/governance/vote-baker',\"active-class\":\"active\"}},[_c('span',{staticClass:\"text-base xs:text-xl\"},[_vm._v(\"Vote\")]),_c('span',{staticClass:\"text-xs\"},[_vm._v(\"for Baker\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"Choose a Baker who will be a Delegate in your Liquidity pool. Baker, who receives the majority of Liquidity Providers votes, becomes a delegate. By voting, your Quipu LP shares will be locked in the smart contract, to unlock them you need to exit from voting.\"}})],1),_c('router-link',{staticClass:\"nav flex flex-col justify-around w-1/3 leading-tight text-center\",attrs:{\"to\":_vm.$route.params.token\n        ? (\"/governance/veto/\" + (_vm.$route.params.token))\n        : '/governance/veto',\"active-class\":\"active\"}},[_c('span',{staticClass:\"text-base xs:text-xl\"},[_vm._v(\"Veto\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"Ban a Baker from becoming a Delegate. A baker who receives   Liquidity Providers' votes in the veto section will be banned for 3 months and cannot receive votes during this period. By sending a Veto, your LP shares will be locked in the smart contract, to unlock them you need to exit from veto.\"}})],1),_c('router-link',{staticClass:\"nav flex flex-col justify-around w-1/3 leading-tight text-center\",attrs:{\"to\":_vm.$route.params.token\n        ? (\"/governance/rewards/\" + (_vm.$route.params.token))\n        : '/governance/rewards',\"active-class\":\"active\"}},[_c('span',{staticClass:\"text-base xs:text-xl\"},[_vm._v(\"Rewards\")]),_c('Tooltip',{attrs:{\"position\":\"corner\",\"content\":\"All Quipu Liquidity providers earn baking rewards for their XTZ in the liquidity pool. Read in <a href='https://madfish.crunch.help/quipu-swap/how-to-get-trading-fees-and-baking-rewards-on-quipu-swap' target='_blank' rel='nofollow noopener'>this article</a>, how to get your rewards.\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\nimport Tooltip from \"@/components/Tooltip.vue\";\n\n@Component({\n  components: { Tooltip },\n})\nexport default class NavGovernance extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavGovernance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavGovernance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NavGovernance.vue?vue&type=template&id=5675fdc6&scoped=true&\"\nimport script from \"./NavGovernance.vue?vue&type=script&lang=ts&\"\nexport * from \"./NavGovernance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NavGovernance.vue?vue&type=style&index=0&id=5675fdc6&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5675fdc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-4 -mx-3 text-white shadow-lg xs:-mx-4\"},[_c('button',{staticClass:\"relative flex items-stretch text-left field rounded-t-3px focus:outline-none\",class:_vm.isSearchOpened ? '' : 'rounded-b-3px',on:{\"click\":_vm.toggleSearch}},[_c('div',{staticClass:\"flex flex-col max-w-full overflow-x-auto\"},[_c('div',{staticClass:\"w-full mb-1 font-light label sm:text-lg\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"w-full\"},[(_vm.selectedToken)?[_c('div',{staticClass:\"flex items-center\"},[_c('img',{staticClass:\"w-5 h-5 mr-2\",attrs:{\"src\":_vm.tokenImgUrl}}),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.formattedSelectedTokenSymbol))])]),_c('div',{staticClass:\"mt-1 text-sm font-light text-gray-500 whitespace-no-wrap\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(\"Dex contract:\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.dexAddress || \"\"))])])]:_vm._e(),(!_vm.selectedToken)?_c('span',[_vm._v(\"-\")]):_vm._e()],2)]),_c('div',{staticClass:\"flex-1\"}),_c('img',{staticClass:\"w-3 ml-2\",staticStyle:{\"margin-top\":\"-2px\"},attrs:{\"src\":require(\"@/assets/chevron-white.png\")}})]),(_vm.isSearchOpened)?_c('div',{staticClass:\"field-search rounded-b-3px\"},[_c('div',{staticClass:\"px-3 py-3 text-sm border-b border-gray-800 xs:px-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],ref:\"searchInput\",attrs:{\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.searchValue)},on:{\"keydown\":function($event){_vm.searchValue = $event.target.value},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}})]),_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"max-height\":\"13.5rem\"}},[(_vm.filteredTokens.length)?_vm._l((_vm.filteredTokens),function(token){return _c('TokenItem',{key:((token.id) + \"_\" + (token.fa2TokenId)),staticClass:\"token-item\",attrs:{\"token\":token,\"symbol\":token.symbol,\"name\":token.name},nativeOn:{\"click\":function($event){return _vm.selectToken(token)}}})}):_vm._e()],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport TokenItem from \"@/components/Form/TokenItem.vue\";\nimport Loader from \"@/components/Loader.vue\";\n\nimport { QSAsset, isAddressValid, toAssetSlug, findTezDex, sanitizeImgUrl } from \"@/core\";\nimport store from \"@/store\";\n\n@Component({\n  components: { TokenItem, Loader },\n})\nexport default class GovernancePairSelect extends Vue {\n  @Prop({ default: null }) selectedToken?: QSAsset | null;\n  @Ref(\"searchInput\") readonly searchInput!: HTMLInputElement;\n\n  label: string = \"Select Token\";\n\n  searchValue: string = \"\";\n  isSearchOpened: boolean = !Boolean((this as any).selectedToken);\n  isLoading: boolean = false;\n  dexAddress: string | null = null;\n\n  created() {\n    this.loadDex();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChanged() {\n    if (this.selectedToken) {\n      this.isSearchOpened = false;\n    }\n    this.loadDex();\n  }\n\n  get tokenImgUrl() {\n    return this.selectedToken ? sanitizeImgUrl(this.selectedToken.imgUrl) : \"\";\n  }\n\n  get formattedSelectedTokenSymbol() {\n    if (!this.selectedToken) return \"\";\n    const term = this.selectedToken.symbol;\n    if (isAddressValid(term)) {\n      const ln = term.length;\n      return [term.slice(0, 7), \"...\", term.slice(ln - 4, ln)].join(\"\");\n    } else return term;\n  }\n\n  get filteredTokens(): QSAsset[] {\n    return store.state.tokens.filter(\n      (t: QSAsset) =>\n        t.name.toLowerCase().includes(this.searchValue.toLowerCase()) ||\n        t.symbol.toLowerCase().includes(this.searchValue.toLowerCase())\n    );\n  }\n\n  toggleSearch() {\n    if (this.selectedToken) {\n      this.isSearchOpened = !this.isSearchOpened;\n      this.$nextTick(() => this.isSearchOpened && this.searchInput.focus());\n    }\n  }\n\n  selectToken(token: QSAsset) {\n    this.searchValue = \"\";\n    if (!this.selectedToken || toAssetSlug(this.selectedToken) !== toAssetSlug(token)) {\n      this.$emit(\"token-selected\", token);\n    } else {\n      this.isSearchOpened = false;\n    }\n  }\n\n  async loadDex() {\n    this.dexAddress = null;\n\n    if (this.selectedToken) {\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GovernancePairSelect.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GovernancePairSelect.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GovernancePairSelect.vue?vue&type=template&id=7f074296&scoped=true&\"\nimport script from \"./GovernancePairSelect.vue?vue&type=script&lang=ts&\"\nexport * from \"./GovernancePairSelect.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GovernancePairSelect.vue?vue&type=style&index=0&id=7f074296&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f074296\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"-mx-3 xs:-mx-4 shadow-lg\"},[_c('div',{class:_vm.isSearchOpened ? 'field rounded-t-3px' : ' field rounded-3px relative'},[_c('div',{staticClass:\"flex-1 flex flex-col justify-center\"},[_c('div',{staticClass:\"label mb-1 xs:mb-2 sm:text-lg font-light w-full\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.tooltipContent)?_c('Tooltip',{attrs:{\"parentclasses\":\"label-tooltip\",\"content\":_vm.tooltipContent}}):_vm._e()],1),_c('input',_vm._g(_vm._b({staticClass:\"w-full\",class:!_vm.withSelect && _vm.isLoading && 'hidden',domProps:{\"value\":_vm.value}},'input',_vm.$attrs,false),_vm.$listeners)),(!_vm.withSelect && _vm.isLoading)?_c('div',{staticClass:\"flex items-center\",staticStyle:{\"height\":\"30px\"}},[_c('Loader')],1):_vm._e(),_c('div',{staticClass:\"label sm:text-sm font-light w-full\"},[_vm._v(_vm._s(_vm.subLabel))])]),(_vm.withSelect)?_c('div',{staticClass:\"append flex\"},[_c('button',{staticClass:\"ml-2 flex text-white border-accent border-2 items-center rounded-3px py-2 px-3 text-sm sm:text-base whitespace-no-wrap flex-shrink-0\",on:{\"click\":_vm.toggleSearch}},[(!_vm.isLoading)?[(_vm.selectedBaker)?[_c('img',{staticClass:\"w-5 h-5 mr-2 bg-white rounded-3px\",attrs:{\"src\":_vm.selectedBaker.logo}}),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.selectedBaker.name))])]:_c('span',[_vm._v(\"Select a baker\")])]:_vm._e(),(_vm.isLoading)?[_c('Loader')]:_vm._e(),_c('img',{staticClass:\"w-3 ml-2\",staticStyle:{\"margin-top\":\"-2px\"},attrs:{\"src\":require(\"@/assets/chevron-white.png\")}})],2)]):_vm._e()]),(_vm.isSearchOpened)?_c('div',{staticClass:\"field-search rounded-b-3px\"},[_c('div',{staticClass:\"px-3 xs:px-6 py-3 text-sm border-b border-gray-800\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],ref:\"searchInput\",attrs:{\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.searchValue)},on:{\"keydown\":function($event){_vm.searchValue = $event.target.value},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}})]),_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"max-height\":\"12.5rem\"}},[(_vm.allKnownBakers.length > 0)?_vm._l((_vm.allKnownBakers),function(baker){return _c('button',{key:baker.address,staticClass:\"w-full flex items-center px-6 py-2 focus:outline-none text-left hover:bg-gray-900 transition duration-200 ease-in-out\",on:{\"click\":function($event){return _vm.selectBaker(baker)}}},[_c('div',{staticClass:\"flex-1\"},[_c('div',{staticClass:\"flex items-stretch\"},[_c('img',{staticClass:\"w-8 h-8 xs:w-10 xs:h-10 mr-3 bg-white rounded-3px\",attrs:{\"src\":baker.logo}}),_c('div',{staticClass:\"flex-1 flex flex-col\"},[_c('div',{staticClass:\"text-sm xs:text-base text-gray-300\"},[_vm._v(\" \"+_vm._s(baker.name)+\" \")]),_c('div',{staticClass:\"flex-1 flex items-center text-gray-400 text-xs\"},[_c('span',{staticClass:\"mr-1\"},[_c('span',{staticClass:\"font-light\"},[_vm._v(\"Fee:\")]),_vm._v(\" \"+_vm._s(baker.fee * 100)+\"% \")]),_c('span',[_c('span',{staticClass:\"font-light\"},[_vm._v(\"Space:\")]),_vm._v(\" \"+_vm._s(Math.floor(baker.freeSpace))+\" XTZ \")])])])])]),_c('div',[_vm._v(\"-\")])])}):_c('div',{staticClass:\"text-center py-4 text-xl\"},[_vm._v(\"Not Found...\")])],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mem from \"mem\";\nimport { BBKnownBaker } from \"./types\";\n\nconst API_BASE_URL = \"https://api.baking-bad.org/v2\";\n\nexport const getAllKnownBakersMemoized = mem(getAllKnownBakers);\nexport const getKnownBakerMemoized = mem(getKnownBaker);\n\nexport function getAllKnownBakers() {\n  return request<BBKnownBaker[]>(\"/bakers\" + \"?type=tezos_only,multiasset,tezos_dune\");\n}\n\nexport function getKnownBaker(address: string) {\n  return request<BBKnownBaker>(`/bakers/${address}`);\n}\n\nasync function request<T = any>(path: string) {\n  const res = await fetch(`${API_BASE_URL}${path}`, { method: \"GET\" });\n\n  let body;\n  try {\n    body = await res.json();\n  } catch (_err) {}\n\n  if (res.ok && body) {\n    return body as T;\n  } else if (!res.ok) {\n    throw new Error(res.statusText);\n  } else {\n    throw new Error(\"Request Body hasn't been parsed\");\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport { getAllKnownBakersMemoized, BBKnownBaker } from \"@/baking-bad\";\nimport Loader from \"@/components/Loader.vue\";\nimport Tooltip from \"@/components/Tooltip.vue\";\n\n@Component({\n  components: { Loader, Tooltip },\n})\nexport default class BakerFormField extends Vue {\n  @Prop({ default: null }) selectedBaker?: BBKnownBaker | null;\n  @Prop() label?: string;\n  @Prop() tooltipContent?: string;\n  @Prop() subLabel?: string;\n  @Prop() value?: string;\n  @Prop({ default: false }) isLoading?: boolean;\n  @Prop({ default: true }) withSelect?: boolean;\n  @Prop({ default: true }) showSearch?: boolean;\n  @Ref(\"searchInput\") readonly searchInput!: HTMLInputElement;\n\n  searchValue: string = \"\";\n  isSearchOpened: boolean = false;\n\n  allKnownBakers: BBKnownBaker[] = [];\n\n  created() {\n    this.loadData();\n  }\n\n  @Watch(\"selectedBaker\")\n  onSelectedBakerChange() {\n    if (this.selectedBaker) {\n      this.isSearchOpened = false;\n    }\n  }\n\n  @Watch(\"searchValue\")\n  onSearchValueChange() {\n    this.loadData();\n  }\n\n  @Watch(\"value\")\n  onValueChange() {\n    this.selectBakerByAddress();\n  }\n\n  async loadData() {\n    try {\n      const list = await getAllKnownBakersMemoized();\n      this.allKnownBakers = list.filter((b) =>\n        this.searchValue\n          ? b.name.toLowerCase().includes(this.searchValue.toLowerCase())\n          : true\n      );\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  toggleSearch() {\n    this.isSearchOpened = !this.isSearchOpened;\n    this.$nextTick(() => this.isSearchOpened && this.searchInput.focus());\n  }\n\n  selectBaker(baker: BBKnownBaker) {\n    this.searchValue = \"\";\n    if (!this.selectedBaker || this.selectedBaker.address !== baker.address) {\n      this.$emit(\"baker-selected\", baker);\n    } else {\n      this.isSearchOpened = false;\n    }\n  }\n\n  async selectBakerByAddress() {\n    const list = await getAllKnownBakersMemoized();\n    const baker = list.find((b) => b.address === this.value);\n    if (baker) {\n      this.selectBaker(baker);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BakerFormField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BakerFormField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BakerFormField.vue?vue&type=template&id=1c8e6a97&scoped=true&\"\nimport script from \"./BakerFormField.vue?vue&type=script&lang=ts&\"\nexport * from \"./BakerFormField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BakerFormField.vue?vue&type=style&index=0&id=1c8e6a97&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c8e6a97\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport * as NP from \"number-precision\";\nimport store, { getAccount, useWallet } from \"@/store\";\nimport { BBKnownBaker } from \"@/baking-bad\";\nimport {\n  QSAsset,\n  getDexStorage,\n  getDexShares,\n  isAddressValid,\n  clearMem,\n  getNetwork,\n  approveToken,\n  deapproveFA2,\n  isUnsafeAllowanceChangeError,\n  sharesFromNat,\n  sharesToNat,\n  toAssetSlug,\n  findTezDex,\n  confirmOperation,\n} from \"@/core\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavGovernance from \"@/components/NavGovernance.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\nimport GovernancePairSelect from \"@/components/GovernancePairSelect.vue\";\nimport BakerFormField from \"@/components/Form/BakerFormField.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport BigNumber from \"bignumber.js\";\nimport { OpKind } from \"@taquito/taquito\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\n@Component({\n  components: {\n    NavTabs,\n    NavGovernance,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    SubmitBtn,\n    GovernancePairSelect,\n    BakerFormField,\n    Loader,\n  },\n})\nexport default class VoteBaker extends Vue {\n  isLoading: boolean = false;\n  dexAddress: string | null = null;\n\n  currentCandidate: string = \"-\";\n  nextCandidate: string = \"-\";\n  totalShares: string | null = null;\n  totalVotes: string | null = null;\n  yourTotalShares: number | string | null = null;\n  availableSharesToVote: number | string | null = null;\n  availableSharesToExit: number | string | null = null;\n  yourCandidate: string = \"-\";\n\n  bakerAddress: string = \"\";\n  selectedBaker: BBKnownBaker | null = null;\n\n  voter: string = \"\";\n  sharesToVote = \"\";\n  processing: boolean = false;\n  exiting: boolean = false;\n  voteStatus: string = \"Vote\";\n  exitStatus: string = \"Exit\";\n  readyToVote: boolean = false;\n  withBakersSelect = getNetwork().type === \"main\";\n\n  get account() {\n    return getAccount();\n  }\n\n  get selectedToken(): QSAsset | null {\n    const tokenSlug = this.$route.params.token;\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === tokenSlug) || null\n    );\n  }\n\n  get valid() {\n    return (\n      this.dexAddress &&\n      isAddressValid(this.bakerAddress) &&\n      isAddressValid(this.voter) &&\n      +this.sharesToVote > 0\n    );\n  }\n\n  created() {\n    this.loadData();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadData();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadData();\n  }\n\n  @Watch(\"bakerAddress\")\n  onBakerAddressChange() {\n    if (this.selectedBaker && !isAddressValid(this.bakerAddress)) {\n      this.selectedBaker = null;\n    }\n  }\n\n  async loadData() {\n    if (!this.selectedToken) return;\n\n    this.isLoading = true;\n\n    try {\n      this.dexAddress = null;\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n\n        const storage = await getDexStorage(dex.address);\n\n        this.currentCandidate = storage.currentCandidate || \"-\";\n        this.nextCandidate = storage.currentDelegated || \"-\";\n        this.totalShares = sharesFromNat(storage.totalSupply).toFixed();\n        this.totalVotes = sharesFromNat(storage.totalVotes).toFixed();\n\n        const me = this.account.pkh || \"\";\n\n        if (me) {\n          const [myShares, voter] = await Promise.all([\n            getDexShares(me, dex.address),\n            storage.voters.get(me),\n          ]);\n\n          this.yourTotalShares = myShares ? sharesFromNat(myShares.total).toFixed() : null;\n          this.availableSharesToVote = myShares\n            ? sharesFromNat(myShares.unfrozen).toFixed()\n            : null;\n          if (this.availableSharesToVote !== null && voter) {\n            this.availableSharesToVote = new BigNumber(this.availableSharesToVote)\n              .plus(sharesFromNat(voter.vote))\n              .toFixed();\n          }\n          this.availableSharesToExit = voter && new BigNumber(voter.vote).isGreaterThan(0) ? sharesFromNat(voter.vote).toFixed() : null;\n          this.yourCandidate = voter ? voter.candidate : \"-\";\n        }\n\n        this.voter = me;\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  selectToken(token: QSAsset) {\n    this.$router.replace(`/governance/vote-baker/${toAssetSlug(token)}`);\n  }\n\n  selectBaker(baker: BBKnownBaker) {\n    this.selectedBaker = baker;\n    this.bakerAddress = baker.address;\n  }\n\n  toPercentage(val: any) {\n    return NP.round(val * 100, 2);\n  }\n\n  handleSharesToVoteChange(amount: string) {\n    const isNum = /^[0-9.]*$/g.test(amount);\n    this.sharesToVote = isNum ? amount : \"\";\n  }\n\n  async handleVote() {\n    if (this.processing) return;\n    this.processing = true;\n\n    try {\n      const dexAddress = this.dexAddress!;\n      const sharesToVote = sharesToNat(this.sharesToVote).toFixed();\n\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(dexAddress);\n\n      const batch = tezos.wallet.batch([])\n        .withTransfer(\n          contract.methods\n            .use(\"vote\", this.bakerAddress, sharesToVote, this.voter)\n            .toTransferParams()\n        );\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      const tmp =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n      this.voteStatus = tmp === \"veto-candidate\" ? \"Baker under Veto\" : tmp;\n    } finally {\n      this.processing = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.voteStatus = \"Vote\";\n    }\n  }\n\n  async handleExit() {\n    if (this.exiting) return;\n    this.exiting = true;\n\n    try {\n      const dexAddress = this.dexAddress!;\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(dexAddress);\n\n      const bakerStub =\n        [this.nextCandidate, this.bakerAddress, this.voter].find(\n          isAddressValid\n        ) ?? \"\";\n\n      const batch = tezos.wallet\n        .batch([])\n        .withTransfer(\n          contract.methods\n            .use(\"vote\", bakerStub, 0, this.voter)\n            .toTransferParams()\n        );\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      this.exitStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    } finally {\n      this.exiting = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.exitStatus = \"Exit\";\n    }\n  }\n\n  refresh() {\n    clearMem();\n    this.loadData();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoteBaker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoteBaker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VoteBaker.vue?vue&type=template&id=18cbf67a&\"\nimport script from \"./VoteBaker.vue?vue&type=script&lang=ts&\"\nexport * from \"./VoteBaker.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('GovernancePairSelect',{attrs:{\"selectedToken\":_vm.selectedToken},on:{\"token-selected\":_vm.selectToken}}),(_vm.selectedToken)?[_c('Form',{style:(_vm.processing && 'pointer-events:none')},[_c('NavGovernance'),_c('FormField',{attrs:{\"placeholder\":\"tz1v7h3s...\",\"label\":\"Deputy\",\"withSelect\":false,\"spellcheck\":false},on:{\"input\":function($event){_vm.deputy = $event.target.value}},model:{value:(_vm.deputy),callback:function ($$v) {_vm.deputy=$$v},expression:\"deputy\"}}),_c('FormInfo',[_c('p',[_vm._v(\" Every user is able to delegate their voting power to any address.\"),_c('br'),_vm._v(\" Its fully optional feature. \")])])],1),_c('div',{staticClass:\"mt-4 flex justify-center align-center text-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.handleAdd}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.addStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1),_c('Form',{staticClass:\"mt-8\"},[_c('h1',{staticClass:\"text-xl text-center p-4 pb-2\"},[_vm._v(\"Already trusted deputies\")]),_c('p',{staticClass:\"px-4 text-sm text-center opacity-90\"},[_vm._v(\" Click on left button near deputy you want to remove \")]),_c('div',{staticClass:\"p-4 pb-8\"},[(_vm.dataLoading)?_c('div',{staticClass:\"p-4 flex items-center justify-center\"},[_c('Loader',{attrs:{\"size\":\"large\"}})],1):(_vm.alreadyDeputies.length > 0)?_c('div',[_vm._l((_vm.alreadyDeputies),function(depAddress,index){return [_c('div',{key:depAddress + 1,staticClass:\"my-3 flex items-center\"},[_c('img',{staticClass:\"mr-2 h-8 w-auto flex-shrink-0 cursor-pointer\",attrs:{\"src\":require(\"@/assets/remove.svg\"),\"alt\":\"\"},on:{\"click\":function () { return _vm.handleRemove(depAddress); }}}),_c('span',{staticClass:\"text-lg font-medium truncate\"},[_vm._v(\" \"+_vm._s(depAddress)+\" \")])]),(index !== _vm.alreadyDeputies.length - 1)?_c('div',{key:depAddress + 2,staticClass:\"h-px w-full bg-gray-800\"}):_vm._e()]})],2):_c('div',{staticClass:\"px-4 py-2 flex items-center justify-center\"},[_c('span',{staticClass:\"text-lg opacity-75 font-light\"},[_vm._v(\"No deputies found\")])])])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport store, { getAccount, useWallet } from \"@/store\";\nimport { QSAsset, isAddressValid, getDexStorage, clearMem } from \"@/core\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavGovernance from \"@/components/NavGovernance.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport GovernancePairSelect from \"@/components/GovernancePairSelect.vue\";\n\n@Component({\n  components: {\n    NavTabs,\n    NavGovernance,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    GovernancePairSelect,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class DelegateVote extends Vue {\n  deputy: string = \"\";\n\n  dataLoading: boolean = false;\n  alreadyDeputies: string[] = [];\n\n  processing: boolean = false;\n  addStatus: string = \"Add Deputy\";\n\n  get account() {\n    return getAccount();\n  }\n\n  get selectedToken(): QSAsset | null {\n    const tokenExchange = this.$route.params.token;\n    return (\n      store.state.tokens.find((t: any) => t.exchange === tokenExchange) || null\n    );\n  }\n\n  get valid() {\n    return isAddressValid(this.deputy);\n  }\n\n  created() {\n    this.loadData();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadData();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadData();\n  }\n\n  async loadData() {\n    this.alreadyDeputies = [];\n\n    if (!this.selectedToken || !this.account.pkh) return;\n\n    this.dataLoading = true;\n    try {\n      const storage = await getDexStorage(this.selectedToken.exchange);\n      const myVoters = await storage.voters.get(this.account.pkh);\n      if (myVoters) {\n        this.alreadyDeputies = myVoters.allowances;\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      this.dataLoading = false;\n    }\n  }\n\n  selectToken(token: QSAsset) {\n    this.$router.replace(`/governance/delegate-vote/${token.exchange}`);\n  }\n\n  handleAdd() {\n    return this.allow(this.deputy, true);\n  }\n\n  handleRemove(address: string) {\n    return this.allow(address, false);\n  }\n\n  async allow(address: string, allow: boolean) {\n    if (this.processing) return;\n    this.processing = true;\n    try {\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(this.selectedToken!.exchange);\n      const operation = await contract.methods\n        .use(\"setVotesDelegation\", address, allow)\n        .send();\n      await operation.confirmation();\n\n      this.addStatus = \"Success\";\n      this.refresh();\n    } catch (err) {\n      console.error(err);\n      const msg = err.message;\n      this.addStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    } finally {\n      this.processing = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.addStatus = \"Add Deputy\";\n    }\n  }\n\n  refresh() {\n    clearMem();\n    this.loadData();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelegateVote.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelegateVote.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DelegateVote.vue?vue&type=template&id=0fd159b2&\"\nimport script from \"./DelegateVote.vue?vue&type=script&lang=ts&\"\nexport * from \"./DelegateVote.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('GovernancePairSelect',{attrs:{\"selectedToken\":_vm.selectedToken},on:{\"token-selected\":_vm.selectToken}}),(_vm.selectedToken)?[_c('Form',[_c('NavGovernance'),_c('FormField',{attrs:{\"placeholder\":\"tz..\",\"label\":\"Current candidate\",\"withSelect\":false,\"dataLoading\":_vm.dataLoading,\"readonly\":\"\"},model:{value:(_vm.currentCandidate),callback:function ($$v) {_vm.currentCandidate=$$v},expression:\"currentCandidate\"}}),_c('FormInfo',[_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Dex contract\")]),_c('span',{staticClass:\"font-mono text-gray-400\"},[_vm._v(_vm._s(_vm.dexAddress || \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Total votes\")]),_c('span',[_vm._v(_vm._s(_vm.totalVotes !== null ? _vm.totalVotes : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Total vetos\")]),_c('span',[_vm._v(_vm._s(_vm.totalVetos !== null ? _vm.totalVetos : \"-\"))])]),_c('div',{staticClass:\"flex justify-between mb-1\"},[_c('span',{staticClass:\"mr-2 whitespace-no-wrap\"},[_vm._v(\"Votes need to make Veto\")]),_c('span',[_vm._v(_vm._s(_vm.votesToVeto !== null ? _vm.votesToVeto : \"-\"))])])])],1),_c('Form',{staticClass:\"mt-8\",style:(_vm.processing && 'pointer-events:none')},[_c('FormInfo',{staticClass:\"my-2\"},[_c('p',{staticClass:\"text-base font-semibold text-center\"},[_vm._v(\" Do you want to veto on current candidate? \")]),_c('p',{staticClass:\"mt-2 text-center\"},[_vm._v(\" Ensure that your choice is correct as long as veto cannot be canceled. \"),_c('br'),_vm._v(\"If veto is successful, the candidate will be banned for 3 months. \")])]),_c('FormField',{attrs:{\"placeholder\":\"0\",\"label\":\"Shares to veto\",\"withSelect\":false,\"withTezos\":false,\"subLabelName\":_vm.availableSharesToVeto ? 'Your shares: ' : undefined,\"subLabelValue\":_vm.availableSharesToVeto || undefined,\"isLoading\":_vm.dataLoading},on:{\"input\":function (e) { return _vm.handleSharesToVetoChange(e.target.value); }},model:{value:(_vm.sharesToVeto),callback:function ($$v) {_vm.sharesToVeto=$$v},expression:\"sharesToVeto\"}})],1),_c('div',{staticClass:\"flex justify-center mt-8 text-center align-center\"},[_c('SubmitBtn',{staticClass:\"bg-red-700\",attrs:{\"disabled\":_vm.dataLoading || _vm.alreadyBanned || !_vm.valid},on:{\"click\":_vm.handleBan}},[(_vm.dataLoading || _vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:[_vm._v(\" \"+_vm._s(_vm.alreadyBanned ? \"Already banned\" : _vm.banStatus)+\" \")]],2),(_vm.availableSharesToExit)?[_c('div',{staticClass:\"w-8\"}),_c('SubmitBtn',{staticClass:\"truncate whitespace-no-wrap bg-accent border-2 border-gray-800 text-gray-800\",on:{\"click\":_vm.handleExit}},[(!_vm.exiting)?[_vm._v(_vm._s(_vm.exitStatus)),(_vm.exitStatus === 'Exit')?_c('span',{staticClass:\"ml-1\"},[_vm._v(\"(\"+_vm._s(_vm.availableSharesToExit)+\" shares)\")]):_vm._e()]:_vm._e(),(_vm.exiting)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)]:_vm._e()],2)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport * as NP from \"number-precision\";\nimport store, { getAccount, useWallet } from \"@/store\";\nimport { BBKnownBaker } from \"@/baking-bad\";\nimport {\n  QSAsset,\n  getDexStorage,\n  getDexShares,\n  isAddressValid,\n  clearMem,\n  approveToken,\n  deapproveFA2,\n  isUnsafeAllowanceChangeError,\n  sharesFromNat,\n  sharesToNat,\n  toAssetSlug,\n  findTezDex,\n  LP_TOKEN_DECIMALS,\n  confirmOperation,\n} from \"@/core\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavGovernance from \"@/components/NavGovernance.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\nimport GovernancePairSelect from \"@/components/GovernancePairSelect.vue\";\nimport BakerFormField from \"@/components/Form/BakerFormField.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport BigNumber from \"bignumber.js\";\nimport { OpKind } from \"@taquito/taquito\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\n@Component({\n  components: {\n    NavTabs,\n    NavGovernance,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    SubmitBtn,\n    GovernancePairSelect,\n    BakerFormField,\n    Loader,\n  },\n})\nexport default class Veto extends Vue {\n  dataLoading: boolean = false;\n  dexAddress: string | null = null;\n\n  currentCandidate: string = \"-\";\n  currentCandidateExist = false;\n  totalVotes: number | string | null = null;\n  totalVetos: number | string | null = null;\n  votesToVeto: number | string | null = null;\n  availableSharesToVeto: number | string | null = null;\n  availableSharesToExit: number | string | null = null;\n  alreadyBanned = false;\n\n  voter: string = this.account.pkh;\n  sharesToVeto = \"\";\n  processing: boolean = false;\n  exiting: boolean = false;\n  banStatus: string = \"Ban\";\n  exitStatus: string = \"Exit\";\n\n  get account() {\n    return getAccount();\n  }\n\n  get selectedToken(): QSAsset | null {\n    const tokenSlug = this.$route.params.token;\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === tokenSlug) || null\n    );\n  }\n\n  get valid() {\n    return (\n      this.dexAddress &&\n      this.currentCandidateExist &&\n      isAddressValid(this.voter) &&\n      +this.sharesToVeto > 0\n    );\n  }\n\n  created() {\n    this.loadData();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadData();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.voter = this.account.pkh;\n    this.loadData();\n  }\n\n  async loadData() {\n    if (!this.selectedToken) return;\n\n    this.dataLoading = true;\n    try {\n      this.dexAddress = null;\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n\n        const me = this.account.pkh;\n\n        const storage = await getDexStorage(dex.address);\n        const [myShares, voter] = await Promise.all([\n          getDexShares(me, dex.address),\n          storage.voters.get(me),\n        ]);\n\n        this.currentCandidate = storage.currentDelegated || \"-\";\n        this.currentCandidateExist = Boolean(storage.currentDelegated);\n        this.totalVotes = sharesFromNat(storage.totalVotes).toFixed();\n        this.totalVetos = sharesFromNat(storage.veto).toFixed();\n        this.votesToVeto = sharesFromNat(storage.totalVotes)\n          .div(3)\n          .minus(sharesFromNat(storage.veto))\n          .toFixed(LP_TOKEN_DECIMALS);\n        this.availableSharesToVeto = myShares\n          ? sharesFromNat(myShares.unfrozen).toFixed()\n          : null;\n        if (this.availableSharesToVeto !== null && voter) {\n          this.availableSharesToVeto = new BigNumber(this.availableSharesToVeto).plus(sharesFromNat(voter.veto)).toFixed();\n        }\n        this.availableSharesToExit = voter && new BigNumber(voter.veto).isGreaterThan(0) ? sharesFromNat(voter.veto).toFixed() : null;\n\n        if (me) {\n          // const myVV = await storage.vetoVoters.get(me);\n          // this.alreadyBanned = Boolean(myVV);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      this.dataLoading = false;\n    }\n  }\n\n  selectToken(token: QSAsset) {\n    this.$router.replace(`/governance/veto/${toAssetSlug(token)}`);\n  }\n\n  toPercentage(val: any) {\n    return NP.round(val * 100, 2);\n  }\n\n  handleSharesToVetoChange(amount: string) {\n    const isNum = /^[0-9.]*$/g.test(amount);\n    this.sharesToVeto = isNum ? amount : \"\";\n  }\n\n  async handleBan() {\n    if (this.processing) return;\n    this.processing = true;\n\n    try {\n      await this.$confirm(\n        \"Are you sure you want to veto Current Candidate?\",\n        \"Confirm\",\n        \"warning\",\n        {\n          confirmButtonText: \"Yes, ban\",\n        }\n      );\n    } catch (_err) {\n      this.processing = false;\n      return;\n    }\n\n    try {\n      const dexAddress = this.dexAddress!;\n\n      const sharesToVeto = sharesToNat(this.sharesToVeto).toFixed();\n\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(dexAddress);\n\n      const batch = tezos.wallet.batch([])\n        .withTransfer(\n          contract.methods\n            .use(\"veto\", sharesToVeto, this.voter)\n            .toTransferParams()\n        );\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      this.banStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    } finally {\n      this.processing = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.banStatus = \"Ban\";\n    }\n  }\n\n  async handleExit() {\n    if (this.exiting) return;\n    this.exiting = true;\n\n    try {\n      const dexAddress = this.dexAddress!;\n\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(dexAddress);\n\n      const batch = tezos.wallet\n        .batch([])\n        .withTransfer(\n          contract.methods.use(\"veto\", 0, this.voter).toTransferParams()\n        );\n\n      const operation = await batch.send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      this.exitStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    } finally {\n      this.exiting = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.exitStatus = \"Exit\";\n    }\n  }\n\n  refresh() {\n    clearMem();\n    this.loadData();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Veto.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Veto.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Veto.vue?vue&type=template&id=14b6520c&\"\nimport script from \"./Veto.vue?vue&type=script&lang=ts&\"\nexport * from \"./Veto.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('GovernancePairSelect',{attrs:{\"selectedToken\":_vm.selectedToken},on:{\"token-selected\":_vm.selectToken}}),(_vm.selectedToken)?[_c('Form',{style:(_vm.processing && 'pointer-events:none')},[_c('NavGovernance'),_c('FormField',{attrs:{\"placeholder\":\"tz1v7h3s...\",\"label\":\"Recipient\",\"withSelect\":false,\"spellcheck\":false},on:{\"input\":function($event){_vm.recipientAddress = $event.target.value}},model:{value:(_vm.recipientAddress),callback:function ($$v) {_vm.recipientAddress=$$v},expression:\"recipientAddress\"}}),_c('FormInfo',[(_vm.dataLoading)?_c('div',{staticClass:\"flex items-center justify-center p-4\"},[_c('Loader',{attrs:{\"size\":\"large\"}})],1):_c('p',{staticClass:\"py-4 text-xl\"},[_vm._v(\" Your Rewards: \"),_c('span',{staticClass:\"mr-1 text-accent\"},[_vm._v(_vm._s(_vm.rewards))]),_c('span',{staticClass:\"text-sm opacity-90\"},[_vm._v(\"XTZ\")])])])],1),_c('div',{staticClass:\"flex justify-center mt-4 text-center align-center\"},[_c('SubmitBtn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.handleWithdraw}},[(!_vm.processing)?[_vm._v(_vm._s(_vm.withdrawStatus))]:_vm._e(),(_vm.processing)?[_c('Loader',{attrs:{\"size\":\"large\"}})]:_vm._e()],2)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport store, { getAccount, useWallet } from \"@/store\";\nimport {\n  QSAsset,\n  isAddressValid,\n  getDexStorage,\n  clearMem,\n  mutezToTz,\n  ACCURANCY_MULTIPLIER,\n  VOTING_PERIOD,\n  getDexShares,\n  getContract,\n  toAssetSlug,\n  findTezDex,\n  confirmOperation\n} from \"@/core\";\nimport NavTabs from \"@/components/NavTabs.vue\";\nimport NavGovernance from \"@/components/NavGovernance.vue\";\nimport Form, { FormField, FormIcon, FormInfo } from \"@/components/Form\";\nimport SubmitBtn from \"@/components/SubmitBtn.vue\";\nimport Loader from \"@/components/Loader.vue\";\nimport GovernancePairSelect from \"@/components/GovernancePairSelect.vue\";\nimport BigNumber from \"bignumber.js\";\nimport { notifyConfirm, notifyError } from \"../toast\";\n\n@Component({\n  components: {\n    NavTabs,\n    NavGovernance,\n    Form,\n    FormField,\n    FormIcon,\n    FormInfo,\n    GovernancePairSelect,\n    SubmitBtn,\n    Loader,\n  },\n})\nexport default class Rewards extends Vue {\n  dataLoading = false;\n  rewards = \"0\";\n  dexAddress: string | null = null;\n\n  recipientAddress: string = this.account.pkh;\n\n  processing: boolean = false;\n  withdrawStatus: string = \"Withdraw\";\n\n  get account() {\n    return getAccount();\n  }\n\n  get selectedToken(): QSAsset | null {\n    const tokenSlug = this.$route.params.token;\n    return (\n      store.state.tokens.find((t) => toAssetSlug(t) === tokenSlug) || null\n    );\n  }\n\n  get valid() {\n    return this.dexAddress && isAddressValid(this.recipientAddress);\n  }\n\n  created() {\n    this.loadData();\n  }\n\n  @Watch(\"selectedToken\")\n  onSelectedTokenChange() {\n    this.loadData();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.recipientAddress = this.account.pkh;\n    this.loadData();\n  }\n\n  async loadData() {\n    this.rewards = \"0\";\n\n    if (!this.selectedToken || !this.account.pkh) return;\n\n    this.dataLoading = true;\n    try {\n      this.dexAddress = null;\n      const dex = await findTezDex(this.selectedToken);\n      if (dex) {\n        this.dexAddress = dex.address;\n\n        const dexContract = await getContract(dex.address);\n        const { storage } = await dexContract.storage<any>();\n        const [rewards, shares] = await Promise.all([\n          storage.user_rewards.get(this.account.pkh),\n          storage.ledger.get(this.account.pkh),\n        ]);\n\n        let reward = new BigNumber(rewards?.reward ?? 0);\n        if (shares) {\n          const now = new Date();\n          const periodFinish = new Date(storage.period_finish);\n          const lastUpdateTime = new Date(storage.last_update_time);\n          const rewardsTime = now > periodFinish ? periodFinish : now;\n          let newReward = new BigNumber(\n            Math.abs(+rewardsTime - +lastUpdateTime)\n          ).idiv(1000).times(storage.reward_per_sec);\n\n          if (now > periodFinish) {\n            const periodsDuration = new BigNumber(+now - +periodFinish).idiv(1000)\n              .idiv(VOTING_PERIOD)\n              .plus(1)\n              .times(VOTING_PERIOD);\n            const rewardPerSec = new BigNumber(storage.reward)\n              .times(ACCURANCY_MULTIPLIER)\n              .idiv(periodsDuration.abs());\n            newReward = new BigNumber(+now - +periodFinish).idiv(1000).abs().times(rewardPerSec);\n          }\n\n          const rewardPerShare = new BigNumber(storage.reward_per_share).plus(\n            newReward.idiv(storage.total_supply)\n          );\n          const totalShares = new BigNumber(shares.balance).plus(\n            shares.frozen_balance\n          );\n          reward = reward.plus(\n            totalShares\n              .times(rewardPerShare)\n              .minus(rewards?.reward_paid ?? 0)\n              .abs()\n          );\n        }\n\n        const val = reward.idiv(ACCURANCY_MULTIPLIER);\n        this.rewards = mutezToTz(val).toFormat(6);\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      this.dataLoading = false;\n    }\n  }\n\n  selectToken(token: QSAsset) {\n    this.$router.replace(`/governance/rewards/${toAssetSlug(token)}`);\n  }\n\n  async handleWithdraw() {\n    if (this.processing) return;\n    this.processing = true;\n    try {\n      const dexAddress = this.dexAddress!;\n\n      const tezos = await useWallet();\n      const contract = await tezos.wallet.at(dexAddress);\n      const operation = await contract.methods\n        .use(\"withdrawProfit\", this.recipientAddress)\n        .send();\n\n      notifyConfirm(\n        confirmOperation(tezos, operation.opHash)\n          .finally(() => this.refresh())\n      );\n    } catch (err) {\n      console.error(err);\n      notifyError(err);\n      const msg = err.message;\n      this.withdrawStatus =\n        msg && msg.length < 30\n          ? msg.startsWith(\"Dex/\")\n            ? msg.replace(\"Dex/\", \"\")\n            : msg\n          : \"Something went wrong\";\n    } finally {\n      this.processing = false;\n      await new Promise((r) => setTimeout(r, 5000));\n      this.withdrawStatus = \"Withdraw\";\n    }\n  }\n\n  refresh() {\n    clearMem();\n    this.loadData();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rewards.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rewards.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Rewards.vue?vue&type=template&id=58253923&\"\nimport script from \"./Rewards.vue?vue&type=script&lang=ts&\"\nexport * from \"./Rewards.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-xl mx-auto wrapper\"},[_c('NavTabs',{staticClass:\"mb-6\"}),_c('h1',[_vm._v(\"Quipuswap protocol disclaimer\")]),_c('p',[_vm._v(\" Quipuswap is a decentralized peer-to-peer protocol that people can use to create liquidity and trade FA2, FA1,2 tokens. Quipuswap is made up of free, public, open-source or source-available software including a set of smart contracts that are deployed on the Tezos Blockchain. Your use of the Quipuswap protocol involves various risks, including, but not limited to, losses while digital assets are being supplied to the Quipuswap protocol and losses due to the fluctuation of prices of tokens in a trading pair or liquidity pool. Before using the Quipuswap protocol, you should review the relevant documentation to make sure you understand how the Quipuswap protocol works. Additionally, just as you can access email protocols such as SMTP through multiple email clients, you can access the Quipuswap protocol through dozens of web or mobile interfaces. You are responsible for doing your own diligence on those interfaces to understand the fees and risks they present. \")]),_c('p',[_vm._v(\" Although Madfish.solutions developed much of the initial code for the Quipuswap protocol, it does not provide, own, or control the Quipuswap protocol, which is run by smart contracts deployed on the Tezos blockchain. No developer or entity involved in creating the Quipuswap protocol will be liable for any claims or damages whatsoever associated with your use, inability to use, or your interaction with other users of, the Quipuswap protocol, including any direct, indirect, incidental, special, exemplary, punitive or consequential damages, or loss of profits, cryptocurrencies, tokens, or anything else of value. \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport NavTabs from \"@/components/NavTabs.vue\";\n\n@Component({\n  components: {\n    NavTabs,\n  },\n})\nexport default class Disclaimer extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Disclaimer.vue?vue&type=template&id=6290fbbb&scoped=true&\"\nimport script from \"./Disclaimer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Disclaimer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Disclaimer.vue?vue&type=style&index=0&id=6290fbbb&lang=postcss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6290fbbb\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter, { RouteConfig } from \"vue-router\";\n\nimport Swap from \"@/views/Swap.vue\";\nimport Send from \"@/views/Send.vue\";\nimport AddLiquidity from \"@/views/AddLiquidity.vue\";\nimport RemoveLiquidity from \"@/views/RemoveLiquidity.vue\";\nimport AddToken from \"@/views/AddToken.vue\";\nimport VoteBaker from \"@/views/VoteBaker.vue\";\nimport DelegateVote from \"@/views/DelegateVote.vue\";\nimport Veto from \"@/views/Veto.vue\";\nimport Rewards from \"@/views/Rewards.vue\";\nimport Disclaimer from \"@/views/Disclaimer.vue\";\n\nVue.use(VueRouter);\n\nconst routes: RouteConfig[] = [\n  { path: \"/\", redirect: \"/swap\" },\n  { path: \"/swap\", name: \"Swap\", component: Swap },\n  { path: \"/send\", name: \"Send\", component: Send },\n  { path: \"/disclaimer\", name: \"Disclaimer\", component: Disclaimer },\n  { path: \"/invest\", redirect: \"/invest/add-liquidity\" },\n  {\n    path: \"/invest/add-liquidity/:token?\",\n    name: \"AddLiquidity\",\n    component: AddLiquidity,\n  },\n  {\n    path: \"/invest/remove-liquidity/:token?\",\n    name: \"RemoveLiquidity\",\n    component: RemoveLiquidity,\n  },\n  {\n    path: \"/invest/add-token\",\n    name: \"AddToken\",\n    component: AddToken,\n  },\n  { path: \"/governance\", redirect: \"/governance/vote-baker\" },\n  {\n    path: \"/governance/vote-baker/:token?\",\n    name: \"VoteBaker\",\n    component: VoteBaker,\n  },\n  {\n    path: \"/governance/delegate-vote/:token?\",\n    name: \"DelegateVote\",\n    component: DelegateVote,\n  },\n  { path: \"/governance/veto/:token?\", name: \"Veto\", component: Veto },\n  { path: \"/governance/rewards/:token?\", name: \"Rewards\", component: Rewards },\n  { path: \"*\", redirect: \"/\" },\n];\n\nconst router = new VueRouter({\n  routes,\n  mode: \"hash\",\n});\n\nexport default router;\n","export type TokenMetadata = {\n  decimals: number;\n  symbol: string;\n  name: string;\n  thumbnailUri: string;\n};\n\nexport interface MainnetPoolToMigrate {\n  type: \"fa1.2\" | \"fa2\";\n  dexAddress: string;\n  underlineTokenMetadata: TokenMetadata;\n}\n\nexport const MAINNET_POOLS_TO_MIGRATE: MainnetPoolToMigrate[] = [\n  // GUTS\n  {\n    type: \"fa2\",\n    dexAddress: \"KT1WYQj3HEt3sxdsV4dMLA8RKzUnYAzXgguS\",\n    underlineTokenMetadata: {\n      decimals: 0,\n      symbol: \"GUTS\",\n      name: \"Guts Gaming\",\n      thumbnailUri:\n        \"https://cloudflare-ipfs.com/ipfs/Qmd5PwBHVLAUN1kRWAebDVjrMogJ9oUnNn8sowwTC7HgEv\",\n    },\n  },\n  // Goodmans!\n  {\n    type: \"fa2\",\n    dexAddress: \"KT1SamzaXd2qMYa5aezqUye1VWBHr6dMjwGX\",\n    underlineTokenMetadata: {\n      decimals: 0,\n      symbol: \"OBJKT\",\n      name: \"Goodmans!\",\n      thumbnailUri:\n        \"https://cloudflare-ipfs.com/ipfs/QmNrhZHUaEqxhyLfqoq1mtHSipkWHeT31LNHb1QEbDHgnc\",\n    },\n  },\n  // Beavers!\n  {\n    type: \"fa2\",\n    dexAddress: \"KT1Np7wGxpgmBjCuh9PFG27LzLiEx1f8sUtq\",\n    underlineTokenMetadata: {\n      decimals: 0,\n      symbol: \"OBJKT\",\n      name: \"Beavers!\",\n      thumbnailUri:\n        \"https://cloudflare-ipfs.com/ipfs/QmNrhZHUaEqxhyLfqoq1mtHSipkWHeT31LNHb1QEbDHgnc\",\n    },\n  },\n  // Wrapped Taco\n  {\n    type: \"fa2\",\n    dexAddress: \"KT1G1ap6QA8GkVTRhzFEUrjakuaYmnczfhgt\",\n    underlineTokenMetadata: {\n      decimals: 0,\n      symbol: \"wTaco\",\n      name: \"Wrapped Taco\",\n      thumbnailUri:\n        \"https://cloudflare-ipfs.com/ipfs/QmXsbFanpa6rTYXCWMzvDsynqnqn33TpFxe4K7qmQFB7ez\",\n    },\n  },\n  // Token 42\n  {\n    type: \"fa2\",\n    dexAddress: \"KT1M5H8qkJEzhdC3ZxZ78bSxgmcddrcusbry\",\n    underlineTokenMetadata: {\n      decimals: 0,\n      symbol: \"T42\",\n      name: \"Token 42\",\n      thumbnailUri: \"https://i.postimg.cc/PT1XQFGb/Icon.png\",\n    },\n  },\n];\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\nimport { TempleWallet } from \"@temple-wallet/dapp\";\nimport { NetworkType } from \"@airgap/beacon-sdk\";\nimport {\n  QSAsset,\n  getTokens,\n  getNetwork,\n  getCustomTokens,\n  LOGO_URL,\n  ReadOnlySigner,\n  michelEncoder,\n  getTokenMetadata,\n  QSTokenType,\n  formatImgUri,\n  getContract,\n  filteredWhitelist,\n  sharesFromNat,\n  getDexShares,\n  getDexStorage,\n  findTezDex,\n} from \"@/core\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport { Route } from \"vue-router\";\nimport router from \"../router\";\nimport { MAINNET_POOLS_TO_MIGRATE } from \"../pools-to-migrate\";\nimport BigNumber from \"bignumber.js\";\n\n\nimport { connectTempleWallet } from \"../services/web3/mutation\";\nimport { listTokenPairs } from \"../services/web3/query\";\n\nVue.use(Vuex);\n\ninterface StoreState {\n  tokensLoading: boolean;\n  tokens: QSAsset[];\n  account: { pkh: string };\n  poolsToMigrate: any[];\n}\n\nconst store = new Vuex.Store<StoreState>({\n  state: {\n    tokensLoading: false,\n    tokens: [],\n    account: getAccountInitial(),\n    poolsToMigrate: [],\n  },\n  mutations: {\n    tokensLoading(state, tokensLoading) {\n      state.tokensLoading = tokensLoading;\n    },\n    tokens(state, tokens) {\n      state.tokens = tokens;\n    },\n    addToken(state, token) {\n      state.tokens = [token, ...state.tokens];\n    },\n    account(state, account) {\n      state.account = account;\n    },\n    setPoolsToMigrate(state, pools) {\n      state.poolsToMigrate = pools;\n    },\n    pushPoolToMigrate(state, pool) {\n      state.poolsToMigrate.push(pool);\n    },\n  },\n});\n\nexport default store;\n\nexport async function loadPoolsToMigrate() {\n  try {\n    const me = store.state.account.pkh;\n    if (getNetwork().type === \"main\" && me) {\n      store.commit(\"setPoolsToMigrate\", []);\n      await Promise.all(\n        MAINNET_POOLS_TO_MIGRATE.map(async pool => {\n          const storage = await getDexStorage(pool.dexAddress);\n          const ledger = storage.ledger || storage.accounts;\n\n          const [val, voter] = await Promise.all([\n            ledger.get(me),\n            storage.voters.get(me),\n          ]);\n\n          const totalShares = val\n            ? new BigNumber(val.balance).plus(val.frozen_balance)\n            : null;\n          const voteShares = voter ? new BigNumber(voter.vote) : null;\n          const vetoShares = voter ? new BigNumber(voter.veto) : null;\n\n          if (totalShares && totalShares.isGreaterThan(0)) {\n            store.commit(\"pushPoolToMigrate\", {\n              ...pool,\n              totalShares: totalShares.toFixed(),\n              totalSharesToDisplay: sharesFromNat(totalShares).toFixed(),\n              voteShares: voteShares && voteShares.toFixed(),\n              vetoShares: vetoShares && vetoShares.toFixed(),\n              me,\n            });\n          }\n        })\n      );\n    } else {\n      store.commit(\"setPoolsToMigrate\", []);\n    }\n  } catch (_err) {}\n}\nloadPoolsToMigrate();\n\nstore.subscribe(mutation => {\n  if (mutation.type === \"account\") {\n    loadPoolsToMigrate();\n  }\n});\n\nloadTokens();\nrouter.onReady((route: Route) => {\n  [route.query.from, route.query.to, route.params.token].forEach(assetSlug => {\n    if (assetSlug && assetSlug !== \"tez\") {\n      try {\n        const [tokenAddress, fa2TokenId] = (assetSlug as any).split(\"_\");\n        loadCustomTokenIfExist(tokenAddress, fa2TokenId);\n      } catch {}\n    }\n  });\n});\n\nexport async function loadTokens() {\n  try {\n    store.commit(\"tokensLoading\", true);\n    store.commit(\"tokens\", await getTokens());\n  } catch (err) {\n    console.error(err);\n  } finally {\n    store.commit(\"tokensLoading\", false);\n  }\n}\n\nexport async function loadCustomTokenIfExist(\n  contractAddress: string,\n  fa2TokenId?: number\n) {\n  try {\n    const currentCustom = getCustomTokens();\n    if (\n      filteredWhitelist.some(wt =>\n        wt.fa2TokenId !== undefined\n          ? wt.contractAddress === contractAddress &&\n            wt.fa2TokenId === fa2TokenId\n          : wt.contractAddress === contractAddress\n      ) ||\n      currentCustom.some((ct: QSAsset) =>\n        ct.tokenType === QSTokenType.FA2\n          ? ct.id === contractAddress && ct.fa2TokenId === fa2TokenId\n          : ct.id === contractAddress\n      )\n    ) {\n      return;\n    }\n\n    const metadata = await getTokenMetadata(contractAddress, fa2TokenId);\n    addCustomToken({\n      type: \"token\" as const,\n      tokenType: fa2TokenId !== undefined ? QSTokenType.FA2 : QSTokenType.FA1_2,\n      id: contractAddress,\n      fa2TokenId,\n      decimals: metadata.decimals,\n      symbol: metadata.symbol,\n      name: metadata.name,\n      imgUrl: formatImgUri(metadata.thumbnailUri),\n      exchange: \"\",\n    });\n  } catch {}\n}\n\nexport function addCustomToken(token: QSAsset) {\n  try {\n    const current = getCustomTokens();\n    const net = getNetwork();\n    localStorage.setItem(\n      `custom_tokens_v1.2_${net.id}`,\n      JSON.stringify([token, ...current])\n    );\n  } catch {}\n  store.commit(\"addToken\", token);\n}\n\nfunction removeBrokenTokens(addresses: string[]) {\n  try {\n    const net = getNetwork();\n    const brokenTokensRemoved =\n      localStorage.getItem(`broken_tokens_removed_${net.id}`) === \"true\";\n\n    if (!brokenTokensRemoved) {\n      const cachedStr = localStorage.getItem(`custom_tokens_v1.2_${net.id}`);\n      if (cachedStr) {\n        const cached = JSON.parse(cachedStr);\n        localStorage.setItem(\n          `custom_tokens_v1.2_${net.id}`,\n          JSON.stringify(\n            cached.filter((t: QSAsset) => !addresses.includes(t.id))\n          )\n        );\n      }\n\n      localStorage.setItem(`broken_tokens_removed_${net.id}`, \"true\");\n    }\n  } catch {}\n}\n\nremoveBrokenTokens([\"KT1ErKVqEhG9jxXgUG2KGLW3bNM7zXHX8SDF\"]);\n\nconst beaconWallet = new BeaconWallet({\n  name: \"Quipuswap\",\n  iconUrl: LOGO_URL,\n  preferredNetwork: (() => {\n    const net = getNetwork();\n    if (!(net.connectType === \"custom\" && net.type === \"test\")) {\n      return toBeaconNetworkType(net.id);\n    }\n  })(),\n});\n\nexport async function connectTempleWalletWrapper(){\n  const net = getNetwork();\n\n  const response = await connectTempleWallet(net.id);\n  \n  if (response?.errors) {\n      // const message = extractErrorMessage(response.errors, 'Failed to connect to temple wallet')\n      console.log(response.errors)\n      return\n  }\n  if (response?.data?.connectTempleWallet) {\n    \n      const resp: any = response?.data?.connectTempleWallet;\n\n      setLastUsedConnect(\"temple\");\n      if (getAccount().pkh !== resp?.pkh) {\n        setAccount(resp?.pkh);\n      }\n      \n      return\n  }\n}\n\nexport async function useWallet(\n  connectType?: \"temple\" | \"beacon\",\n  forcePermission = false\n) {\n  if (!forcePermission && !getAccount().pkh) {\n    throw new Error(\"Not connected\");\n  }\n\n  if (!connectType) {\n    const last = getLastUsedConnect();\n    if (!last) {\n      signout();\n      throw new Error(\"Not connected\");\n    }\n\n    connectType = last;\n  }\n\n  return connectType === \"temple\"\n    ? useWalletTemple(forcePermission)\n    : useWalletBeacon(forcePermission);\n}\n\nclass PatchedTempleWallet extends TempleWallet {\n  async sendOperations(opParams: any[]) {\n    return super.sendOperations(opParams.map(removeFeeAndLimit));\n  }\n}\n\nfunction removeFeeAndLimit(op: any) {\n  const { fee, gas_limit, storage_limit, ...rest } = op;\n  return rest;\n}\n\nasync function useWalletTemple(forcePermission: boolean) {\n  const net = getNetwork();\n  \n  const available = await TempleWallet.isAvailable();\n  if (!available) {\n    throw new Error(\"Temple Wallet not installed\");\n  }\n\n  let perm;\n  if (!forcePermission) {\n    perm = await TempleWallet.getCurrentPermission();\n  }\n\n  console.log(\" ### Temp Wallet ### \");\n\n  console.log(\"perm\");\n  console.log(perm);\n\n  const wallet = new PatchedTempleWallet(\"Quipuswap\", perm);\n\n  if (!wallet.connected) {\n    await wallet.connect(\n      net.connectType === \"default\"\n        ? (net.id as any)\n        : {\n            name: net.name,\n            rpc: net.rpcBaseURL,\n          },\n      { forcePermission: true }\n    );\n  }\n\n  const tezos = wallet.toTezos();\n  tezos.setPackerProvider(michelEncoder);\n  const { pkh, publicKey } = wallet.permission!;\n  tezos.setSignerProvider(new ReadOnlySigner(pkh, publicKey));\n\n\n  console.log(\"pkh & publicKey\");\n  console.log(pkh);\n  console.log(publicKey);\n\n\n  setLastUsedConnect(\"temple\");\n  if (getAccount().pkh !== pkh) {\n    setAccount(pkh);\n  }\n  return tezos;\n}\n\nasync function useWalletBeacon(forcePermission: boolean) {\n  const net = getNetwork();\n\n  const activeAccount = await beaconWallet.client.getActiveAccount();\n  if (forcePermission || !activeAccount) {\n    if (activeAccount) {\n      await beaconWallet.clearActiveAccount();\n    }\n    await beaconWallet.requestPermissions({\n      network:\n        net.connectType === \"custom\" && net.type === \"test\"\n          ? {\n              type: NetworkType.CUSTOM,\n              name: net.name,\n              rpcUrl: net.rpcBaseURL,\n            }\n          : {\n              type: toBeaconNetworkType(net.id),\n            },\n    });\n  }\n\n  const tezos = new TezosToolkit(net.rpcBaseURL);\n  tezos.setPackerProvider(michelEncoder);\n  tezos.setWalletProvider(beaconWallet);\n  const activeAcc = await beaconWallet.client.getActiveAccount();\n  if (!activeAcc) {\n    throw new Error(\"Not connected\");\n  }\n\n  tezos.setSignerProvider(\n    new ReadOnlySigner(activeAcc.address, activeAcc.publicKey)\n  );\n  setLastUsedConnect(\"beacon\");\n  if (getAccount().pkh !== activeAcc.address) {\n    setAccount(activeAcc.address);\n  }\n  return tezos;\n}\n\nexport function getAccount() {\n  return store.state.account;\n}\n\nexport function setAccount(pkh: string) {\n  localStorage.setItem(\"accpkh\", pkh);\n  store.commit(\"account\", { pkh });\n}\n\nexport function signout() {\n  cleanLastUsedConnect();\n  localStorage.removeItem(\"accpkh\");\n  store.commit(\"account\", { pkh: \"\" });\n}\n\nfunction getAccountInitial() {\n  const pkh = localStorage.getItem(\"accpkh\");\n  return { pkh: pkh || \"\" };\n}\n\nfunction toBeaconNetworkType(netId: string): any {\n  return netId === \"edo2net\" ? \"edonet\" : netId;\n}\n\nfunction getLastUsedConnect() {\n  return localStorage.getItem(\"last-used-connect\") as\n    | \"temple\"\n    | \"beacon\"\n    | null;\n}\n\nfunction setLastUsedConnect(val: \"temple\" | \"beacon\") {\n  return localStorage.setItem(\"last-used-connect\", val);\n}\n\nfunction cleanLastUsedConnect() {\n  localStorage.removeItem(\"last-used-connect\");\n}\n\nexport async function getTokenPairs(){\n  const net = getNetwork();\n\n  const response = await listTokenPairs(net.id);\n  \n  if (response?.errors) {\n      console.log(response.errors)\n      return\n  }\n  if (response?.data?.listTokenPairs) {\n      const resp:any = response?.data?.listTokenPairs;\n      // console.log(\"getTokenPairs\");\n      // console.log(resp);\n      localStorage.setItem(\"listTokenPairs\", resp);\n      return\n  }\n}\n\nexport async function getTokenPairsID(token_a_address, token_b_address){\n\n  let listTokenPairs:any = localStorage.getItem(\"listTokenPairs\");  \n  let respose_pairid = null;\n\n  if(listTokenPairs != undefined){\n\n    let listTokenPairs_arr:any = JSON.parse(listTokenPairs);\n\n    listTokenPairs_arr.forEach(myFunction);\n\n    function myFunction(item) {\n      const token_a_fa2 = item?.token_a?.fa2?.token_address\n      const token_a_fa12 = item?.token_a?.fa12\n      const token_b_fa2 = item?.token_b?.fa2?.token_address\n      const token_b_fa12 = item?.token_b?.fa12\n\n      const tokens = [token_a_fa2, token_a_fa12, token_b_fa2, token_b_fa12];\n    \n      if(tokens.includes(token_a_address) && tokens.includes(token_b_address) ){\n        respose_pairid = item.pair_id;\n      }\n\n    }\n  }\n\n  return respose_pairid\n\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Component,\n  Vue,\n  Watch\n} from \"vue-property-decorator\";\nimport Loader from \"@/components/Loader.vue\";\nimport {\n  ALL_NETWORKS,\n  XTZ_TOKEN,\n  QSNetwork,\n  getBalance,\n  getNetwork,\n  setNetwork,\n} from \"@/core\";\nimport {\n  getAccount,\n  signout,\n  useWallet,\n  connectTempleWalletWrapper,\n  getTokenPairs,\n} from \"@/store\";\n\n\n@Component({\n  components: {\n    Loader\n  },\n})\n\nexport default class App extends Vue {\n  \n  networkSelectOpened = false;\n  selectedNetwork = getNetwork();\n\n\n  accountBalance: string | null = null;\n  accountLabelHovered = false;\n\n  get V1_0Url() {\n    return process.env.VUE_APP_OLD_QUIPUSWAP_URL;\n  }\n\n  get allNetworks() {\n    return ALL_NETWORKS;\n  }\n\n  get account() {\n    return getAccount();\n  }\n\n  get accountLabel() {\n    if (this.accountLabelHovered) return `Change account`;\n    if (!this.account.pkh) return \"\";\n\n    const ln = this.account.pkh.length;\n    return [\n      this.account.pkh.slice(0, 9),\n      \"...\",\n      this.account.pkh.slice(ln - 7, ln),\n    ].join(\"\");\n  }\n\n  created() {\n    this.loadAccBalance();\n    getTokenPairs();\n  }\n\n  @Watch(\"account\")\n  onAccountChange() {\n    this.loadAccBalance();\n  }\n\n  async loadAccBalance() {\n    this.accountBalance = null;\n    if (this.account.pkh) {\n      const bal = await getBalance(this.account.pkh, XTZ_TOKEN);\n      this.accountBalance = bal.toFormat(2);\n    }\n  }\n\n  toggleNetworkSelect() {\n    this.networkSelectOpened = !this.networkSelectOpened;\n  }\n\n  selectNetwork(net: QSNetwork) {\n    if (net.disabled) return;\n\n    this.networkSelectOpened = false;\n    this.selectedNetwork = net;\n\n    if (getNetwork().id !== net.id) {\n      setNetwork(net);\n    }\n  }\n\n  \n\n  handleConnectTemple() {\n    // this.connectWallet(\"temple\", true);\n    connectTempleWalletWrapper();\n  }\n\n  handleConnectBeacon() {\n    this.connectWallet(\"beacon\", true);\n  }\n\n  handleReconnect() {\n    this.connectWallet(undefined, true);\n  }\n\n  logout() {\n    signout();\n  }\n\n  connectWallet = async (connectType ? : \"temple\" | \"beacon\", forcePermission = false) => {\n    try {\n      await useWallet(connectType, forcePermission);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n}\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=67de635d&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import \"vue-toastification/dist/index.css\";\nimport \"./main.css\";\n\nimport \"reflect-metadata\";\nimport \"unfetch/polyfill\";\n\nimport Vue from \"vue\";\nimport VueSimpleAlert from \"vue-simple-alert\";\nimport * as NP from \"number-precision\";\nimport Toast from \"vue-toastification\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nVue.config.productionTip = false;\nVue.use(VueSimpleAlert);\nVue.use(Toast, {\n  position: \"bottom-right\",\n  transition: \"Vue-Toastification__fade\",\n});\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount(\"#app\");\n\nNP.enableBoundaryChecking(false);\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormField.vue?vue&type=style&index=0&id=241b12c6&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormField.vue?vue&type=style&index=0&id=241b12c6&lang=postcss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavGovernance.vue?vue&type=style&index=0&id=5675fdc6&lang=postcss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavGovernance.vue?vue&type=style&index=0&id=5675fdc6&lang=postcss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABdSURBVHgB7ZLBCYAwEAT3gliPpfi+l3ZiJ7ZgHYpgJ37iN6eCTzeQfJOBhYNhX7cA4Vy180+Yb5hoBf13Hn/eIZMSiuJ3HZzJnFIKwUYqr02nN8zXd0SgIzfDggg3uCQVKijgZJMAAAAASUVORK5CYII=\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GetOperationStatusSupportedNetworksEnum = void 0;\nvar GetOperationStatusSupportedNetworksEnum;\n(function (GetOperationStatusSupportedNetworksEnum) {\n    GetOperationStatusSupportedNetworksEnum[GetOperationStatusSupportedNetworksEnum[\"mainnet\"] = 0] = \"mainnet\";\n    GetOperationStatusSupportedNetworksEnum[GetOperationStatusSupportedNetworksEnum[\"hangzhounet\"] = 1] = \"hangzhounet\";\n    GetOperationStatusSupportedNetworksEnum[GetOperationStatusSupportedNetworksEnum[\"granadanet\"] = 2] = \"granadanet\";\n})(GetOperationStatusSupportedNetworksEnum = exports.GetOperationStatusSupportedNetworksEnum || (exports.GetOperationStatusSupportedNetworksEnum = {}));\n/// Imported Objects START ///\n/// Imported Objects END ///\n/// Imported Queries START ///\n/// Imported Queries END ///\n//# sourceMappingURL=types.js.map"],"sourceRoot":""}